(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3841],{4663:(t,e,n)=>{"use strict";n.d(e,{g:()=>o,M:()=>s});var r=n(17867),i=n(81616),o="onRemoveFromFuture",s=function(t){function e(e,n,r){var i=t.call(this)||this;return i.future=[],i.maxAttempts=e,i.queue=n,i.seen=null!=r?r:{},i}return(0,r.C6)(e,t),e.prototype.push=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.map(function(e){return!(t.updateAttempts(e)>t.maxAttempts||t.includes(e))&&(t.queue.push(e),!0)});return this.queue=this.queue.sort(function(e,n){return t.getAttempts(e)-t.getAttempts(n)}),r},e.prototype.pushWithBackoff=function(t,e){var n,r,i,s,a,u=this;if(void 0===e&&(e=0),0==e&&0===this.getAttempts(t))return this.push(t)[0];var c=this.updateAttempts(t);if(c>this.maxAttempts||this.includes(t))return!1;var l=(n={attempt:c-1},r=Math.random()+1,i=n.minTimeout,s=n.factor,Math.min(r*(void 0===i?500:i)*Math.pow(void 0===s?2:s,n.attempt),void 0===(a=n.maxTimeout)?1/0:a));return e>0&&l<e&&(l=e),setTimeout(function(){u.queue.push(t),u.future=u.future.filter(function(e){return e.id!==t.id}),u.emit(o)},l),this.future.push(t),!0},e.prototype.getAttempts=function(t){var e;return null!=(e=this.seen[t.id])?e:0},e.prototype.updateAttempts=function(t){return this.seen[t.id]=this.getAttempts(t)+1,this.getAttempts(t)},e.prototype.includes=function(t){return this.queue.includes(t)||this.future.includes(t)||!!this.queue.find(function(e){return e.id===t.id})||!!this.future.find(function(e){return e.id===t.id})},e.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(e.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),e}(i.v)},5270:(t,e)=>{"use strict";var n=/\d{10}/;e.is=function(t){return n.test(t)},e.parse=function(t){return new Date(1e3*parseInt(t,10))}},6763:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Facade=void 0;var i=r(n(17883)),o=n(66166),s=r(n(30481)),a=r(n(18515)),u=r(n(99850)),c=r(n(77840));function l(t,e){e=e||{},this.raw=o.clone(t),"clone"in e||(e.clone=!0),e.clone&&(t=o.clone(t)),"traverse"in e||(e.traverse=!0),"timestamp"in t?t.timestamp=a.default(t.timestamp):t.timestamp=new Date,e.traverse&&c.default(t),this.opts=e,this.obj=t}e.Facade=l;var f=l.prototype;function p(t){return o.clone(t)}f.proxy=function(t){var e=t.split("."),n=this[t=e.shift()]||this.obj[t];return n?("function"==typeof n&&(n=n.call(this)||{}),0===e.length||(n=u.default(n,e.join("."))),this.opts.clone?p(n):n):n},f.field=function(t){var e=this.obj[t];return this.opts.clone?p(e):e},l.proxy=function(t){return function(){return this.proxy(t)}},l.field=function(t){return function(){return this.field(t)}},l.multi=function(t){return function(){var e=this.proxy(t+"s");if(Array.isArray(e))return e;var n=this.proxy(t);return n&&(n=[this.opts.clone?o.clone(n):n]),n||[]}},l.one=function(t){return function(){var e=this.proxy(t);if(e)return e;var n=this.proxy(t+"s");if(Array.isArray(n))return n[0]}},f.json=function(){var t=this.opts.clone?o.clone(this.obj):this.obj;return this.type&&(t.type=this.type()),t},f.rawEvent=function(){return this.raw},f.options=function(t){var e=this.obj.options||this.obj.context||{},n=this.opts.clone?o.clone(e):e;if(!t)return n;if(this.enabled(t)){var r=this.integrations(),i=r[t]||u.default(r,t);return"object"!=typeof i&&(i=u.default(this.options(),t)),"object"==typeof i?i:{}}},f.context=f.options,f.enabled=function(t){var e=this.proxy("options.providers.all");"boolean"!=typeof e&&(e=this.proxy("options.all")),"boolean"!=typeof e&&(e=this.proxy("integrations.all")),"boolean"!=typeof e&&(e=!0);var n=e&&s.default(t),r=this.integrations();if(r.providers&&r.providers.hasOwnProperty(t)&&(n=r.providers[t]),r.hasOwnProperty(t)){var i=r[t];n="boolean"!=typeof i||i}return!!n},f.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},f.active=function(){var t=this.proxy("options.active");return null==t&&(t=!0),t},f.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},f.sessionId=f.anonymousId,f.groupId=l.proxy("options.groupId"),f.traits=function(t){var e=this.proxy("options.traits")||{},n=this.userId();for(var r in t=t||{},n&&(e.id=n),t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=null==this[r]?this.proxy("options.traits."+r):this[r]();if(null==i)continue;e[t[r]]=i,delete e[r]}return e},f.library=function(){var t=this.proxy("options.library");return t?"string"==typeof t?{name:t,version:null}:t:{name:"unknown",version:null}},f.device=function(){var t=this.proxy("context.device");("object"!=typeof t||null===t)&&(t={});var e=this.library().name;return t.type||(e.indexOf("ios")>-1&&(t.type="ios"),e.indexOf("android")>-1&&(t.type="android")),t},f.userAgent=l.proxy("context.userAgent"),f.timezone=l.proxy("context.timezone"),f.timestamp=l.field("timestamp"),f.channel=l.field("channel"),f.ip=l.proxy("context.ip"),f.userId=l.field("userId"),i.default(f)},8565:(t,e,n)=>{"use strict";n.d(e,{p:()=>i,r:()=>o});var r=n(17867),i=function(){function t(){this.metrics=[]}return t.prototype.increment=function(t,e,n){void 0===e&&(e=1),this.metrics.push({metric:t,value:e,tags:null!=n?n:[],type:"counter",timestamp:Date.now()})},t.prototype.gauge=function(t,e,n){this.metrics.push({metric:t,value:e,tags:null!=n?n:[],type:"gauge",timestamp:Date.now()})},t.prototype.flush=function(){var t=this.metrics.map(function(t){return(0,r.Cl)((0,r.Cl)({},t),{tags:t.tags.join(",")})});console.table?console.table(t):console.log(t),this.metrics=[]},t.prototype.serialize=function(){return this.metrics.map(function(t){return{m:t.metric,v:t.value,t:t.tags,k:({gauge:"g",counter:"c"})[t.type],e:t.timestamp}})},t}(),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.C6)(e,t),e.prototype.gauge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.increment=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.flush=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.serialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return[]},e}(i)},9540:(t,e,n)=>{"use strict";n.d(e,{a:()=>r});var r="api.segment.io/v1"},9984:(t,e,n)=>{"use strict";n.d(e,{r:()=>r});var r="1.81.1"},10716:(t,e,n)=>{"use strict";n.d(e,{v4:()=>s});for(var r,i=256,o=[];i--;)o[i]=(i+256).toString(16).substring(1);function s(){var t,e=0,n="";if(!r||i+16>256){for(r=Array(e=256);e--;)r[e]=256*Math.random()|0;e=i=0}for(;e<16;e++)t=r[i+e],6==e?n+=o[15&t|64]:8==e?n+=o[63&t|128]:n+=o[t],1&e&&e>1&&e<11&&(n+="-");return i++,n}},11345:(t,e,n)=>{"use strict";n.d(e,{J:()=>i});var r=n(17867);function i(t,e){var n,i=Object.entries(null!=(n=e.integrations)?n:{}).reduce(function(t,e){var n,i,o=e[0],s=e[1];return"object"==typeof s?(0,r.Cl)((0,r.Cl)({},t),((n={})[o]=s,n)):(0,r.Cl)((0,r.Cl)({},t),((i={})[o]={},i))},{});return Object.entries(t.integrations).reduce(function(t,e){var n,o=e[0],s=e[1];return(0,r.Cl)((0,r.Cl)({},t),((n={})[o]=(0,r.Cl)((0,r.Cl)({},s),i[o]),n))},{})}},13313:(t,e,n)=>{"use strict";n.d(e,{m:()=>r});let r=()=>{let t="";try{t=window.location.hostname.split(".").reverse().splice(0,3).reverse().join(".")}catch(t){console.error(t)}let e=t?"https://".concat(t):t;return"".concat(e,"/api/supergraph")}},13459:(t,e,n)=>{"use strict";n.d(e,{C:()=>c,E:()=>y,T:()=>f,c:()=>h,h:()=>p,w:()=>l});var r=n(7620),i=n(41828),o=n(69918),s=n(84404),a=n(69284),u=r.createContext("undefined"!=typeof HTMLElement?(0,i.A)({key:"css"}):null),c=u.Provider,l=function(t){return(0,r.forwardRef)(function(e,n){return t(e,(0,r.useContext)(u),n)})},f=r.createContext({}),p={}.hasOwnProperty,d="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",h=function(t,e){var n={};for(var r in e)p.call(e,r)&&(n[r]=e[r]);return n[d]=t,n},v=function(t){var e=t.cache,n=t.serialized,r=t.isStringTag;return(0,o.SF)(e,n,r),(0,a.s)(function(){return(0,o.sk)(e,n,r)}),null},y=l(function(t,e,n){var i=t.css;"string"==typeof i&&void 0!==e.registered[i]&&(i=e.registered[i]);var a=t[d],u=[i],c="";"string"==typeof t.className?c=(0,o.Rk)(e.registered,u,t.className):null!=t.className&&(c=t.className+" ");var l=(0,s.J)(u,void 0,r.useContext(f));c+=e.key+"-"+l.name;var h={};for(var y in t)p.call(t,y)&&"css"!==y&&y!==d&&(h[y]=t[y]);return h.className=c,n&&(h.ref=n),r.createElement(r.Fragment,null,r.createElement(v,{cache:e,serialized:l,isStringTag:"string"==typeof a}),r.createElement(a,h))})},17867:(t,e,n)=>{"use strict";n.d(e,{C6:()=>i,Cl:()=>o,Tt:()=>s,YH:()=>u,fX:()=>c,sH:()=>a});var r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function a(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){var c=[a,u];if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(6===c[0]&&o.label<i[1]){o.label=i[1],i=c;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(t,o)}catch(t){c=[6,t],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}Object.create;function c(t,e,n){if(n||2==arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create,"function"==typeof SuppressedError&&SuppressedError},17883:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(99850));function o(t,e){return function(){var n=this.traits(),r=this.properties?this.properties():{};return i.default(n,"address."+t)||i.default(n,t)||(e?i.default(n,"address."+e):null)||(e?i.default(n,e):null)||i.default(r,"address."+t)||i.default(r,t)||(e?i.default(r,"address."+e):null)||(e?i.default(r,e):null)}}e.default=function(t){t.zip=o("postalCode","zip"),t.country=o("country"),t.street=o("street"),t.state=o("state"),t.city=o("city"),t.region=o("region")}},18515:(t,e,n)=>{"use strict";var r=n(69001),i=n(85871),o=n(5270),s=Object.prototype.toString;t.exports=function(t){var e;if("[object Date]"===s.call(t))return t;return"[object Number]"===s.call(t)?new Date((e=t)<315576e5?1e3*e:e):r.is(t)?r.parse(t):i.is(t)?i.parse(t):o.is(t)?o.parse(t):new Date(t)}},19757:(t,e,n)=>{"use strict";n.d(e,{Q:()=>r});let r="\n  query fetchIdentity {\n    globalIdentityProfile {\n      firstName\n    }\n    identity {\n      id\n      email\n      sheaId\n      isNerdWalletPlusMember\n    }\n    isUserLoggedInToWP\n  }\n"},20550:(t,e,n)=>{"use strict";n.d(e,{d:()=>u,j:()=>c});var r=n(10716),i=n(94968),o=n(17867),s=function(){function t(){this._logs=[]}return t.prototype.log=function(t,e,n){var r=new Date;this._logs.push({level:t,message:e,time:r,extras:n})},Object.defineProperty(t.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),t.prototype.flush=function(){if(this.logs.length>1){var t=this._logs.reduce(function(t,e){var n,r,i,s=(0,o.Cl)((0,o.Cl)({},e),{json:JSON.stringify(e.extras,null," "),extras:e.extras});delete s.time;var a=null!=(i=null==(r=e.time)?void 0:r.toISOString())?i:"";return t[a]&&(a="".concat(a,"-").concat(Math.random())),(0,o.Cl)((0,o.Cl)({},t),((n={})[a]=s,n))},{});console.table?console.table(t):console.log(t)}else this.logs.forEach(function(t){var e=t.level,n=t.message,r=t.extras;"info"===e||"debug"===e?console.log(n,null!=r?r:""):console[e](n,null!=r?r:"")});this._logs=[]},t}(),a=n(8565),u=function(t){var e,n,r;this.retry=null==(e=t.retry)||e,this.type=null!=(n=t.type)?n:"plugin Error",this.reason=null!=(r=t.reason)?r:""},c=function(){function t(t,e,n,i){void 0===e&&(e=(0,r.v4)()),void 0===n&&(n=new a.r),void 0===i&&(i=new s),this.attempts=0,this.event=t,this._id=e,this.logger=i,this.stats=n}return t.system=function(){},t.prototype.isSame=function(t){return t.id===this.id},t.prototype.cancel=function(t){if(t)throw t;throw new u({reason:"Context Cancel"})},t.prototype.log=function(t,e,n){this.logger.log(t,e,n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t.prototype.updateEvent=function(t,e){var n;if("integrations"===t.split(".")[0]){var r=t.split(".")[1];if((null==(n=this.event.integrations)?void 0:n[r])===!1)return this.event}return(0,i.J)(this.event,t,e),this.event},t.prototype.failedDelivery=function(){return this._failedDelivery},t.prototype.setFailedDelivery=function(t){this._failedDelivery=t},t.prototype.logs=function(){return this.logger.logs},t.prototype.flush=function(){this.logger.flush(),this.stats.flush()},t.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},t}()},21407:(t,e,n)=>{"use strict";n.d(e,{u:()=>r});var r=function(){var t,e,n=!1,r=new Promise(function(r,i){t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n=!0,r.apply(void 0,t)},e=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n=!0,i.apply(void 0,t)}});return{resolve:t,reject:e,promise:r,isSettled:function(){return n}}}},22687:(t,e,n)=>{"use strict";n.d(e,{C:()=>o,D:()=>s});var r=n(17867),i=n(20550);function o(t,e){t.log("debug","plugin",{plugin:e.name});var n=new Date().getTime(),o=e[t.event.type];return void 0===o?Promise.resolve(t):(function(t){return(0,r.sH)(this,void 0,void 0,function(){return(0,r.YH)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,t()];case 1:return[2,e.sent()];case 2:return[2,Promise.reject(e.sent())];case 3:return[2]}})})})(function(){return o.apply(e,[t])}).then(function(t){var r=new Date().getTime()-n;return t.stats.gauge("plugin_time",r,["plugin:".concat(e.name)]),t}).catch(function(n){if(n instanceof i.d&&"middleware_cancellation"===n.type)throw n;return n instanceof i.d?t.log("warn",n.type,{plugin:e.name,error:n}):(t.log("error","plugin Error",{plugin:e.name,error:n}),t.stats.increment("plugin_error",1,["plugin:".concat(e.name)])),n})}function s(t,e){return o(t,e).then(function(e){if(e instanceof i.j)return e;t.log("debug","Context canceled"),t.stats.increment("context_canceled"),t.cancel(e)})}},23437:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Screen=void 0;var i=r(n(45381)),o=n(56726),s=n(95060);function a(t,e){o.Page.call(this,t,e)}e.Screen=a,i.default(a,o.Page),a.prototype.action=function(){return"screen"},a.prototype.type=a.prototype.action,a.prototype.event=function(t){return t?"Viewed "+t+" Screen":"Loaded a Screen"},a.prototype.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new s.Track(e,this.opts)}},25461:(t,e,n)=>{"use strict";function r(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}}n.d(e,{p:()=>r})},27086:(t,e,n)=>{"use strict";function r(t){return"string"==typeof t}function i(t){return"number"==typeof t}function o(t){return"function"==typeof t}function s(t){return null!=t}function a(t){return"object"===Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}n.d(e,{Et:()=>i,Kg:()=>r,Qd:()=>a,Tn:()=>o,t2:()=>s})},28925:t=>{"use strict";t.exports=self.fetch.bind(self),t.exports.default=t.exports},30481:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={Salesforce:!0};e.default=function(t){return!n[t]}},35436:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=/.+\@.+\..+/;e.default=function(t){return n.test(t)}},37718:(t,e,n)=>{"use strict";n.d(e,{h:()=>s});var r=n(28925),i=n.n(r),o=n(84070),s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,o.m)();return(n&&n.fetch||i()).apply(void 0,t)}},41249:(t,e,n)=>{"use strict";function r(){return"npm"}n.d(e,{X:()=>r})},41828:(t,e,n)=>{"use strict";n.d(e,{A:()=>U});var r=n(79104),i=Math.abs,o=String.fromCharCode,s=Object.assign;function a(t,e,n){return t.replace(e,n)}function u(t,e){return t.indexOf(e)}function c(t,e){return 0|t.charCodeAt(e)}function l(t,e,n){return t.slice(e,n)}function f(t){return t.length}function p(t,e){return e.push(t),t}var d=1,h=1,v=0,y=0,g=0,m="";function b(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:d,column:h,length:s,return:""}}function w(t,e){return s(b("",null,null,"",null,null,0),t,{length:-t.length},e)}function _(){return g=y<v?c(m,y++):0,h++,10===g&&(h=1,d++),g}function x(){return c(m,y)}function k(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function S(t){return d=h=1,v=f(m=t),y=0,[]}function C(t){var e,n;return(e=y-1,n=function t(e){for(;_();)switch(g){case e:return y;case 34:case 39:34!==e&&39!==e&&t(g);break;case 40:41===e&&t(e);break;case 92:_()}return y}(91===t?t+2:40===t?t+1:t),l(m,e,n)).trim()}var I="-ms-",E="-moz-",O="-webkit-",j="comm",A="rule",P="decl",M="@keyframes";function H(t,e){for(var n="",r=t.length,i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function F(t,e,n,r){switch(t.type){case"@layer":if(t.children.length)break;case"@import":case P:return t.return=t.return||t.value;case j:return"";case M:return t.return=t.value+"{"+H(t.children,r)+"}";case A:t.value=t.props.join(",")}return f(n=H(t.children,r))?t.return=t.value+"{"+n+"}":""}function N(t,e,n,r,o,s,u,c,f,p,d){for(var h=o-1,v=0===o?s:[""],y=v.length,g=0,m=0,w=0;g<r;++g)for(var _=0,x=l(t,h+1,h=i(m=u[g])),k=t;_<y;++_)(k=(m>0?v[_]+" "+x:a(x,/&\f/g,v[_])).trim())&&(f[w++]=k);return b(t,e,n,0===o?A:c,f,p,d)}function D(t,e,n,r){return b(t,e,n,P,l(t,0,r),l(t,r+1,-1),r)}var L=function(t,e,n){for(var r=0,i=0;r=i,i=x(),38===r&&12===i&&(e[n]=1),!k(i);)_();return l(m,t,y)},T=function(t,e){var n=-1,r=44;do switch(k(r)){case 0:38===r&&12===x()&&(e[n]=1),t[n]+=L(y-1,e,n);break;case 2:t[n]+=C(r);break;case 4:if(44===r){t[++n]=58===x()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=o(r)}while(r=_());return t},q=function(t,e){var n;return n=T(S(t),e),m="",n},Y=new WeakMap,R=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||Y.get(n))&&!r){Y.set(t,!0);for(var i=[],o=q(e,i),s=n.props,a=0,u=0;a<o.length;a++)for(var c=0;c<s.length;c++,u++)t.props[u]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},z=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}},K=[function(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case P:t.return=function t(e,n){switch(45^c(e,0)?(((n<<2^c(e,0))<<2^c(e,1))<<2^c(e,2))<<2^c(e,3):0){case 5103:return O+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return O+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return O+e+E+e+I+e+e;case 6828:case 4268:return O+e+I+e+e;case 6165:return O+e+I+"flex-"+e+e;case 5187:return O+e+a(e,/(\w+).+(:[^]+)/,O+"box-$1$2"+I+"flex-$1$2")+e;case 5443:return O+e+I+"flex-item-"+a(e,/flex-|-self/,"")+e;case 4675:return O+e+I+"flex-line-pack"+a(e,/align-content|flex-|-self/,"")+e;case 5548:return O+e+I+a(e,"shrink","negative")+e;case 5292:return O+e+I+a(e,"basis","preferred-size")+e;case 6060:return O+"box-"+a(e,"-grow","")+O+e+I+a(e,"grow","positive")+e;case 4554:return O+a(e,/([^-])(transform)/g,"$1"+O+"$2")+e;case 6187:return a(a(a(e,/(zoom-|grab)/,O+"$1"),/(image-set)/,O+"$1"),e,"")+e;case 5495:case 3959:return a(e,/(image-set\([^]*)/,O+"$1$`$1");case 4968:return a(a(e,/(.+:)(flex-)?(.*)/,O+"box-pack:$3"+I+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+O+e+e;case 4095:case 3583:case 4068:case 2532:return a(e,/(.+)-inline(.+)/,O+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(f(e)-1-n>6)switch(c(e,n+1)){case 109:if(45!==c(e,n+4))break;case 102:return a(e,/(.+:)(.+)-([^]+)/,"$1"+O+"$2-$3$1"+E+(108==c(e,n+3)?"$3":"$2-$3"))+e;case 115:return~u(e,"stretch")?t(a(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(115!==c(e,n+1))break;case 6444:switch(c(e,f(e)-3-(~u(e,"!important")&&10))){case 107:return a(e,":",":"+O)+e;case 101:return a(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+O+(45===c(e,14)?"inline-":"")+"box$3$1"+O+"$2$3$1"+I+"$2box$3")+e}break;case 5936:switch(c(e,n+11)){case 114:return O+e+I+a(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return O+e+I+a(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return O+e+I+a(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return O+e+I+e+e}return e}(t.value,t.length);break;case M:return H([w(t,{value:a(t.value,"@","@"+O)})],r);case A:if(t.length){var i,o;return i=t.props,o=function(e){var n;switch(n=e,(n=/(::plac\w+|:read-\w+)/.exec(n))?n[0]:n){case":read-only":case":read-write":return H([w(t,{props:[a(e,/:(read-\w+)/,":"+E+"$1")]})],r);case"::placeholder":return H([w(t,{props:[a(e,/:(plac\w+)/,":"+O+"input-$1")]}),w(t,{props:[a(e,/:(plac\w+)/,":"+E+"$1")]}),w(t,{props:[a(e,/:(plac\w+)/,I+"input-$1")]})],r)}return""},i.map(o).join("")}}}],U=function(t){var e,n,i,s,v,w=t.key;if("css"===w){var I=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(I,function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))})}var E=t.stylisPlugins||K,O={},A=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+w+' "]'),function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)O[e[n]]=!0;A.push(t)});var P=(n=(e=[R,z].concat(E,[F,(i=function(t){v.insert(t)},function(t){!t.root&&(t=t.return)&&i(t)})])).length,function(t,r,i,o){for(var s="",a=0;a<n;a++)s+=e[a](t,r,i,o)||"";return s}),M=function(t){var e,n;return H((n=function t(e,n,r,i,s,v,w,S,I){for(var E,O=0,A=0,P=w,M=0,H=0,F=0,L=1,T=1,q=1,Y=0,R="",z=s,K=v,U=i,$=R;T;)switch(F=Y,Y=_()){case 40:if(108!=F&&58==c($,P-1)){-1!=u($+=a(C(Y),"&","&\f"),"&\f")&&(q=-1);break}case 34:case 39:case 91:$+=C(Y);break;case 9:case 10:case 13:case 32:$+=function(t){for(;g=x();)if(g<33)_();else break;return k(t)>2||k(g)>3?"":" "}(F);break;case 92:$+=function(t,e){for(var n;--e&&_()&&!(g<48)&&!(g>102)&&(!(g>57)||!(g<65))&&(!(g>70)||!(g<97)););return n=y+(e<6&&32==x()&&32==_()),l(m,t,n)}(y-1,7);continue;case 47:switch(x()){case 42:case 47:p((E=function(t,e){for(;_();)if(t+g===57)break;else if(t+g===84&&47===x())break;return"/*"+l(m,e,y-1)+"*"+o(47===t?t:_())}(_(),y),b(E,n,r,j,o(g),l(E,2,-2),0)),I);break;default:$+="/"}break;case 123*L:S[O++]=f($)*q;case 125*L:case 59:case 0:switch(Y){case 0:case 125:T=0;case 59+A:-1==q&&($=a($,/\f/g,"")),H>0&&f($)-P&&p(H>32?D($+";",i,r,P-1):D(a($," ","")+";",i,r,P-2),I);break;case 59:$+=";";default:if(p(U=N($,n,r,O,A,s,S,R,z=[],K=[],P),v),123===Y)if(0===A)t($,n,U,U,z,v,P,S,K);else switch(99===M&&110===c($,3)?100:M){case 100:case 108:case 109:case 115:t(e,U,U,i&&p(N(e,U,U,0,0,s,S,R,s,z=[],P),K),s,K,P,S,i?z:K);break;default:t($,U,U,U,[""],K,0,S,K)}}O=A=H=0,L=q=1,R=$="",P=w;break;case 58:P=1+f($),H=F;default:if(L<1){if(123==Y)--L;else if(125==Y&&0==L++&&125==(g=y>0?c(m,--y):0,h--,10===g&&(h=1,d--),g))continue}switch($+=o(Y),Y*L){case 38:q=A>0?1:($+="\f",-1);break;case 44:S[O++]=(f($)-1)*q,q=1;break;case 64:45===x()&&($+=C(_())),M=x(),A=P=f(R=$+=function(t){for(;!k(x());)_();return l(m,t,y)}(y)),Y++;break;case 45:45===F&&2==f($)&&(L=0)}}return v}("",null,null,null,[""],e=S(e=t),0,[0],e),m="",n),P)},L={key:w,sheet:new r.v({key:w,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:O,registered:{},insert:function(t,e,n,r){v=n,M(t?t+"{"+e.styles+"}":e.styles),r&&(L.inserted[e.name]=!0)}};return L.sheet.hydrate(A),L}},43850:(t,e,n)=>{"use strict";n.d(e,{U:()=>d});var r,i=n(17867),o=n(8565),s=n(37718),a=n(9984),u=n(41249),c=n(9540),l=function(t,e,n){var r=e.reduce(function(t,e){var n=e.split(":"),r=n[0],i=n[1];return t[r]=i,t},{});return{type:"Counter",metric:t,value:1,tags:(0,i.Cl)((0,i.Cl)({},r),{library:"analytics.js",library_version:"web"===n?"next-".concat(a.r):"npm:next-".concat(a.r)})}};function f(t){console.error("Error sending segment performance metrics",t)}var p=function(){function t(t){var e,n,r,i,o,s=this;if(this.host=null!=(e=null==t?void 0:t.host)?e:c.a,this.sampleRate=null!=(n=null==t?void 0:t.sampleRate)?n:1,this.flushTimer=null!=(r=null==t?void 0:t.flushTimer)?r:3e4,this.maxQueueSize=null!=(i=null==t?void 0:t.maxQueueSize)?i:20,this.protocol=null!=(o=null==t?void 0:t.protocol)?o:"https",this.queue=[],this.sampleRate>0){var a=!1,u=function(){a||(a=!0,s.flush().catch(f),a=!1,setTimeout(u,s.flushTimer))};u()}}return t.prototype.increment=function(t,e){if(!(!t.includes("analytics_js.")||0===e.length||Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var n=l(t,e,(0,u.X)());this.queue.push(n),t.includes("error")&&this.flush().catch(f)}},t.prototype.flush=function(){return(0,i.sH)(this,void 0,void 0,function(){var t=this;return(0,i.YH)(this,function(e){switch(e.label){case 0:if(this.queue.length<=0)return[2];return[4,this.send().catch(function(e){f(e),t.sampleRate=0})];case 1:return e.sent(),[2]}})})},t.prototype.send=function(){return(0,i.sH)(this,void 0,void 0,function(){var t,e,n;return(0,i.YH)(this,function(r){return t={series:this.queue},this.queue=[],e={"Content-Type":"text/plain"},n="".concat(this.protocol,"://").concat(this.host,"/m"),[2,(0,s.h)(n,{headers:e,body:JSON.stringify(t),method:"POST"})]})})},t}(),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e.initRemoteMetrics=function(t){r=new p(t)},e.prototype.increment=function(e,n,i){t.prototype.increment.call(this,e,n,i),null==r||r.increment(e,null!=i?i:[])},e}(o.p)},45214:(t,e,n)=>{"use strict";function r(t,e){var n=e.methodName,r=e.integrationName,i=e.type,o=e.didError;t.stats.increment("analytics_js.integration.invoke".concat(void 0!==o&&o?".error":""),1,["method:".concat(n),"integration_name:".concat(r),"type:".concat(i)])}n.d(e,{y:()=>r})},45381:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},45599:(t,e,n)=>{"use strict";n.d(e,{I2:()=>c,YM:()=>l,qQ:()=>u});var r,i=n(78219),o=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,s=function(){var t;return Array.prototype.slice.call(document.querySelectorAll("script")).forEach(function(e){var n,r=null!=(n=e.getAttribute("src"))?n:"",i=o.exec(r);i&&i[1]&&(t=i[1])}),t},a=function(){var t;return null!=r?r:null==(t=(0,i.kJ)())?void 0:t._cdn},u=function(t){var e=(0,i.kJ)();e&&(e._cdn=t),r=t},c=function(){var t=a();if(t)return t;var e=s();return e||"https://cdn.segment.com"},l=function(){var t=c();return"".concat(t,"/next-integrations")}},46961:(t,e,n)=>{"use strict";n.d(e,{a:()=>o,s:()=>i});var r=n(91608);function i(){return!(0,r.B)()||window.navigator.onLine}function o(){return!i()}},47916:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Group=void 0;var i=r(n(45381)),o=r(n(35436)),s=r(n(18515)),a=n(6763);function u(t,e){a.Facade.call(this,t,e)}e.Group=u,i.default(u,a.Facade);var c=u.prototype;c.action=function(){return"group"},c.type=c.action,c.groupId=a.Facade.field("groupId"),c.created=function(){var t=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(t)return s.default(t)},c.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.groupId();if(o.default(e))return e},c.traits=function(t){var e=this.properties(),n=this.groupId();for(var r in t=t||{},n&&(e.id=n),t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=null==this[r]?this.proxy("traits."+r):this[r]();if(null==i)continue;e[t[r]]=i,delete e[r]}return e},c.name=a.Facade.proxy("traits.name"),c.industry=a.Facade.proxy("traits.industry"),c.employees=a.Facade.proxy("traits.employees"),c.properties=function(){return this.field("traits")||this.field("properties")||{}}},51674:(t,e,n)=>{"use strict";n.d(e,{G:()=>i,O:()=>r});let r=t=>{var e;return null==(e=document)?void 0:e.getElementById(t)},i=(t,e)=>{var n;return Array.from((null==(n=e||document)?void 0:n.querySelectorAll(t))||[])}},52006:(t,e,n)=>{"use strict";n.d(e,{x:()=>p});var r=n(17867),i=n(4663),o=n(87166),s=n(91608),a={getItem:function(){},setItem:function(){},removeItem:function(){}};try{a=(0,s.B)()&&window.localStorage?window.localStorage:a}catch(t){console.warn("Unable to access localStorage",t)}function u(t){var e=a.getItem(t);return(e?JSON.parse(e):[]).map(function(t){return new o.o(t.event,t.id)})}function c(t){var e=a.getItem(t);return e?JSON.parse(e):{}}function l(t){a.removeItem(t)}function f(t,e,n){void 0===n&&(n=0);var r="persisted-queue:v1:".concat(t,":lock"),i=a.getItem(r),o=i?JSON.parse(i):null,s=null===o||new Date().getTime()>o;if(s){a.setItem(r,JSON.stringify(new Date().getTime()+50)),e(),a.removeItem(r);return}!s&&n<3?setTimeout(function(){f(t,e,n+1)},50):console.error("Unable to retrieve lock")}var p=function(t){function e(e,n){var i=t.call(this,e,[])||this,o="persisted-queue:v1:".concat(n,":items"),s="persisted-queue:v1:".concat(n,":seen"),p=[],d={};return f(n,function(){try{p=u(o),d=c(s),l(o),l(s),i.queue=(0,r.fX)((0,r.fX)([],p,!0),i.queue,!0),i.seen=(0,r.Cl)((0,r.Cl)({},d),i.seen)}catch(t){console.error(t)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var t=(0,r.fX)((0,r.fX)([],i.queue,!0),i.future,!0);try{f(n,function(){var e,n,l,f;e=u(o),n=(0,r.fX)((0,r.fX)([],t,!0),e,!0).reduce(function(t,e){var n;return(0,r.Cl)((0,r.Cl)({},t),((n={})[e.id]=e,n))},{}),a.setItem(o,JSON.stringify(Object.values(n))),l=i.seen,f=c(s),a.setItem(s,JSON.stringify((0,r.Cl)((0,r.Cl)({},f),l)))})}catch(t){console.error(t)}}}),i}return(0,r.C6)(e,t),e}(i.M)},56726:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Page=void 0;var i=r(n(45381)),o=n(6763),s=n(95060),a=r(n(35436));function u(t,e){o.Facade.call(this,t,e)}e.Page=u,i.default(u,o.Facade);var c=u.prototype;c.action=function(){return"page"},c.type=c.action,c.category=o.Facade.field("category"),c.name=o.Facade.field("name"),c.title=o.Facade.proxy("properties.title"),c.path=o.Facade.proxy("properties.path"),c.url=o.Facade.proxy("properties.url"),c.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},c.properties=function(t){var e=this.field("properties")||{},n=this.category(),r=this.name();for(var i in t=t||{},n&&(e.category=n),r&&(e.name=r),t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=null==this[i]?this.proxy("properties."+i):this[i]();if(null==o)continue;e[t[i]]=o,i!==t[i]&&delete e[i]}return e},c.email=function(){var t=this.proxy("context.traits.email")||this.proxy("properties.email");if(t)return t;var e=this.userId();if(a.default(e))return e},c.fullName=function(){var t=this.category(),e=this.name();return e&&t?t+" "+e:e},c.event=function(t){return t?"Viewed "+t+" Page":"Loaded a Page"},c.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new s.Track(e,this.opts)}},64643:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Delete=e.Screen=e.Page=e.Track=e.Identify=e.Group=e.Alias=e.Facade=void 0;var i=n(6763);Object.defineProperty(e,"Facade",{enumerable:!0,get:function(){return i.Facade}});var o=n(79567);Object.defineProperty(e,"Alias",{enumerable:!0,get:function(){return o.Alias}});var s=n(47916);Object.defineProperty(e,"Group",{enumerable:!0,get:function(){return s.Group}});var a=n(89841);Object.defineProperty(e,"Identify",{enumerable:!0,get:function(){return a.Identify}});var u=n(95060);Object.defineProperty(e,"Track",{enumerable:!0,get:function(){return u.Track}});var c=n(56726);Object.defineProperty(e,"Page",{enumerable:!0,get:function(){return c.Page}});var l=n(23437);Object.defineProperty(e,"Screen",{enumerable:!0,get:function(){return l.Screen}});var f=n(88766);Object.defineProperty(e,"Delete",{enumerable:!0,get:function(){return f.Delete}}),e.default=r(r({},i.Facade),{Alias:o.Alias,Group:s.Group,Identify:a.Identify,Track:u.Track,Page:c.Page,Screen:l.Screen,Delete:f.Delete})},66166:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clone=void 0,e.clone=function t(e){if("object"!=typeof e)return e;if("[object Object]"===Object.prototype.toString.call(e)){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=t(e[r]));return n}return Array.isArray(e)?e.map(t):e}},67417:(t,e,n)=>{"use strict";n.d(e,{Ez:()=>C,cO:()=>g,jx:()=>m,p1:()=>i});var r=n(76014),i=(t,e)=>JSON.stringify({...t,...e}),o=new WeakSet,s=new Map,a=(t,e)=>{Object.keys(e).forEach(n=>{let r=e[n];t?.[n]!==!0||void 0===r?Object.keys(t).includes(n)&&delete t[n]:t[n]=r})},u=({trackingData:t,common:e,optInAnalyticsInfo:n,ev:r,el:i})=>{let{setEventGroupId:o,properties:u}=t??{},c={...u??{}},l=crypto.randomUUID();return c.event_id=l,o&&s.set(o,l),u?.parent_event_id&&s.has(u.parent_event_id)&&(c.parent_event_id=s.get(u.parent_event_id)),u?.event_id===!1&&delete c.event_id,a(c,n),((t,e)=>{if(!e)return;let n=JSON.stringify(e);return[...n.matchAll(/\$\{([^}]+)\}/g)].map(t=>t[1]).forEach(e=>{let r=((t,e)=>{let n=t.split("."),r=e;for(let t of n){if(t.endsWith("()")){let e=t.slice(0,-2);"function"==typeof r[e]&&(r=r[e]());continue}if(!r[t])return;r=r[t]}return r})(e,{...t,window:"undefined"!=typeof window?window:{}});if("string"==typeof r){let t=JSON.stringify(r).slice(1,-1);n=n.replace(`\${${e}}`,t)}else r&&(n=n.replace(`"\${${e}}"`,JSON.stringify(r)))}),JSON.parse(n)})({el:i??{},ev:r??{}},{...e,...c})},c=async t=>{let e=await t?.user?.(),n=e?.anonymousId(),r=document?.cookie?.split(";")??[];return{anonymous_user_id:n,traditional_device_id:r.find(t=>t.trim().startsWith("cookie_id="))?.split("=")[1]??crypto.randomUUID()}},l=new Map,f=new Map,p=!1,d=[],h=(t,e)=>l.has(t)?l.get(t):e,v=async({analyticsKey:t,driverContentId:e,driverContentSource:n,driverPageName:i,...o})=>{let s="storybook"===t?{VERSION:"storybook",page:(t,...e)=>console.log("SEGMENT PAGE:",t,...e),track:(t,...e)=>console.log("SEGMENT TRACK:",t,...e),user:()=>({anonymousId:()=>"storybook-anonymous-id"})}:r.N.load({writeKey:t,cdnURL:"https://siteusagetools.nerdwallet.com"},{integrations:{"Segment.io":{apiHost:"siteusage.nerdwallet.com/v1",protocol:"https"}}});l.set("analytics",s),l.set("common",o),l.set("optInAnalyticsInfo",{});let a=await c(s);l.set("optInAnalyticsInfo",{...a,driverContentId:e,driverContentSource:n,driverPageName:i}),p=!0,b()},y=()=>{let t=h("analytics");if(!t){if(!p)return console.warn("Analytics not yet initialized - tracking call may be queued"),null;throw Error("Analytics instance not found")}return t},g=()=>{let t=h("common");if(!t){if(!p)return null;throw Error("Common config not found")}return t},m=()=>{let t=h("optInAnalyticsInfo");if(!t){if(!p)return null;throw Error("Opt-in analytics info not found")}return t},b=()=>{for(;d.length>0;){let t=d.shift();if(t)switch(t.type){case"track":w(t.args[0],t.args[1],t.args[2]);break;case"trackPage":x(t.args[0]);break;case"trackLink":k(t.args[0],t.args[1])}}},w=(t,e,n)=>{let r=y(),i=g(),o=m();if(!r||!i||!o)return;let s=u({trackingData:t,common:i,optInAnalyticsInfo:o,ev:e,el:n});if(t.fieldMap&&s&&(s=((t,e)=>(Object.entries(e).forEach(([e,n])=>{t[e]&&(t[n]=t[e],delete t[e])}),t))(s,t.fieldMap)),r?.track(t.event,s),t.onEventFiredKey&&n&&s){let e=f.get(t.onEventFiredKey);e?.(n,s)}},_=(t,e,n)=>{if(!p)return void d.push({type:"track",args:[t,e,n]});setTimeout(()=>{w(t,e,n)},10)},x=t=>{let e=y(),n=g(),r=m();e&&n&&r&&e?.page(void 0,t.event,((t,e,n)=>{let r={page:window?.location?.pathname??"/",user_agent:navigator?.userAgent??"SSR",...t,...n??{}};return a(r,e),r})(n,r,t.properties))},k=(t,e)=>{let n=y(),r=g(),i=m();n&&r&&i&&n?.trackLink(e,t.event,u({trackingData:t,common:r,optInAnalyticsInfo:i,el:e}))},S=new WeakMap,C=async t=>{let{enableScrollDepthTracking:e=!1,enableUserIsActiveTracking:n=!1,userIsActiveInactivityThreshold:r=6e4,...i}=t;await v(i),(t=>{"undefined"!=typeof window&&(document?.readyState==="loading"?document?.addEventListener?.("DOMContentLoaded",t):t())})(()=>{(()=>{let t=document?.querySelectorAll?.("[data-nw-tracking]");return t?Array.from(t):[]})().forEach(t=>{(t=>{if(!t||o.has(t))return[];let e={};try{e=JSON.parse(t?.getAttribute("data-nw-tracking")??"{}")}catch(t){return console.error("Invalid JSON in data-nw-tracking:",t),[]}let n=e.events&&"object"==typeof e.events?e.events:e,r=Object.keys(n).filter(t=>n[t]).map(t=>({eventType:t,trackingData:n[t]}));return o.add(t),r})(t).forEach(({eventType:e,trackingData:n})=>{((t,e,n)=>{if("undefined"==typeof window||!t)return;let r=String(e).trim().toLowerCase(),i=S.get(t)??new Set;if(i.has(r))return;let o=!1;switch(r){case"page":(t=>{if(!p)return d.push({type:"trackPage",args:[t]});x(t)})(n),o=!0;break;case"impression":((t,e,n={threshold:.5})=>{"undefined"!=typeof window&&window.IntersectionObserver&&(Array.isArray(t)?t:"string"==typeof t?Array.from(document?.querySelectorAll?.(t)??[]):[t]).forEach(t=>{new IntersectionObserver((t,n)=>{t.forEach(t=>{t.isIntersecting&&(e(),n.unobserve(t.target))})},n).observe(t)})})(t,()=>_(n,void 0,t)),o=!0;break;case"link":((t,e)=>{if(!p)return d.push({type:"trackLink",args:[t,e]});k(t,e)})(n,t),o=!0;break;default:if(!("undefined"!=typeof window&&"on"+r in window)){console.warn(`Unknown tracking event key "${String(r)}". Use "page", "impression", "link", a valid DOM event name, or the customTracking parameter for custom events.`),o=!0;break}t.addEventListener(r,e=>_(n,e,t)),o=!0}o&&(i.add(r),S.set(t,i))})(t,e,n)})}),e&&(()=>{let t=[25,50,75,100],e=new Set,n=()=>{let n=Math.round((window.pageYOffset||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-window.innerHeight)*100);for(let r of t)n>=r&&!e.has(r)&&(e.add(r),_({event:"Scroll Depth",properties:{scroll_depth:r}}))};return window.addEventListener("scroll",n,{passive:!0}),()=>{window.removeEventListener("scroll",n)}})(),n&&((t=6e4)=>{let e=null,n=Date.now(),r=!1,i=null,o=()=>{let t=Date.now();r||(e=t,r=!0),n=t},s=()=>{if(r&&e){let t=n,i=t-e;_({event:"User Active",properties:{active_start_Time:new Date(e).toISOString(),active_end_ime:new Date(t).toISOString(),active_duration:i}}),r=!1,e=null}},a=()=>o(),u=()=>o(),c=()=>o(),l=()=>o();window.addEventListener("scroll",a,{passive:!0}),window.addEventListener("mousemove",u,{passive:!0}),window.addEventListener("touchstart",c,{passive:!0}),window.addEventListener("touchmove",c,{passive:!0}),window.addEventListener("keydown",l,{passive:!0});let f=()=>s(),p=()=>s(),d=()=>{"hidden"===document.visibilityState&&s()};return window.addEventListener("beforeunload",f),window.addEventListener("pagehide",p),document.addEventListener("visibilitychange",d),i=setInterval(()=>{Date.now()-n>=t&&s()},5e3),()=>{window.removeEventListener("scroll",a),window.removeEventListener("mousemove",u),window.removeEventListener("touchstart",c),window.removeEventListener("touchmove",c),window.removeEventListener("keydown",l),window.removeEventListener("beforeunload",f),window.removeEventListener("pagehide",p),document.removeEventListener("visibilitychange",d),i&&clearInterval(i)}})(r),window?.dispatchEvent?.(new CustomEvent("nw:segmentInitialized"))})}},68604:(t,e,n)=>{"use strict";n.r(e),n.d(e,{applyDestinationMiddleware:()=>s,sourceMiddlewarePlugin:()=>a});var r=n(17867),i=n(20550),o=n(79848);function s(t,e,n){return(0,r.sH)(this,void 0,void 0,function(){var i,s,a,u,c;return(0,r.YH)(this,function(l){switch(l.label){case 0:i=(0,o.W)(e,{clone:!0,traverse:!1}).rawEvent(),s=0,a=n,l.label=1;case 1:if(!(s<a.length))return[3,4];return u=a[s],[4,function(e,n){return(0,r.sH)(this,void 0,void 0,function(){var i,s,a;return(0,r.YH)(this,function(u){switch(u.label){case 0:return i=!1,s=null,[4,n({payload:(0,o.W)(e,{clone:!0,traverse:!1}),integration:t,next:function(t){i=!0,null===t&&(s=null),t&&(s=t.obj)}})];case 1:return u.sent(),i||null===s||(s.integrations=(0,r.Cl)((0,r.Cl)({},e.integrations),((a={})[t]=!1,a))),[2,s]}})})}(i,u)];case 2:if(null===(c=l.sent()))return[2,null];i=c,l.label=3;case 3:return s++,[3,1];case 4:return[2,i]}})})}function a(t,e){function n(n){return(0,r.sH)(this,void 0,void 0,function(){var s;return(0,r.YH)(this,function(r){switch(r.label){case 0:return s=!1,[4,t({payload:(0,o.W)(n.event,{clone:!0,traverse:!1}),integrations:null!=e?e:{},next:function(t){s=!0,t&&(n.event=t.obj)}})];case 1:if(r.sent(),!s)throw new i.d({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,n]}})})}return{name:"Source Middleware ".concat(t.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(t){return Promise.resolve(t)},track:n,page:n,screen:n,identify:n,alias:n,group:n}}},69001:(t,e)=>{"use strict";var n=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;e.parse=function(t){var e=[1,5,6,7,11,12],r=n.exec(t),i=0;if(!r)return new Date(t);for(var o,s=0;o=e[s];s++)r[o]=parseInt(r[o],10)||0;return r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0," "===r[4]?i=new Date().getTimezoneOffset():"Z"!==r[9]&&r[10]&&(i=60*r[11]+r[12],"+"===r[10]&&(i=0-i)),new Date(Date.UTC(r[1],r[2],r[3],r[5],r[6]+i,r[7],r[8]))},e.is=function(t,e){return"string"==typeof t&&(!e||!1!==/^\d{4}-\d{2}-\d{2}/.test(t))&&n.test(t)}},69284:(t,e,n)=>{"use strict";n.d(e,{i:()=>a,s:()=>s});var r,i=n(7620),o=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,s=o||function(t){return t()},a=o||i.useLayoutEffect},69918:(t,e,n)=>{"use strict";function r(t,e,n){var r="";return n.split(" ").forEach(function(n){void 0!==t[n]?e.push(t[n]+";"):n&&(r+=n+" ")}),r}n.d(e,{Rk:()=>r,SF:()=>i,sk:()=>o});var i=function(t,e,n){var r=t.key+"-"+e.name;!1===n&&void 0===t.registered[r]&&(t.registered[r]=e.styles)},o=function(t,e,n){i(t,e,n);var r=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var o=e;do t.insert(e===o?"."+r:"",o,t.sheet,!0),o=o.next;while(void 0!==o)}}},72902:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});let r=function(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=function t(e){var n,r,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(n=0;n<o;n++)e[n]&&(r=t(e[n]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}(t))&&(r&&(r+=" "),r+=e);return r}},76014:(t,e,n)=>{"use strict";n.d(e,{N:()=>tW});var r,i,o=n(17867),s=n(40459);function a(){return void 0!==s&&s.env?s.env:{}}var u=n(45599),c=n(27086);function l(t,e,n,r){var i,o=[t,e,n,r],s=(0,c.Qd)(t)?t.event:t;if(!s||!(0,c.Kg)(s))throw Error("Event missing");var a=(0,c.Qd)(t)?null!=(i=t.properties)?i:{}:(0,c.Qd)(e)?e:{},u={};return(0,c.Tn)(n)||(u=null!=n?n:{}),(0,c.Qd)(t)&&!(0,c.Tn)(e)&&(u=null!=e?e:{}),[s,a,u,o.find(c.Tn)]}function f(t,e,n,r,i){var o,s,a=null,u=null,l=[t,e,n,r,i],f=l.filter(c.Kg);1===f.length?(u=(0,c.Kg)(l[1])?l[1]:f[0],a=null):2===f.length&&("string"==typeof l[0]&&(a=l[0]),"string"==typeof l[1]&&(u=l[1]));var p=l.find(c.Tn),d=l.filter(c.Qd);return 1===d.length?(0,c.Qd)(l[2])?(s={},o=l[2]):(0,c.Qd)(l[3])?(o={},s=l[3]):(o=d[0],s={}):2===d.length&&(o=d[0],s=d[1]),[a,u,null!=o?o:o={},null!=s?s:s={},p]}var p=function(t){return function(){for(var e,n,r,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];for(var s={},a=["callback","options","traits","id"],u=0;u<i.length;u++){var l=i[u],f=a.pop();if("id"===f){if((0,c.Kg)(l)||(0,c.Et)(l)){s.id=l.toString();continue}if(null==l)continue;f=a.pop()}if(("traits"===f||"options"===f)&&(null==l||(0,c.Qd)(l))&&(s[f]=l),(0,c.Tn)(l)){s.callback=l;break}}return[null!=(e=s.id)?e:t.id(),null!=(n=s.traits)?n:{},null!=(r=s.options)?r:{},s.callback]}};function d(t,e,n,r){(0,c.Et)(t)&&(t=t.toString()),(0,c.Et)(e)&&(e=e.toString());var i=[t,e,n,r],o=i.filter(c.Kg),s=o[0],a=void 0===s?t:s,u=o[1],l=i.filter(c.Qd)[0];return[a,void 0===u?null:u,void 0===l?{}:l,i.find(c.Tn)]}var h=n(46961),v=n(87166),y=n(93411),g=n(81616),m=n(10716),b=function(t,e,n,r,i,o){return{__t:"bpc",c:e,p:r,u:t,s:n,t:i,r:o}},w=Object.keys(b("","","","","","")),_=function(t){var e=t.indexOf("#");return -1===e?t:t.slice(0,e)},x=function(t){try{return new URL(t).pathname}catch(e){return"/"===t[0]?t:"/"+t}},k=function(t){var e=t.c,n=t.p,r=t.s,i=t.u,o=t.r,s=t.t,a=e?x(e):n,u=e?e.indexOf("?")>-1?e:e+r:_(i);return{path:a,referrer:o,search:r,title:s,url:u}},S=function(){var t=document.querySelector("link[rel='canonical']");return b(location.href,t&&t.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},C=function(t,e){void 0===e&&(e=k(S()));var n,r,i,s=t.context;"page"===t.type&&(i=t.properties&&(n=t.properties,r=Object.keys(e),Object.assign.apply(Object,(0,o.fX)([{}],r.map(function(t){var e;if(n&&Object.prototype.hasOwnProperty.call(n,t))return(e={})[t]=n[t],e}),!1))),t.properties=(0,o.Cl)((0,o.Cl)((0,o.Cl)({},e),t.properties),t.name?{name:t.name}:{})),s.page=(0,o.Cl)((0,o.Cl)((0,o.Cl)({},e),i),s.page)},I=n(94968),E=function(t){function e(e,n){var r=t.call(this,"".concat(e," ").concat(n))||this;return r.field=e,r}return(0,o.C6)(e,t),e}(Error),O="is not a string",j="is not an object",A=function(t){var e,n;this.settings=t,this.createMessageId=t.createMessageId,this.onEventMethodCall=null!=(e=t.onEventMethodCall)?e:function(){},this.onFinishedEvent=null!=(n=t.onFinishedEvent)?n:function(){}},P=function(t){function e(e){var n=t.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat((0,m.v4)())},onEventMethodCall:function(t){var e=t.options;n.maybeUpdateAnonId(e)},onFinishedEvent:function(t){return n.addIdentity(t),t}})||this;return n.user=e,n}return(0,o.C6)(e,t),e.prototype.maybeUpdateAnonId=function(t){(null==t?void 0:t.anonymousId)&&this.user.anonymousId(t.anonymousId)},e.prototype.addIdentity=function(t){this.user.id()&&(t.userId=this.user.id()),this.user.anonymousId()&&(t.anonymousId=this.user.anonymousId())},e.prototype.track=function(e,n,r,i,o){var s=t.prototype.track.call(this,e,n,r,i);return C(s,o),s},e.prototype.page=function(e,n,r,i,o,s){var a=t.prototype.page.call(this,e,n,r,i,o);return C(a,s),a},e.prototype.screen=function(e,n,r,i,o,s){var a=t.prototype.screen.call(this,e,n,r,i,o);return C(a,s),a},e.prototype.identify=function(e,n,r,i,o){var s=t.prototype.identify.call(this,e,n,r,i);return C(s,o),s},e.prototype.group=function(e,n,r,i,o){var s=t.prototype.group.call(this,e,n,r,i);return C(s,o),s},e.prototype.alias=function(e,n,r,i,o){var s=t.prototype.alias.call(this,e,n,r,i);return C(s,o),s},e}(function(){function t(t){this.settings=new A(t)}return t.prototype.track=function(t,e,n,r){return this.settings.onEventMethodCall({type:"track",options:n}),this.normalize((0,o.Cl)((0,o.Cl)({},this.baseEvent()),{event:t,type:"track",properties:null!=e?e:{},options:(0,o.Cl)({},n),integrations:(0,o.Cl)({},r)}))},t.prototype.page=function(t,e,n,r,i){this.settings.onEventMethodCall({type:"page",options:r});var s,a={type:"page",properties:(0,o.Cl)({},n),options:(0,o.Cl)({},r),integrations:(0,o.Cl)({},i)};return null!==t&&(a.category=t,a.properties=null!=(s=a.properties)?s:{},a.properties.category=t),null!==e&&(a.name=e),this.normalize((0,o.Cl)((0,o.Cl)({},this.baseEvent()),a))},t.prototype.screen=function(t,e,n,r,i){this.settings.onEventMethodCall({type:"screen",options:r});var s={type:"screen",properties:(0,o.Cl)({},n),options:(0,o.Cl)({},r),integrations:(0,o.Cl)({},i)};return null!==t&&(s.category=t),null!==e&&(s.name=e),this.normalize((0,o.Cl)((0,o.Cl)({},this.baseEvent()),s))},t.prototype.identify=function(t,e,n,r){return this.settings.onEventMethodCall({type:"identify",options:n}),this.normalize((0,o.Cl)((0,o.Cl)({},this.baseEvent()),{type:"identify",userId:t,traits:null!=e?e:{},options:(0,o.Cl)({},n),integrations:r}))},t.prototype.group=function(t,e,n,r){return this.settings.onEventMethodCall({type:"group",options:n}),this.normalize((0,o.Cl)((0,o.Cl)({},this.baseEvent()),{type:"group",traits:null!=e?e:{},options:(0,o.Cl)({},n),integrations:(0,o.Cl)({},r),groupId:t}))},t.prototype.alias=function(t,e,n,r){this.settings.onEventMethodCall({type:"alias",options:n});var i={userId:t,type:"alias",options:(0,o.Cl)({},n),integrations:(0,o.Cl)({},r)};return(null!==e&&(i.previousId=e),void 0===t)?this.normalize((0,o.Cl)((0,o.Cl)({},i),this.baseEvent())):this.normalize((0,o.Cl)((0,o.Cl)({},this.baseEvent()),i))},t.prototype.baseEvent=function(){return{integrations:{},options:{}}},t.prototype.context=function(t){var e,n=["userId","anonymousId","timestamp","messageId"];delete t.integrations;var r=Object.keys(t),i=null!=(e=t.context)?e:{},o={};return r.forEach(function(e){"context"!==e&&(n.includes(e)?(0,I.J)(o,e,t[e]):(0,I.J)(i,e,t[e]))}),[i,o]},t.prototype.normalize=function(t){var e,n,r,i=Object.keys(null!=(n=t.integrations)?n:{}).reduce(function(e,n){var r,i;return(0,o.Cl)((0,o.Cl)({},e),((r={})[n]=!!(null==(i=t.integrations)?void 0:i[n]),r))},{});e=t.options||{},t.options=Object.keys(e).filter(function(t){return function(t,e){return void 0!==e}(t,e[t])}).reduce(function(t,n){return t[n]=e[n],t},{});var s=(0,o.Cl)((0,o.Cl)({},i),null==(r=t.options)?void 0:r.integrations),a=t.options?this.context(t.options):[],u=a[0],l=a[1],f=t.options,p=(0,o.Tt)(t,["options"]),d=(0,o.Cl)((0,o.Cl)((0,o.Cl)((0,o.Cl)({timestamp:new Date},p),{context:u,integrations:s}),l),{messageId:f.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(d),!function(t){if(!(0,c.t2)(t))throw new E("Event","is nil");if("object"!=typeof t)throw new E("Event",j);if(!(0,c.Kg)(t.type))throw new E(".type",O);if(!(0,c.Kg)(t.messageId))throw new E(".messageId",O);if("track"===t.type){if(!(0,c.Kg)(t.event))throw new E(".event",O);if(!(0,c.Qd)(t.properties))throw new E(".properties",j)}["group","identify"].includes(t.type)&&function(t){if(!(0,c.Qd)(t.traits))throw new E(".traits",j)}(t)}(d),d},t}()),M=function(t){return"addMiddleware"in t&&"destination"===t.type},H=n(52006),F=n(4663),N=n(20550),D=function(){var t,e,n=0;return{done:function(){return t},run:function(r){var i=r();return"object"==typeof i&&null!==i&&"then"in i&&"function"==typeof i.then&&(1==++n&&(t=new Promise(function(t){return e=t})),i.finally(function(){return 0==--n&&e()})),i}}},L=n(22687),T=function(t){function e(e){return t.call(this,"string"==typeof e?new H.x(4,e):e)||this}return(0,o.C6)(e,t),e.prototype.flush=function(){return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(e){return(0,h.a)()?[2,[]]:[2,t.prototype.flush.call(this)]})})},e}(function(t){function e(e){var n=t.call(this)||this;return n.criticalTasks=D(),n.plugins=[],n.failedInitializations=[],n.flushing=!1,n.queue=e,n.queue.on(F.g,function(){n.scheduleFlush(0)}),n}return(0,o.C6)(e,t),e.prototype.register=function(t,e,n){return(0,o.sH)(this,void 0,void 0,function(){var r,i,s=this;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(this.plugins.push(e),r=function(n){s.failedInitializations.push(e.name),s.emit("initialization_failure",e),console.warn(e.name,n),t.log("warn","Failed to load destination",{plugin:e.name,error:n}),s.plugins=s.plugins.filter(function(t){return t!==e})},"destination"!==e.type||"Segment.io"===e.name)return[3,1];return e.load(t,n).catch(r),[3,4];case 1:return o.trys.push([1,3,,4]),[4,e.load(t,n)];case 2:return o.sent(),[3,4];case 3:return i=o.sent(),r(i),[3,4];case 4:return[2]}})})},e.prototype.deregister=function(t,e,n){return(0,o.sH)(this,void 0,void 0,function(){var r;return(0,o.YH)(this,function(i){switch(i.label){case 0:if(i.trys.push([0,3,,4]),!e.unload)return[3,2];return[4,Promise.resolve(e.unload(t,n))];case 1:i.sent(),i.label=2;case 2:return this.plugins=this.plugins.filter(function(t){return t.name!==e.name}),[3,4];case 3:return r=i.sent(),t.log("warn","Failed to unload destination",{plugin:e.name,error:r}),[3,4];case 4:return[2]}})})},e.prototype.dispatch=function(t){return(0,o.sH)(this,void 0,void 0,function(){var e;return(0,o.YH)(this,function(n){return t.log("debug","Dispatching"),t.stats.increment("message_dispatched"),this.queue.push(t),e=this.subscribeToDelivery(t),this.scheduleFlush(0),[2,e]})})},e.prototype.subscribeToDelivery=function(t){return(0,o.sH)(this,void 0,void 0,function(){var e=this;return(0,o.YH)(this,function(n){return[2,new Promise(function(n){var r=function(i,o){i.isSame(t)&&(e.off("flush",r),n(i))};e.on("flush",r)})]})})},e.prototype.dispatchSingle=function(t){return(0,o.sH)(this,void 0,void 0,function(){var e=this;return(0,o.YH)(this,function(n){return t.log("debug","Dispatching"),t.stats.increment("message_dispatched"),this.queue.updateAttempts(t),t.attempts=1,[2,this.deliver(t).catch(function(n){return e.enqueuRetry(n,t)?e.subscribeToDelivery(t):(t.setFailedDelivery({reason:n}),t)})]})})},e.prototype.isEmpty=function(){return 0===this.queue.length},e.prototype.scheduleFlush=function(t){var e=this;void 0===t&&(t=500),this.flushing||(this.flushing=!0,setTimeout(function(){e.flush().then(function(){setTimeout(function(){e.flushing=!1,e.queue.length&&e.scheduleFlush(0)},0)})},t))},e.prototype.deliver=function(t){return(0,o.sH)(this,void 0,void 0,function(){var e,n,r,i;return(0,o.YH)(this,function(o){switch(o.label){case 0:return[4,this.criticalTasks.done()];case 1:o.sent(),e=Date.now(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.flushOne(t)];case 3:return t=o.sent(),n=Date.now()-e,this.emit("delivery_success",t),t.stats.gauge("delivered",n),t.log("debug","Delivered",t.event),[2,t];case 4:throw i=r=o.sent(),t.log("error","Failed to deliver",i),this.emit("delivery_failure",t,i),t.stats.increment("delivery_failed"),r;case 5:return[2]}})})},e.prototype.enqueuRetry=function(t,e){return!!(!(t instanceof N.d)||t.retry)&&this.queue.pushWithBackoff(e)},e.prototype.flush=function(){return(0,o.sH)(this,void 0,void 0,function(){var t,e;return(0,o.YH)(this,function(n){switch(n.label){case 0:if(0===this.queue.length||!(t=this.queue.pop()))return[2,[]];t.attempts=this.queue.getAttempts(t),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.deliver(t)];case 2:return t=n.sent(),this.emit("flush",t,!0),[3,4];case 3:return e=n.sent(),this.enqueuRetry(e,t)||(t.setFailedDelivery({reason:e}),this.emit("flush",t,!1)),[2,[]];case 4:return[2,[t]]}})})},e.prototype.isReady=function(){return!0},e.prototype.availableExtensions=function(t){var e,n,r=(e="type",n={},this.plugins.filter(function(e){if("destination"!==e.type&&"Segment.io"!==e.name)return!0;var n,r,i,o=void 0;return null==(n=e.alternativeNames)||n.forEach(function(e){void 0!==t[e]&&(o=t[e])}),null!=(i=null!=(r=t[e.name])?r:o)?i:!1!==("Segment.io"===e.name||t.All)}).forEach(function(t){var r,i=void 0;if("string"==typeof e){var s=t[e];i="string"!=typeof s?JSON.stringify(s):s}else e instanceof Function&&(i=e(t));void 0!==i&&(n[i]=(0,o.fX)((0,o.fX)([],null!=(r=n[i])?r:[],!0),[t],!1))}),n),i=r.before,s=r.enrichment,a=r.destination,u=r.after;return{before:void 0===i?[]:i,enrichment:void 0===s?[]:s,destinations:void 0===a?[]:a,after:void 0===u?[]:u}},e.prototype.flushOne=function(t){var e,n;return(0,o.sH)(this,void 0,void 0,function(){var r,i,s,a,u,c,l,f,p,d,h,v,y;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(!this.isReady())throw Error("Not ready");t.attempts>1&&this.emit("delivery_retry",t),i=(r=this.availableExtensions(null!=(e=t.event.integrations)?e:{})).before,s=r.enrichment,a=0,u=i,o.label=1;case 1:if(!(a<u.length))return[3,4];return c=u[a],[4,(0,L.D)(t,c)];case 2:(l=o.sent())instanceof N.j&&(t=l),this.emit("message_enriched",t,c),o.label=3;case 3:return a++,[3,1];case 4:f=0,p=s,o.label=5;case 5:if(!(f<p.length))return[3,8];return d=p[f],[4,(0,L.C)(t,d)];case 6:(l=o.sent())instanceof N.j&&(t=l),this.emit("message_enriched",t,d),o.label=7;case 7:return f++,[3,5];case 8:return v=(h=this.availableExtensions(null!=(n=t.event.integrations)?n:{})).destinations,y=h.after,[4,new Promise(function(e,n){setTimeout(function(){Promise.all(v.map(function(e){return(0,L.C)(t,e)})).then(e).catch(n)},0)})];case 9:return o.sent(),t.stats.increment("message_delivered"),this.emit("message_delivered",t),[4,Promise.all(y.map(function(e){return(0,L.C)(t,e)}))];case 10:return o.sent(),[2,t]}})})},e}(g.v));function q(t){for(var e=t.constructor.prototype,n=0,r=Object.getOwnPropertyNames(e);n<r.length;n++){var i=r[n];if("constructor"!==i){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);o&&"function"==typeof o.value&&(t[i]=t[i].bind(t))}}return t}var Y={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"},R=function(t,e,n,r){console.warn("".concat(t.constructor.name,": Can't ").concat(e,' key "').concat(n,'" | Err: ').concat(r))},z=function(){function t(t){this.stores=t}return t.prototype.get=function(t){for(var e=null,n=0,r=this.stores;n<r.length;n++){var i=r[n];try{if(null!=(e=i.get(t)))return e}catch(e){R(i,"get",t,e)}}return null},t.prototype.set=function(t,e){this.stores.forEach(function(n){try{n.set(t,e)}catch(e){R(n,"set",t,e)}})},t.prototype.clear=function(t){this.stores.forEach(function(e){try{e.remove(t)}catch(n){R(e,"remove",t,n)}})},t.prototype.getAndSync=function(t){var e=this.get(t),n="number"==typeof e?e.toString():e;return this.set(t,n),n},t}(),K=function(){function t(){this.cache={}}return t.prototype.get=function(t){var e;return null!=(e=this.cache[t])?e:null},t.prototype.set=function(t,e){this.cache[t]=e},t.prototype.remove=function(t){delete this.cache[t]},t}();function U(t){return t&&t.stores&&Array.isArray(t.stores)&&t.stores.every(function(t){return Object.values(Y).includes(t)})}function $(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var J=function t(e,n){function r(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=$({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in i)i[s]&&(o+="; "+s,!0!==i[s]&&(o+="="+i[s].split(";")[0]));return document.cookie=t+"="+e.write(r,t)+o}}return Object.create({set:r,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),s=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(r[a]=e.read(s,a),t===a)break}catch(t){}}return t?r[t]:r}},remove:function(t,e){r(t,"",$({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,$({},this.attributes,e))},withConverter:function(e){return t($({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function W(t){var e=function(t){try{return new URL(t)}catch(t){return}}(t);if(e)for(var n=function(t){var e=t.hostname.split("."),n=e[e.length-1],r=[];if(4===e.length&&parseInt(n,10)>0||e.length<=1)return r;for(var i=e.length-2;i>=0;--i)r.push(e.slice(i).join("."));return r}(e),r=0;r<n.length;++r){var i="__tld__",o=n[r],s={domain:"."+o};try{if(J.set(i,"1",s),J.get(i))return J.remove(i,s),o}catch(t){return}}}var B=function(){function t(e){void 0===e&&(e=t.defaults),this.options=(0,o.Cl)((0,o.Cl)({},t.defaults),e)}return Object.defineProperty(t,"defaults",{get:function(){return{maxage:365,domain:W(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),t.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},t.prototype.get=function(t){var e;try{var n=J.get(t);if(null==n)return null;try{return null!=(e=JSON.parse(n))?e:null}catch(t){return null!=n?n:null}}catch(t){return null}},t.prototype.set=function(t,e){"string"==typeof e?J.set(t,e,this.opts()):null===e?J.remove(t,this.opts()):J.set(t,JSON.stringify(e),this.opts())},t.prototype.remove=function(t){return J.remove(t,this.opts())},t}(),X=function(){function t(){}return t.prototype.localStorageWarning=function(t,e){console.warn("Unable to access ".concat(t,", localStorage may be ").concat(e))},t.prototype.get=function(t){var e;try{var n=localStorage.getItem(t);if(null===n)return null;try{return null!=(e=JSON.parse(n))?e:null}catch(t){return null!=n?n:null}}catch(e){return this.localStorageWarning(t,"unavailable"),null}},t.prototype.set=function(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(e){this.localStorageWarning(t,"full")}},t.prototype.remove=function(t){try{return localStorage.removeItem(t)}catch(e){this.localStorageWarning(t,"unavailable")}},t}();function Q(t){return t.map(function(t){var e,n;switch("object"==typeof t&&void 0!==t.name?(e=t.name,n=t.settings):e=t,e){case Y.Cookie:return new B(n);case Y.LocalStorage:return new X;case Y.Memory:return new K;default:throw Error("Unknown Store Type: ".concat(t))}})}function G(t,e){return t.map(function(t){return e&&t===Y.Cookie?{name:t,settings:e}:t})}var V={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},Z=function(){function t(t,e){void 0===t&&(t=V);var n,r,i,s,a=this;this.options={},this.id=function(t){if(a.options.disable)return null;var e=a.identityStore.getAndSync(a.idKey);void 0!==t&&(a.identityStore.set(a.idKey,t),t!==e&&null!==e&&null!==t&&a.anonymousId(null));var n=a.identityStore.getAndSync(a.idKey);if(n)return n;var r=a.legacyUserStore.get(V.cookie.oldKey);return r?"object"==typeof r?r.id:r:null},this.anonymousId=function(t){var e,n;if(a.options.disable)return null;if(void 0===t){var r=null!=(e=a.identityStore.getAndSync(a.anonKey))?e:null==(n=a.legacySIO())?void 0:n[0];if(r)return r}return null===t?a.identityStore.set(a.anonKey,null):a.identityStore.set(a.anonKey,null!=t?t:(0,m.v4)()),a.identityStore.getAndSync(a.anonKey)},this.traits=function(t){var e;if(!a.options.disable)return null===t&&(t={}),t&&a.traitsStore.set(a.traitsKey,null!=t?t:{}),null!=(e=a.traitsStore.get(a.traitsKey))?e:{}},this.options=(0,o.Cl)((0,o.Cl)({},V),t),this.cookieOptions=e,this.idKey=null!=(r=null==(n=t.cookie)?void 0:n.key)?r:V.cookie.key,this.traitsKey=null!=(s=null==(i=t.localStorage)?void 0:i.key)?s:V.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,e),this.legacyUserStore=this.createStorage(this.options,e,function(t){return t===Y.Cookie}),this.traitsStore=this.createStorage(this.options,e,function(t){return t!==Y.Cookie});var u=this.legacyUserStore.get(V.cookie.oldKey);u&&"object"==typeof u&&(u.id&&this.id(u.id),u.traits&&this.traits(u.traits)),q(this)}return t.prototype.legacySIO=function(){var t=this.legacyUserStore.get("_sio");if(!t)return null;var e=t.split("----");return[e[0],e[1]]},t.prototype.identify=function(t,e){if(!this.options.disable){e=null!=e?e:{};var n=this.id();(null===n||n===t)&&(e=(0,o.Cl)((0,o.Cl)({},this.traits()),e)),t&&this.id(t),this.traits(e)}},t.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},t.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},t.prototype.load=function(){return new t(this.options,this.cookieOptions)},t.prototype.save=function(){return!0},t.prototype.createStorage=function(t,e,n){var r=[Y.LocalStorage,Y.Cookie,Y.Memory];return t.disable?new z([]):t.persist?(void 0!==t.storage&&null!==t.storage&&U(t.storage)&&(r=t.storage.stores),t.localStorageFallbackDisabled&&(r=r.filter(function(t){return t!==Y.LocalStorage})),n&&(r=r.filter(n)),new z(Q(G(r,e)))):new z([new K])},t.defaults=V,t}(),tt={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},te=function(t){function e(e,n){void 0===e&&(e=tt);var r=t.call(this,(0,o.Cl)((0,o.Cl)({},tt),e),n)||this;return r.anonymousId=function(t){},q(r),r}return(0,o.C6)(e,t),e}(Z),tn=n(9984),tr=n(84070),ti=n(78219),to=n(41249),ts=function(t,e,n){n.getAndRemove(t).forEach(function(t){th(e,t).catch(console.error)})},ta=ts.bind(void 0,"on"),tu=ts.bind(void 0,"setAnonymousId"),tc=function(t,e){Object.keys(e.calls).forEach(function(n){e.getAndRemove(n).forEach(function(e){setTimeout(function(){th(t,e).catch(console.error)},0)})})},tl=function(t){if(tf(t))return k(t.pop())},tf=function(t){var e=t[t.length-1];if("object"!==Object.prototype.toString.call(e).slice(8,-1).toLowerCase()||"bpc"!==e.__t)return!1;for(var n in e)if(!w.includes(n))return!1;return!0},tp=function(t,e,n,r){void 0===n&&(n=function(){}),void 0===r&&(r=console.error),this.method=t,this.resolve=n,this.reject=r,this.called=!1,this.args=e},td=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._callMap={},this.add.apply(this,t)}return Object.defineProperty(t.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(t){this._callMap=t},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e;return null!=(e=this.calls[t])?e:[]},t.prototype.getAndRemove=function(t){var e=this.get(t);return this.calls[t]=[],e},t.prototype.add=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach(function(e){["track","screen","alias","group","page","identify"].includes(e.method)&&!tf(e.args)&&(e.args=(0,o.fX)((0,o.fX)([],e.args,!0),[S()],!1)),t.calls[e.method]?t.calls[e.method].push(e):t.calls[e.method]=[e]})},t.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},t.prototype.toArray=function(){var t;return(t=[]).concat.apply(t,Object.values(this.calls))},t.prototype._pushSnippetWindowBuffer=function(){if("npm"!==(0,to.X)()){var t=(0,ti.kJ)();if(Array.isArray(t)){var e=t.splice(0,t.length).map(function(t){return new tp(t[0],t.slice(1))});this.add.apply(this,e)}}},t}();function th(t,e){return(0,o.sH)(this,void 0,void 0,function(){var n,r;return(0,o.YH)(this,function(i){switch(i.label){case 0:var o;if(i.trys.push([0,3,,4]),e.called)return[2,void 0];if(e.called=!0,!("object"==typeof(o=n=t[e.method].apply(t,e.args))&&null!==o&&"then"in o&&"function"==typeof o.then))return[3,2];return[4,n];case 1:i.sent(),i.label=2;case 2:return e.resolve(n),[3,4];case 3:return r=i.sent(),e.reject(r),[3,4];case 4:return[2]}})})}var tv=function(){function t(t){var e=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=tn.r,this._preInitBuffer=new td,this._promise=t(this._preInitBuffer),this._promise.then(function(t){var n=t[0],r=t[1];e.instance=n,e.ctx=r}).catch(function(){})}return t.prototype.then=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._promise).then.apply(t,e)},t.prototype.catch=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._promise).catch.apply(t,e)},t.prototype.finally=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._promise).finally.apply(t,e)},t.prototype._createMethod=function(t){var e=this;return function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return e.instance?Promise.resolve((n=e.instance)[t].apply(n,r)):new Promise(function(n,i){e._preInitBuffer.add(new tp(t,r,n,i))})}},t.prototype._createChainableMethod=function(t){var e=this;return function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return e.instance?(n=e.instance)[t].apply(n,r):e._preInitBuffer.add(new tp(t,r)),e}},t}(),ty=n(79848),tg=n(37718),tm=function(t){var e=!1;window.addEventListener("pagehide",function(){e||t(e=!0)}),document.addEventListener("visibilitychange",function(){if("hidden"==document.visibilityState){if(e)return;e=!0}else e=!1;t(e)})},tb=function(t){function e(e,n){var r=t.call(this,e)||this;return r.retryTimeout=n,r.name="RateLimitError",r}return(0,o.C6)(e,t),e}(Error),tw=function(t){return(0,o.Cl)({"Content-Type":"text/plain"},"function"==typeof t?t():t)};function t_(t){return(encodeURI(JSON.stringify(t)).split(/%..|./).length-1)/1024}var tx=n(79462);function tk(t,e,n,r){var i=this;t||setTimeout(function(){return(0,o.sH)(i,void 0,void 0,function(){var t,i;return(0,o.YH)(this,function(s){switch(s.label){case 0:return t=!0,[4,function(t,e){return(0,o.sH)(this,void 0,void 0,function(){var n,r=this;return(0,o.YH)(this,function(i){switch(i.label){case 0:if(n=[],(0,h.a)())return[2,e];return[4,(0,tx._)(function(){return e.length>0&&!(0,h.a)()},function(){return(0,o.sH)(r,void 0,void 0,function(){var r;return(0,o.YH)(this,function(i){switch(i.label){case 0:if(!(r=e.pop()))return[2];return[4,(0,L.C)(r,t)];case 1:return i.sent()instanceof v.o||n.push(r),[2]}})})})];case 1:return i.sent(),n.map(function(t){return e.pushWithBackoff(t)}),[2,e]}})})}(n,e)];case 1:return i=s.sent(),t=!1,e.todo>0&&r(t,i,n,r),[2]}})})},5e3*Math.random())}var tS=n(9540),tC=function(t){return"Segment.io"===t.name},tI="This is being deprecated and will be not be available in future releases of Analytics JS",tE=(0,tr.m)(),tO=null==tE?void 0:tE.analytics,tj=function(){function t(t,e){var n;this.timeout=300,this._getSegmentPluginMetadata=function(){var t;return null==(t=e.plugins.find(tC))?void 0:t.metadata},this.writeKey=t.writeKey,this.cdnSettings=null!=(n=t.cdnSettings)?n:{integrations:{"Segment.io":{apiKey:""}}},this.cdnURL=t.cdnURL}return Object.defineProperty(t.prototype,"apiHost",{get:function(){var t,e;return null==(e=null==(t=this._getSegmentPluginMetadata)?void 0:t.call(this))?void 0:e.apiHost},enumerable:!1,configurable:!0}),t}();function tA(){console.warn(tI)}var tP=function(t){function e(e,n,r,i,s){var a,u,c,l,f,p,d=this;(d=t.call(this)||this)._debug=!1,d.initialized=!1,d.user=function(){return d._user},d.init=d.initialize.bind(d),d.log=tA,d.addIntegrationMiddleware=tA,d.listeners=tA,d.addEventListener=tA,d.removeAllListeners=tA,d.removeListener=tA,d.removeEventListener=tA,d.hasListeners=tA,d.add=tA,d.addIntegration=tA;var h=null==n?void 0:n.cookie,v=null!=(f=null==n?void 0:n.disableClientPersistence)&&f;d.queue=null!=r?r:(a="".concat(e.writeKey,":event-queue"),void 0===(u=null==n?void 0:n.retryQueue)&&(u=!1),void 0===(c=v)&&(c=!1),l=u?10:1,new T(c?new F.M(l,[]):new H.x(l,a))),d.settings=new tj(e,d.queue);var y=null==n?void 0:n.storage;return d._universalStorage=d.createStore(v,y,h),d._user=null!=i?i:new Z((0,o.Cl)({persist:!v,storage:null==n?void 0:n.storage},null==n?void 0:n.user),h).load(),d._group=null!=s?s:new te((0,o.Cl)({persist:!v,storage:null==n?void 0:n.storage},null==n?void 0:n.group),h).load(),d.eventFactory=new P(d._user),d.integrations=null!=(p=null==n?void 0:n.integrations)?p:{},d.options=null!=n?n:{},q(d),d}return(0,o.C6)(e,t),e.prototype.createStore=function(t,e,n){return new z(t?[new K]:e&&U(e)?Q(G(e.stores,n)):Q([Y.LocalStorage,{name:Y.Cookie,settings:n},Y.Memory]))},Object.defineProperty(e.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),e.prototype.track=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.sH)(this,void 0,void 0,function(){var e,n,r,i,s,a,u,c=this;return(0,o.YH)(this,function(o){return e=tl(t),r=(n=l.apply(void 0,t))[0],i=n[1],s=n[2],a=n[3],u=this.eventFactory.track(r,i,s,this.integrations,e),[2,this._dispatch(u,a).then(function(t){return c.emit("track",r,t.event.properties,t.event.options),t})]})})},e.prototype.page=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.sH)(this,void 0,void 0,function(){var e,n,r,i,s,a,u,c,l=this;return(0,o.YH)(this,function(o){return e=tl(t),r=(n=f.apply(void 0,t))[0],i=n[1],s=n[2],a=n[3],u=n[4],c=this.eventFactory.page(r,i,s,a,this.integrations,e),[2,this._dispatch(c,u).then(function(t){return l.emit("page",r,i,t.event.properties,t.event.options),t})]})})},e.prototype.identify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.sH)(this,void 0,void 0,function(){var e,n,r,i,s,a,u,c=this;return(0,o.YH)(this,function(o){return e=tl(t),r=(n=p(this._user).apply(void 0,t))[0],i=n[1],s=n[2],a=n[3],this._user.identify(r,i),u=this.eventFactory.identify(this._user.id(),this._user.traits(),s,this.integrations,e),[2,this._dispatch(u,a).then(function(t){return c.emit("identify",t.event.userId,t.event.traits,t.event.options),t})]})})},e.prototype.group=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=tl(e);if(0===e.length)return this._group;var i=p(this._group).apply(void 0,e),o=i[0],s=i[1],a=i[2],u=i[3];this._group.identify(o,s);var c=this._group.id(),l=this._group.traits(),f=this.eventFactory.group(c,l,a,this.integrations,r);return this._dispatch(f,u).then(function(e){return t.emit("group",e.event.groupId,e.event.traits,e.event.options),e})},e.prototype.alias=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.sH)(this,void 0,void 0,function(){var e,n,r,i,s,a,u,c=this;return(0,o.YH)(this,function(o){return e=tl(t),r=(n=d.apply(void 0,t))[0],i=n[1],s=n[2],a=n[3],u=this.eventFactory.alias(r,i,s,this.integrations,e),[2,this._dispatch(u,a).then(function(t){return c.emit("alias",r,i,t.event.options),t})]})})},e.prototype.screen=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.sH)(this,void 0,void 0,function(){var e,n,r,i,s,a,u,c,l=this;return(0,o.YH)(this,function(o){return e=tl(t),r=(n=f.apply(void 0,t))[0],i=n[1],s=n[2],a=n[3],u=n[4],c=this.eventFactory.screen(r,i,s,a,this.integrations,e),[2,this._dispatch(c,u).then(function(t){return l.emit("screen",r,i,t.event.properties,t.event.options),t})]})})},e.prototype.trackClick=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.sH)(this,void 0,void 0,function(){var e;return(0,o.YH)(this,function(r){switch(r.label){case 0:return[4,n.e(248).then(n.bind(n,95951))];case 1:return[2,(e=r.sent().link).call.apply(e,(0,o.fX)([this],t,!1))]}})})},e.prototype.trackLink=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.sH)(this,void 0,void 0,function(){var e;return(0,o.YH)(this,function(r){switch(r.label){case 0:return[4,n.e(248).then(n.bind(n,95951))];case 1:return[2,(e=r.sent().link).call.apply(e,(0,o.fX)([this],t,!1))]}})})},e.prototype.trackSubmit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.sH)(this,void 0,void 0,function(){var e;return(0,o.YH)(this,function(r){switch(r.label){case 0:return[4,n.e(248).then(n.bind(n,95951))];case 1:return[2,(e=r.sent().form).call.apply(e,(0,o.fX)([this],t,!1))]}})})},e.prototype.trackForm=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.sH)(this,void 0,void 0,function(){var e;return(0,o.YH)(this,function(r){switch(r.label){case 0:return[4,n.e(248).then(n.bind(n,95951))];case 1:return[2,(e=r.sent().form).call.apply(e,(0,o.fX)([this],t,!1))]}})})},e.prototype.register=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.sH)(this,void 0,void 0,function(){var e,n=this;return(0,o.YH)(this,function(r){switch(r.label){case 0:return e=v.o.system(),[4,Promise.all(t.map(function(t){return n.queue.register(e,t,n)}))];case 1:return r.sent(),[2,e]}})})},e.prototype.deregister=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.sH)(this,void 0,void 0,function(){var e,n=this;return(0,o.YH)(this,function(r){switch(r.label){case 0:return e=v.o.system(),[4,Promise.all(t.map(function(t){var r=n.queue.plugins.find(function(e){return e.name===t});if(r)return n.queue.deregister(e,r,n);e.log("warn","plugin ".concat(t," not found"))}))];case 1:return r.sent(),[2,e]}})})},e.prototype.debug=function(t){return!1===t&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=t,this},e.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},e.prototype.timeout=function(t){this.settings.timeout=t},e.prototype._dispatch=function(t,e){return(0,o.sH)(this,void 0,void 0,function(){var n;return(0,o.YH)(this,function(r){return((n=new v.o(t)).stats.increment("analytics_js.invoke",1,[t.type]),(0,h.a)()&&!this.options.retryQueue)?[2,n]:[2,function(t,e,n,r){return(0,o.sH)(this,void 0,void 0,function(){var i,s;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(n.emit("dispatch_start",t),i=Date.now(),!e.isEmpty())return[3,2];return[4,e.dispatchSingle(t)];case 1:return s=o.sent(),[3,4];case 2:return[4,e.dispatch(t)];case 3:s=o.sent(),o.label=4;case 4:var a,u;if(!(null==r?void 0:r.callback))return[3,6];return[4,(0,y.w_)(s,r.callback,(a=i,Math.max((null!=(u=r.timeout)?u:300)-(Date.now()-a),0)))];case 5:s=o.sent(),o.label=6;case 6:return(null==r?void 0:r.debug)&&s.flush(),[2,s]}})})}(n,this.queue,this,{callback:e,debug:this._debug,timeout:this.settings.timeout})]})})},e.prototype.addSourceMiddleware=function(t){return(0,o.sH)(this,void 0,void 0,function(){var e=this;return(0,o.YH)(this,function(r){switch(r.label){case 0:return[4,this.queue.criticalTasks.run(function(){return(0,o.sH)(e,void 0,void 0,function(){var e,r,i;return(0,o.YH)(this,function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,68604))];case 1:return e=o.sent().sourceMiddlewarePlugin,r={},this.queue.plugins.forEach(function(t){if("destination"===t.type)return r[t.name]=!0}),i=e(t,r),[4,this.register(i)];case 2:return o.sent(),[2]}})})})];case 1:return r.sent(),[2,this]}})})},e.prototype.addDestinationMiddleware=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.queue.plugins.filter(M).forEach(function(n){("*"===t||n.name.toLowerCase()===t.toLowerCase())&&n.addMiddleware.apply(n,e)}),Promise.resolve(this)},e.prototype.setAnonymousId=function(t){return this._user.anonymousId(t)},e.prototype.queryString=function(t){return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:if(!1===this.options.useQueryString)return[2,[]];return[4,n.e(7538).then(n.bind(n,50725))];case 1:return[2,(0,e.sent().queryString)(this,t)]}})})},e.prototype.use=function(t){return t(this),this},e.prototype.ready=function(t){return void 0===t&&(t=function(t){return t}),(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(e){return[2,Promise.all(this.queue.plugins.map(function(t){return t.ready?t.ready():Promise.resolve()})).then(function(e){return t(e),e})]})})},e.prototype.noConflict=function(){return console.warn(tI),(0,ti.Ud)(null!=tO?tO:this),this},e.prototype.normalize=function(t){return console.warn(tI),this.eventFactory.normalize(t)},Object.defineProperty(e.prototype,"failedInitializations",{get:function(){return console.warn(tI),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"VERSION",{get:function(){return tn.r},enumerable:!1,configurable:!0}),e.prototype.initialize=function(t,e){return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(t){return console.warn(tI),[2,Promise.resolve(this)]})})},e.prototype.pageview=function(t){return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:return console.warn(tI),[4,this.page({path:t})];case 1:return e.sent(),[2,this]}})})},Object.defineProperty(e.prototype,"plugins",{get:function(){var t;return console.warn(tI),null!=(t=this._plugins)?t:{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Integrations",{get:function(){return console.warn(tI),this.queue.plugins.filter(function(t){return"destination"===t.type}).reduce(function(t,e){var n="".concat(e.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),r=window[n];if(!r)return t;var i=r.Integration;return i?t[e.name]=i:t[e.name]=r,t},{})},enumerable:!1,configurable:!0}),e.prototype.push=function(t){var e=t.shift();(!e||this[e])&&this[e].apply(this,t)},e}(g.v),tM=function(t){function e(){var e=t.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return e.initialized=!0,e}return(0,o.C6)(e,t),e}(tP),tH=n(11345),tF=n(21407),tN=n(25461),tD=function(t){try{var e=new URLSearchParams;return Object.entries(t).forEach(function(t){var n=t[0],r=t[1];Array.isArray(r)?r.forEach(function(t){return e.append(n,t)}):e.append(n,r)}),e.toString()}catch(t){return""}},tL=new function(){var t=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(e,n){return(0,o.sH)(t,void 0,void 0,function(){var t;return(0,o.YH)(this,function(e){switch(e.label){case 0:this.instance=n,e.label=1;case 1:return e.trys.push([1,3,,4]),t=this,[4,function(t){return(0,o.sH)(this,void 0,void 0,function(){var e;return(0,o.YH)(this,function(n){return(e=navigator.userAgentData)?t?[2,e.getHighEntropyValues(t).catch(function(){return e.toJSON()})]:[2,e.toJSON()]:[2,void 0]})})}(this.instance.options.highEntropyValuesClientHints)];case 2:return t.userAgentData=e.sent(),[3,4];case 3:return e.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(e){var n,i,s,a,u,c,l=e.event.context,f=l.page.search||"",p="object"==typeof f?tD(f):f;l.userAgent=navigator.userAgent,l.userAgentData=t.userAgentData;var d=navigator.userLanguage||navigator.language;void 0===l.locale&&void 0!==d&&(l.locale=d),null!=l.library||(l.library={name:"analytics.js",version:"".concat("web"===(0,to.X)()?"next":"npm:next","-").concat(tn.r)}),p&&!l.campaign&&((n=p).startsWith("?")&&(n=n.substring(1)),l.campaign=(n=n.replace(/\?/g,"&")).split("&").reduce(function(t,e){var n=e.split("="),r=n[0],i=n[1];if(r.includes("utm_")&&r.length>4){var o=r.slice(4);"campaign"===o&&(o="name"),t[o]=(0,tN.p)(void 0===i?"":i)}return t},{}));var h=function(){var t=J.get("_ga");if(t&&t.startsWith("amp"))return t}();h&&(l.amp={id:h}),a=(s=new z(null!=(c=t.instance.options.disableClientPersistence)&&c?[]:[new B(function(){if(r)return r;var t=W(window.location.href);return r={expires:31536e6,secure:!1,path:"/"},t&&(r.domain=t),r}())])).get("s:context.referrer"),(u=null!=(i=function(t){var e={btid:"dataxu",urid:"millennial-media"};t.startsWith("?")&&(t=t.substring(1));for(var n=(t=t.replace(/\?/g,"&")).split("&"),r=0;r<n.length;r++){var i=n[r].split("="),o=i[0],s=i[1];if(e[o])return{id:s,type:e[o]}}}(p))?i:a)&&(l&&(l.referrer=(0,o.Cl)((0,o.Cl)({},l.referrer),u)),s.set("s:context.referrer",u));try{l.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(t){}return e},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich},tT=n(82714),tq=n(68604),tY=n(45214),tR=function(){function t(t,e){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=(0,tF.u)(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=e,this.name=t,this.type=e.type,this.alternativeNames.push(e.name)}return t.prototype.addMiddleware=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];"destination"===this.type&&(t=this.middleware).push.apply(t,e)},t.prototype.transform=function(t){return(0,o.sH)(this,void 0,void 0,function(){var e;return(0,o.YH)(this,function(n){switch(n.label){case 0:return[4,(0,tq.applyDestinationMiddleware)(this.name,t.event,this.middleware)];case 1:return null===(e=n.sent())&&t.cancel(new N.d({retry:!1,reason:"dropped by destination middleware"})),[2,new v.o(e)]}})})},t.prototype._createMethod=function(t){var e=this;return function(n){return(0,o.sH)(e,void 0,void 0,function(){var e,r;return(0,o.YH)(this,function(i){switch(i.label){case 0:if(!this.action[t])return[2,n];if(e=n,"destination"!==this.type)return[3,2];return[4,this.transform(n)];case 1:e=i.sent(),i.label=2;case 2:return i.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!i.sent())throw Error("Something prevented the destination from getting ready");return(0,tY.y)(n,{integrationName:this.action.name,methodName:t,type:"action"}),[4,this.action[t](e)];case 4:return i.sent(),[3,6];case 5:throw r=i.sent(),(0,tY.y)(n,{integrationName:this.action.name,methodName:t,type:"action",didError:!0}),r;case 6:return[2,n]}})})}},t.prototype.isLoaded=function(){return this.action.isLoaded()},t.prototype.ready=function(){return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return t.sent(),[2,!0];case 2:return t.sent(),[2,!1];case 3:return[2]}})})},t.prototype.load=function(t,e){return(0,o.sH)(this,void 0,void 0,function(){var n,r,i,s;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];o.label=1;case 1:return o.trys.push([1,3,,4]),(0,tY.y)(t,{integrationName:this.action.name,methodName:"load",type:"action"}),n=this.action.load(t,e),i=(r=this.loadPromise).resolve,[4,n];case 2:return i.apply(r,[o.sent()]),[2,n];case 3:throw s=o.sent(),(0,tY.y)(t,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(s),s;case 4:return[2]}})})},t.prototype.unload=function(t,e){var n,r;return null==(r=(n=this.action).unload)?void 0:r.call(n,t,e)},t}(),tz=(0,tr.m)(),tK=null!=(i=tz.__SEGMENT_INSPECTOR__)?i:tz.__SEGMENT_INSPECTOR__={},tU=function(t){var e;return null==(e=tK.attach)?void 0:e.call(tK,t)},t$=n(43850),tJ=function(){var t,e,n=null!=(t=window.location.hash)?t:"",r=null!=(e=window.location.search)?e:"";return r.length?r:n.replace(/(?=#).*(?=\?)/,"")},tW=function(t){function e(){var e=this,r=(0,tF.u)(),i=r.promise,s=r.resolve;return(e=t.call(this,function(t){return i.then(function(e){return function(t,e,r){var i,s,c,l,f,p,d,y,g;return void 0===e&&(e={}),(0,o.sH)(this,void 0,void 0,function(){var m,b,w,_,x,k,S,C,I,E;return(0,o.YH)(this,function(O){switch(O.label){case 0:if(!0===e.disable)return[2,[new tM,v.o.system()]];if(e.globalAnalyticsKey&&(0,ti.rY)(e.globalAnalyticsKey),t.cdnURL&&(0,u.qQ)(t.cdnURL),e.initialPageview&&r.add(new tp("page",[])),m=tJ(),b=null!=(i=t.cdnURL)?i:(0,u.I2)(),null==(s=t.cdnSettings))return[3,1];return _=s,[3,3];case 1:var j,A;return[4,(j=t.writeKey,A=b,(0,tg.h)("".concat(A,"/v1/projects/").concat(j,"/settings")).then(function(t){return t.ok?t.json():t.text().then(function(t){throw Error(t)})}).catch(function(t){throw console.error(t.message),t}))];case 2:_=O.sent(),O.label=3;case 3:if(w=_,e.updateCDNSettings&&(w=e.updateCDNSettings(w)),"function"!=typeof e.disable)return[3,5];return[4,e.disable(w)];case 4:if(O.sent())return[2,[new tM,v.o.system()]];O.label=5;case 5:return x=null==(l=null==(c=w.integrations["Segment.io"])?void 0:c.retryQueue)||l,e=(0,o.Cl)({retryQueue:x},e),tU(k=new tP((0,o.Cl)((0,o.Cl)({},t),{cdnSettings:w,cdnURL:b}),e)),S=null!=(f=t.plugins)?f:[],C=null!=(p=t.classicIntegrations)?p:[],I=null==(d=e.integrations)?void 0:d["Segment.io"],t$.U.initRemoteMetrics((0,o.Cl)((0,o.Cl)({},w.metrics),{host:null!=(y=null==I?void 0:I.apiHost)?y:null==(g=w.metrics)?void 0:g.host,protocol:null==I?void 0:I.protocol})),[4,function(t,e,r,i,s,c,l){var f,p,d;return void 0===s&&(s=[]),(0,o.sH)(this,void 0,void 0,function(){var y,g,m,b,w,_,x,k,S,C,I,E,O,j,A=this;return(0,o.YH)(this,function(P){var M,N,D;switch(P.label){case 0:if(tu(r,l),ta(r,l),y=null==s?void 0:s.filter(function(t){return"object"==typeof t}),g=null==s?void 0:s.filter(function(t){return"function"==typeof t&&"string"==typeof t.pluginName}),"test"===a().NODE_ENV||!((null!=(D=null==(N=null==(M=e.middlewareSettings)?void 0:M.routingRules)?void 0:N.length)?D:0)>0))return[3,2];return[4,n.e(9010).then(n.bind(n,37789)).then(function(t){return t.tsubMiddleware(e.middlewareSettings.routingRules)})];case 1:return b=P.sent(),[3,3];case 2:b=void 0,P.label=3;case 3:if(m=b,("test"===a().NODE_ENV||!(Object.keys(e.integrations).length>1))&&!(c.length>0))return[3,5];return[4,n.e(5050).then(n.bind(n,44118)).then(function(n){return n.ajsDestinations(t,e,r.integrations,i,m,c)})];case 4:return _=P.sent(),[3,6];case 5:_=[],P.label=6;case 6:if(w=_,!e.legacyVideoPluginsEnabled)return[3,8];return[4,n.e(9694).then(n.bind(n,67884)).then(function(t){return t.loadLegacyVideoPlugins(r)})];case 7:P.sent(),P.label=8;case 8:if(!(null==(f=i.plan)?void 0:f.track))return[3,10];return[4,n.e(3104).then(n.bind(n,93398)).then(function(t){var n;return t.schemaFilter(null==(n=i.plan)?void 0:n.track,e)})];case 9:return k=P.sent(),[3,11];case 10:k=void 0,P.label=11;case 11:return x=k,S=(0,tH.J)(e,i),[4,(function(t,e,n,r,i,s){var a,c,l;return(0,o.sH)(this,void 0,void 0,function(){var f,p,d=this;return(0,o.YH)(this,function(h){switch(h.label){case 0:return f=[],p=null!=(c=null==(a=t.middlewareSettings)?void 0:a.routingRules)?c:[],[4,Promise.all((null!=(l=t.remotePlugins)?l:[]).map(function(t){return(0,o.sH)(d,void 0,void 0,function(){var a,c,l,d,h,v;return(0,o.YH)(this,function(y){switch(y.label){case 0:var g,m;if(g=e[t.creationName],m=e[t.name],!1===e.All&&!g&&!m||!1===g||!1===m||0)return[2];y.label=1;case 1:if(y.trys.push([1,6,,7]),c=null==s?void 0:s.find(function(e){return e.pluginName===t.name}))return[3,3];return[4,function(t,e){return(0,o.sH)(this,void 0,void 0,function(){var n,r,i,s,a,c;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(o.trys.push([0,9,,10]),n=RegExp("https://cdn.segment.(com|build)"),r=(0,u.I2)(),!e)return[3,6];s=(i=t.url.split("/"))[i.length-2],a=t.url.replace(s,btoa(s).replace(/=/g,"")),o.label=1;case 1:return o.trys.push([1,3,,5]),[4,(0,tT.k)(a.replace(n,r))];case 2:case 4:return o.sent(),[3,5];case 3:return o.sent(),[4,(0,tT.k)(t.url.replace(n,r))];case 5:return[3,8];case 6:return[4,(0,tT.k)(t.url.replace(n,r))];case 7:o.sent(),o.label=8;case 8:if("function"==typeof window[t.libraryName])return[2,window[t.libraryName]];return[3,10];case 9:throw c=o.sent(),console.error("Failed to create PluginFactory",t),c;case 10:return[2]}})})}(t,null==r?void 0:r.obfuscate)];case 2:c=y.sent(),y.label=3;case 3:if(!(a=c))return[3,5];return l=n[t.name],[4,a((0,o.Cl)((0,o.Cl)({},t.settings),l))];case 4:!function(t){if(!Array.isArray(t))throw Error("Not a valid list of plugins");var e=["load","isLoaded","name","version","type"];t.forEach(function(t){e.forEach(function(e){var n;if(void 0===t[e])throw Error("Plugin: ".concat(null!=(n=t.name)?n:"unknown"," missing required function ").concat(e))})})}(h=Array.isArray(d=y.sent())?d:[d]),v=p.filter(function(e){return e.destinationName===t.creationName}),h.forEach(function(e){var n=new tR(t.creationName,e);v.length&&i&&n.addMiddleware(i),f.push(n)}),y.label=5;case 5:return[3,7];case 6:return console.warn("Failed to load Remote Plugin",y.sent()),[3,7];case 7:return[2]}})})}))];case 1:return h.sent(),[2,f.filter(Boolean)]}})})})(e,r.integrations,S,i,m,g).catch(function(){return[]})];case 12:if(C=P.sent(),I=(0,o.fX)((0,o.fX)([tL],w,!0),C,!0),x&&I.push(x),(null==(p=i.integrations)?void 0:p.All)===!1&&!i.integrations["Segment.io"]||i.integrations&&!1===i.integrations["Segment.io"])return[3,14];return O=(E=I).push,[4,function(t,e,n){window.addEventListener("pagehide",function(){c.push.apply(c,Array.from(l)),l.clear()});var r,i,s,a,u=null!=(i=null==e?void 0:e.apiKey)?i:"",c=t.options.disableClientPersistence?new F.M(t.queue.queue.maxAttempts,[]):new H.x(t.queue.queue.maxAttempts,"".concat(u,":dest-Segment.io")),l=new Set,f=null!=(s=null==e?void 0:e.apiHost)?s:tS.a,p=null!=(a=null==e?void 0:e.protocol)?a:"https",d="".concat(p,"://").concat(f),y=null==e?void 0:e.deliveryStrategy,g=y&&"strategy"in y&&"batching"===y.strategy?function(t,e){var n,r,i,s=[],a=!1,u=null!=(n=null==e?void 0:e.size)?n:10,c=null!=(r=null==e?void 0:e.timeout)?r:5e3,l=0;function f(n){if(0!==n.length){var r,i=null==(r=n[0])?void 0:r.writeKey,s=n.map(function(t){return t.sentAt,(0,o.Tt)(t,["sentAt"])});return(0,tg.h)("https://".concat(t,"/b"),{credentials:null==e?void 0:e.credentials,keepalive:(null==e?void 0:e.keepalive)||a,headers:tw(null==e?void 0:e.headers),method:"post",body:JSON.stringify({writeKey:i,batch:s,sentAt:new Date().toISOString()}),priority:null==e?void 0:e.priority}).then(function(t){var e;if(t.status>=500)throw Error("Bad response from server: ".concat(t.status));if(429===t.status){var n=null==(e=t.headers)?void 0:e.get("x-ratelimit-reset"),r="string"==typeof n?1e3*parseInt(n):c;throw new tb("Rate limit exceeded: ".concat(t.status),r)}})}}function p(t){var n;return void 0===t&&(t=1),(0,o.sH)(this,void 0,void 0,function(){var r;return(0,o.YH)(this,function(i){return s.length?(r=s,s=[],[2,null==(n=f(r))?void 0:n.catch(function(n){var i;v.o.system().log("error","Error sending batch",n),t<=(null!=(i=null==e?void 0:e.maxRetries)?i:10)&&("RateLimitError"===n.name&&(l=n.retryTimeout),s.push.apply(s,r),s.map(function(e){"_metadata"in e&&(e._metadata=(0,o.Cl)((0,o.Cl)({},e._metadata),{retryCount:t}))}),d(t+1))})]):[2]})})}function d(t){void 0===t&&(t=1),i||(i=setTimeout(function(){i=void 0,p(t).catch(console.error)},l||c),l=0)}return tm(function(t){if((a=t)&&s.length){var e,n;Promise.all((e=[],n=0,s.forEach(function(t){t_(e[n])>=64&&n++,e[n]?e[n].push(t):e[n]=[t]}),e).map(f)).catch(console.error)}}),{dispatch:function(t,n){return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(t){return s.push(n),[2,s.length>=u||t_(s)>=450||(null==e?void 0:e.keepalive)&&t_(s)>=54||a?p():d()]})})}}}(f,y.config):(r=null==y?void 0:y.config,{dispatch:function(t,e){return(0,tg.h)(t,{credentials:null==r?void 0:r.credentials,keepalive:null==r?void 0:r.keepalive,headers:tw(null==r?void 0:r.headers),method:"post",body:JSON.stringify(e),priority:null==r?void 0:r.priority}).then(function(t){var e;if(t.status>=500)throw Error("Bad response from server: ".concat(t.status));if(429===t.status){var n=null==(e=t.headers)?void 0:e.get("x-ratelimit-reset"),r=n?1e3*parseInt(n):5e3;throw new tb("Rate limit exceeded: ".concat(t.status),r)}})}});function m(r){return(0,o.sH)(this,void 0,void 0,function(){var i,s;return(0,o.YH)(this,function(a){var u,f,p,v,y,m;return(0,h.a)()?(c.push(r),tk(!1,c,b,tk),[2,r]):(l.add(r),i=r.event.type.charAt(0),s=(0,ty.W)(r.event).json(),"track"===r.event.type&&delete s.traits,"alias"===r.event.type&&(u=s,m=t.user(),u.previousId=null!=(v=null!=(p=null!=(f=u.previousId)?f:u.from)?p:m.id())?v:m.anonymousId(),u.userId=null!=(y=u.userId)?y:u.to,delete u.from,delete u.to,s=u),c.getAttempts(r)>=c.maxAttempts)?(l.delete(r),[2,r]):[2,g.dispatch("".concat(d,"/").concat(i),function(t,e,n,r,i){var s,a=t.user();delete e.options,e.writeKey=null==n?void 0:n.apiKey,e.userId=e.userId||a.id(),e.anonymousId=e.anonymousId||a.anonymousId(),e.sentAt=new Date;var u=t.queue.failedInitializations||[];u.length>0&&(e._metadata={failedInitializations:u}),null!=i&&(i.attempts>1&&(e._metadata=(0,o.Cl)((0,o.Cl)({},e._metadata),{retryCount:i.attempts})),i.attempts++);var c=[],l=[];for(var f in r){var p=r[f];"Segment.io"===f&&c.push(f),"bundled"===p.bundlingStatus&&c.push(f),"unbundled"===p.bundlingStatus&&l.push(f)}for(var d=0,h=(null==n?void 0:n.unbundledIntegrations)||[];d<h.length;d++){var v=h[d];l.includes(v)||l.push(v)}var y=null!=(s=null==n?void 0:n.maybeBundledConfigIds)?s:{},g=[];return c.sort().forEach(function(t){var e;(null!=(e=y[t])?e:[]).forEach(function(t){g.push(t)})}),(null==n?void 0:n.addBundledMetadata)!==!1&&(e._metadata=(0,o.Cl)((0,o.Cl)({},e._metadata),{bundled:c.sort(),unbundled:l.sort(),bundledIds:g})),e}(t,s,e,n,r)).then(function(){return r}).catch(function(t){if(r.log("error","Error sending event",t),"RateLimitError"===t.name){var e=t.retryTimeout;c.pushWithBackoff(r,e)}else c.pushWithBackoff(r);return tk(!1,c,b,tk),r}).finally(function(){l.delete(r)})]})})}var b={metadata:{writeKey:u,apiHost:f,protocol:p},name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:m,identify:m,page:m,alias:m,group:m,screen:m};return c.todo&&tk(!1,c,b,tk),b}(r,S["Segment.io"],e.integrations)];case 13:O.apply(E,[P.sent()]),P.label=14;case 14:return[4,r.register.apply(r,(0,o.fX)((0,o.fX)([],I,!1),y,!1))];case 15:return j=P.sent(),[4,(0,o.sH)(void 0,void 0,void 0,function(){var t,e;return(0,o.YH)(this,function(n){switch(n.label){case 0:t=0,e=l.getAndRemove("register"),n.label=1;case 1:if(!(t<e.length))return[3,4];return[4,th(r,e[t]).catch(console.error)];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return[2]}})})];case 16:if(P.sent(),!Object.entries(null!=(d=e.enabledMiddleware)?d:{}).some(function(t){return t[1]}))return[3,18];return[4,n.e(521).then(n.bind(n,15615)).then(function(t){var n=t.remoteMiddlewares;return(0,o.sH)(A,void 0,void 0,function(){return(0,o.YH)(this,function(t){switch(t.label){case 0:return[4,n(j,e,i.obfuscate)];case 1:return[2,Promise.all(t.sent().map(function(t){return r.addSourceMiddleware(t)}))]}})})})];case 17:P.sent(),P.label=18;case 18:return[4,(0,o.sH)(void 0,void 0,void 0,function(){var t,e;return(0,o.YH)(this,function(n){switch(n.label){case 0:t=0,e=l.getAndRemove("addSourceMiddleware"),n.label=1;case 1:if(!(t<e.length))return[3,4];return[4,th(r,e[t]).catch(console.error)];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return[2]}})})];case 19:return P.sent(),[2,j]}})})}(t.writeKey,w,k,e,S,C,r)];case 6:return E=O.sent(),k.initialized=!0,k.emit("initialize",t,e),[4,function(t,e,n){return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(r){switch(r.label){case 0:var i,s;return[4,(i=t,s=e,(0,o.sH)(void 0,void 0,void 0,function(){return(0,o.YH)(this,function(t){switch(t.label){case 0:if(!s.includes("ajs_"))return[3,2];return[4,i.queryString(s).catch(console.error)];case 1:t.sent(),t.label=2;case 2:return[2]}})}))];case 1:return r.sent(),tc(t,n),[2]}})})}(k,m,r)];case 7:return O.sent(),[2,[k,E]]}})})}(e[0],e[1],t)})})||this)._resolveLoadStart=function(t,e){return s([t,e])},e}return(0,o.C6)(e,t),e.prototype.load=function(t,e){return void 0===e&&(e={}),this._resolveLoadStart(t,e),this},e.load=function(t,n){return void 0===n&&(n={}),new e().load(t,n)},e.standalone=function(t,n){return e.load({writeKey:t},n).then(function(t){return t[0]})},e}(tv)},77840:(t,e,n)=>{"use strict";var r=n(69001);t.exports=function t(e,n){var i,o,s,a;if(void 0===n&&(n=!0),e&&"object"==typeof e){return i=e,o=n,Object.keys(i).forEach(function(e){i[e]=t(i[e],o)}),i}if(Array.isArray(e)){return s=e,a=n,s.forEach(function(e,n){s[n]=t(e,a)}),s}return r.is(e,n)?r.parse(e):e}},78219:(t,e,n)=>{"use strict";n.d(e,{Ud:()=>s,kJ:()=>i,rY:()=>o});var r="analytics";function i(){return window[r]}function o(t){r=t}function s(t){window[r]=t}},79104:(t,e,n)=>{"use strict";n.d(e,{v:()=>r});var r=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(((e=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&e.setAttribute("nonce",this.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e));var e,n=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(n);try{r.insertRule(t,r.cssRules.length)}catch(t){}}else n.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach(function(t){var e;return null==(e=t.parentNode)?void 0:e.removeChild(t)}),this.tags=[],this.ctr=0},t}()},79462:(t,e,n)=>{"use strict";n.d(e,{_:()=>i});var r=n(17867),i=function(t,e){return(0,r.sH)(void 0,void 0,void 0,function(){var n;return(0,r.YH)(this,function(i){return[2,(n=function(i){return(0,r.sH)(void 0,void 0,void 0,function(){var o;return(0,r.YH)(this,function(r){switch(r.label){case 0:if(!t(i))return[3,2];return o=n,[4,e()];case 1:return[2,o.apply(void 0,[r.sent()])];case 2:return[2]}})})})(void 0)]})})}},79567:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Alias=void 0;var i=r(n(45381)),o=n(6763);function s(t,e){o.Facade.call(this,t,e)}e.Alias=s,i.default(s,o.Facade),s.prototype.action=function(){return"alias"},s.prototype.type=s.prototype.action,s.prototype.previousId=function(){return this.field("previousId")||this.field("from")},s.prototype.from=s.prototype.previousId,s.prototype.userId=function(){return this.field("userId")||this.field("to")},s.prototype.to=s.prototype.userId},79848:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var r=n(64643);function i(t,e){var n=new r.Facade(t,e);return"track"===t.type&&(n=new r.Track(t,e)),"identify"===t.type&&(n=new r.Identify(t,e)),"page"===t.type&&(n=new r.Page(t,e)),"alias"===t.type&&(n=new r.Alias(t,e)),"group"===t.type&&(n=new r.Group(t,e)),"screen"===t.type&&(n=new r.Screen(t,e)),Object.defineProperty(n,"obj",{value:t,writable:!0}),n}},81616:(t,e,n)=>{"use strict";n.d(e,{v:()=>r});var r=function(){function t(t){var e;this.callbacks={},this.warned=!1,this.maxListeners=null!=(e=null==t?void 0:t.maxListeners)?e:10}return t.prototype.warnIfPossibleMemoryLeak=function(t){!this.warned&&this.maxListeners&&this.callbacks[t].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(t)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},t.prototype.on=function(t,e){return this.callbacks[t]?(this.callbacks[t].push(e),this.warnIfPossibleMemoryLeak(t)):this.callbacks[t]=[e],this},t.prototype.once=function(t,e){var n=this,r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];n.off(t,r),e.apply(n,i)};return this.on(t,r),this},t.prototype.off=function(t,e){var n,r=(null!=(n=this.callbacks[t])?n:[]).filter(function(t){return t!==e});return this.callbacks[t]=r,this},t.prototype.emit=function(t){for(var e,n=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return(null!=(e=this.callbacks[t])?e:[]).forEach(function(t){t.apply(n,r)}),this},t}()},82714:(t,e,n)=>{"use strict";function r(t){return Array.prototype.slice.call(window.document.querySelectorAll("script")).find(function(e){return e.src===t})}function i(t,e){var n=r(t);if(void 0!==n){var i=null==n?void 0:n.getAttribute("status");if("loaded"===i)return Promise.resolve(n);if("loading"===i)return new Promise(function(t,e){n.addEventListener("load",function(){return t(n)}),n.addEventListener("error",function(t){return e(t)})})}return new Promise(function(n,r){var i,o=window.document.createElement("script");o.type="text/javascript",o.src=t,o.async=!0,o.setAttribute("status","loading");for(var s=0,a=Object.entries(null!=e?e:{});s<a.length;s++){var u=a[s],c=u[0],l=u[1];o.setAttribute(c,l)}o.onload=function(){o.onerror=o.onload=null,o.setAttribute("status","loaded"),n(o)},o.onerror=function(){o.onerror=o.onload=null,o.setAttribute("status","error"),r(Error("Failed to load ".concat(t)))};var f=window.document.querySelector("script");f?null==(i=f.parentElement)||i.insertBefore(o,f):window.document.head.appendChild(o)})}function o(t){var e=r(t);return void 0!==e&&e.remove(),Promise.resolve()}n.d(e,{d:()=>o,k:()=>i})},84070:(t,e,n)=>{"use strict";n.d(e,{m:()=>r});var r=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:null}},84404:(t,e,n)=>{"use strict";n.d(e,{J:()=>h});var r,i={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(86874),s=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function(t){return 45===t.charCodeAt(1)},c=function(t){return null!=t&&"boolean"!=typeof t},l=(0,o.A)(function(t){return u(t)?t:t.replace(s,"-$&").toLowerCase()}),f=function(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(a,function(t,e,n){return r={name:e,styles:n,next:r},e})}return 1===i[t]||u(t)||"number"!=typeof e||0===e?e:e+"px"};function p(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return r={name:n.name,styles:n.styles,next:r},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)r={name:i.name,styles:i.styles,next:r},i=i.next;return n.styles+";"}return function(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=p(t,e,n[i])+";";else for(var o in n){var s=n[o];if("object"!=typeof s)null!=e&&void 0!==e[s]?r+=o+"{"+e[s]+"}":c(s)&&(r+=l(o)+":"+f(o,s)+";");else if(Array.isArray(s)&&"string"==typeof s[0]&&(null==e||void 0===e[s[0]]))for(var a=0;a<s.length;a++)c(s[a])&&(r+=l(o)+":"+f(o,s[a])+";");else{var u=p(t,e,s);switch(o){case"animation":case"animationName":r+=l(o)+":"+u+";";break;default:r+=o+"{"+u+"}"}}}return r}(t,e,n);case"function":if(void 0!==t){var o=r,s=n(t);return r=o,p(t,e,s)}}if(null==e)return n;var a=e[n];return void 0!==a?a:n}var d=/label:\s*([^\s;{]+)\s*(;|$)/g;function h(t,e,n){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var i,o=!0,s="";r=void 0;var a=t[0];null==a||void 0===a.raw?(o=!1,s+=p(n,e,a)):s+=a[0];for(var u=1;u<t.length;u++)s+=p(n,e,t[u]),o&&(s+=a[u]);d.lastIndex=0;for(var c="";null!==(i=d.exec(s));)c+="-"+i[1];return{name:function(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))*0x5bd1e995+((e>>>16)*59797<<16),e^=e>>>24,n=(65535&e)*0x5bd1e995+((e>>>16)*59797<<16)^(65535&n)*0x5bd1e995+((n>>>16)*59797<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n^=255&t.charCodeAt(r),n=(65535&n)*0x5bd1e995+((n>>>16)*59797<<16)}return n^=n>>>13,(((n=(65535&n)*0x5bd1e995+((n>>>16)*59797<<16))^n>>>15)>>>0).toString(36)}(s)+c,styles:s,next:r}}},85871:(t,e)=>{"use strict";var n=/\d{13}/;e.is=function(t){return n.test(t)},e.parse=function(t){return new Date(t=parseInt(t,10))}},86874:(t,e,n)=>{"use strict";function r(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}n.d(e,{A:()=>r})},87166:(t,e,n)=>{"use strict";n.d(e,{o:()=>s});var r=n(17867),i=n(20550),o=n(43850),s=function(t){function e(e,n){return t.call(this,e,n,new o.U)||this}return(0,r.C6)(e,t),e.system=function(){return new this({type:"track",event:"system"})},e}(i.j)},88766:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Delete=void 0;var i=r(n(45381)),o=n(6763);function s(t,e){o.Facade.call(this,t,e)}e.Delete=s,i.default(s,o.Facade),s.prototype.type=function(){return"delete"}},89841:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Identify=void 0;var i=n(6763),o=r(n(99850)),s=r(n(45381)),a=r(n(35436)),u=r(n(18515)),c=function(t){return t.trim()};function l(t,e){i.Facade.call(this,t,e)}e.Identify=l,s.default(l,i.Facade);var f=l.prototype;f.action=function(){return"identify"},f.type=f.action,f.traits=function(t){var e=this.field("traits")||{},n=this.userId();for(var r in t=t||{},n&&(e.id=n),t){var i=null==this[r]?this.proxy("traits."+r):this[r]();null!=i&&(e[t[r]]=i,r!==t[r]&&delete e[r])}return e},f.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.userId();if(a.default(e))return e},f.created=function(){var t=this.proxy("traits.created")||this.proxy("traits.createdAt");if(t)return u.default(t)},f.companyCreated=function(){var t=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(t)return u.default(t)},f.companyName=function(){return this.proxy("traits.company.name")},f.name=function(){var t=this.proxy("traits.name");if("string"==typeof t)return c(t);var e=this.firstName(),n=this.lastName();if(e&&n)return c(e+" "+n)},f.firstName=function(){var t=this.proxy("traits.firstName");if("string"==typeof t)return c(t);var e=this.proxy("traits.name");if("string"==typeof e)return c(e).split(" ")[0]},f.lastName=function(){var t=this.proxy("traits.lastName");if("string"==typeof t)return c(t);var e=this.proxy("traits.name");if("string"==typeof e){var n=c(e).indexOf(" ");if(-1!==n)return c(e.substr(n+1))}},f.uid=function(){return this.userId()||this.username()||this.email()},f.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},f.age=function(){var t=this.birthday(),e=o.default(this.traits(),"age");return null!=e?e:t instanceof Date?new Date().getFullYear()-t.getFullYear():void 0},f.avatar=function(){var t=this.traits();return o.default(t,"avatar")||o.default(t,"photoUrl")||o.default(t,"avatarUrl")},f.position=function(){var t=this.traits();return o.default(t,"position")||o.default(t,"jobTitle")},f.username=i.Facade.proxy("traits.username"),f.website=i.Facade.one("traits.website"),f.websites=i.Facade.multi("traits.website"),f.phone=i.Facade.one("traits.phone"),f.phones=i.Facade.multi("traits.phone"),f.address=i.Facade.proxy("traits.address"),f.gender=i.Facade.proxy("traits.gender"),f.birthday=i.Facade.proxy("traits.birthday")},91608:(t,e,n)=>{"use strict";function r(){return"undefined"!=typeof window}function i(){return!r()}n.d(e,{B:()=>r,S:()=>i})},93411:(t,e,n)=>{"use strict";function r(t,e){return new Promise(function(n,r){var i=setTimeout(function(){r(Error("Promise timed out"))},e);t.then(function(t){return clearTimeout(i),n(t)}).catch(r)})}function i(t,e,n){var i=function(){try{return Promise.resolve(e(t))}catch(t){return Promise.reject(t)}};return new Promise(function(t){return setTimeout(t,n)}).then(function(){return r(i(),1e3)}).catch(function(e){null==t||t.log("warn","Callback Error",{error:e}),null==t||t.stats.increment("callback_error")}).then(function(){return t})}n.d(e,{s2:()=>r,w_:()=>i})},94968:(t,e,n)=>{"use strict";function r(t,e,n){e.split&&(e=e.split("."));for(var r,i,o=0,s=e.length,a=t;o<s&&"__proto__"!=(i=""+e[o++])&&"constructor"!==i&&"prototype"!==i;)a=a[i]=o===s?n:typeof(r=a[i])==typeof e?r:0*e[o]!=0||~(""+e[o]).indexOf(".")?{}:[]}n.d(e,{J:()=>r})},95060:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Track=void 0;var i=r(n(45381)),o=n(6763),s=n(89841),a=r(n(35436)),u=r(n(99850));function c(t,e){o.Facade.call(this,t,e)}e.Track=c,i.default(c,o.Facade);var l=c.prototype;l.action=function(){return"track"},l.type=l.action,l.event=o.Facade.field("event"),l.value=o.Facade.proxy("properties.value"),l.category=o.Facade.proxy("properties.category"),l.id=o.Facade.proxy("properties.id"),l.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")},l.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")},l.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")},l.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")},l.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")},l.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")},l.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")},l.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")},l.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")},l.sku=o.Facade.proxy("properties.sku"),l.tax=o.Facade.proxy("properties.tax"),l.name=o.Facade.proxy("properties.name"),l.price=o.Facade.proxy("properties.price"),l.total=o.Facade.proxy("properties.total"),l.repeat=o.Facade.proxy("properties.repeat"),l.coupon=o.Facade.proxy("properties.coupon"),l.shipping=o.Facade.proxy("properties.shipping"),l.discount=o.Facade.proxy("properties.discount"),l.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")},l.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")},l.description=o.Facade.proxy("properties.description"),l.plan=o.Facade.proxy("properties.plan"),l.subtotal=function(){var t=u.default(this.properties(),"subtotal"),e=this.total()||this.revenue();if(t)return t;if(!e)return 0;if(this.total()){var n=this.tax();n&&(e-=n),(n=this.shipping())&&(e-=n),(n=this.discount())&&(e+=n)}return e},l.products=function(){var t=this.properties(),e=u.default(t,"products");return Array.isArray(e)?e.filter(function(t){return null!==t}):[]},l.quantity=function(){return(this.obj.properties||{}).quantity||1},l.currency=function(){return(this.obj.properties||{}).currency||"USD"},l.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},l.query=o.Facade.proxy("options.query"),l.properties=function(t){var e=this.field("properties")||{};for(var n in t=t||{})if(Object.prototype.hasOwnProperty.call(t,n)){var r=null==this[n]?this.proxy("properties."+n):this[n]();if(null==r)continue;e[t[n]]=r,delete e[n]}return e},l.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},l.email=function(){var t=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(t)return t;var e=this.userId();if(a.default(e))return e},l.revenue=function(){var t=this.proxy("properties.revenue"),e=this.event();return!t&&e&&e.match(/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i)&&(t=this.proxy("properties.total")),function(t){if(t&&("number"==typeof t||"string"==typeof t&&!isNaN(t=parseFloat(t=t.replace(/\$/g,"")))))return t}(t)},l.cents=function(){var t=this.revenue();return"number"!=typeof t?this.value()||0:100*t},l.identify=function(){var t=this.json();return t.traits=this.traits(),new s.Identify(t,this.opts)}},99850:t=>{function e(t){return function(e,n,r,o){var s,a=o&&"function"==typeof o.normalizer?o.normalizer:i;n=a(n);for(var u=!1;!u;)!function(){for(s in e){var t=a(s);if(0===n.indexOf(t)){var r=n.substr(t.length);if("."===r.charAt(0)||0===r.length){n=r.substr(1);var i=e[s];if(null==i||!n.length){u=!0;return}e=i;return}}}s=void 0,u=!0}();if(s)return null==e?e:t(e,s,r)}}function n(t,e){return t.hasOwnProperty(e)&&delete t[e],t}function r(t,e,n){return t.hasOwnProperty(e)&&(t[e]=n),t}function i(t){return t.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}t.exports=e(function(t,e){if(t.hasOwnProperty(e))return t[e]}),t.exports.find=t.exports,t.exports.replace=function(t,n,i,o){return e(r).call(this,t,n,i,o),t},t.exports.del=function(t,r,i){return e(n).call(this,t,r,null,i),t}}}]);