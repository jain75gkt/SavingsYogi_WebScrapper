"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9353],{3525:(e,t,l)=>{l.d(t,{b:()=>u});var r=l(54568),n=l(18786),o=l(75414),i=l(91284),s=l(47226),a=l(32536);let d=()=>(0,r.jsxs)(i.default,{sx:{display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,r.jsx)(a.default,{src:"https://cdns3.nerdwallet.com/wealth/cd-rates/magnifying_glass.svg",alt:"Empty result",width:116,height:114}),(0,r.jsx)(s.default,{sx:{fontSize:24,fontWeight:350,pb:3,textAlign:"center"},children:"Didn't find what you're looking for?"}),(0,r.jsx)(s.default,{sx:{fontWeight:325,textAlign:"center",width:{sm:"600px"}},children:"We couldn't find any results that match your filters. Please try adjusting your criteria and search again."})]});var c=l(89412);let u=e=>{let t=(0,c.QK)(e=>e.isLoading,o.x),l=(0,c.ej)();return l.length>0?(0,r.jsx)(n.A,{...e,rows:l,isFilterLoading:t,isFilterActive:!0}):(0,r.jsx)(d,{})}},10846:(e,t,l)=>{l.d(t,{r:()=>i});var r=l(54568),n=l(15185),o=l(89412);let i=e=>{let t=(0,o.ej)(),l=(0,o.QK)(e=>e.isLoading),i=(0,o.QK)(e=>e.sortBy);return(0,r.jsx)(n.default,{...e,offersListToFilterWith:t,isLoading:l,isSorted:""!==i})}},18786:(e,t,l)=>{l.d(t,{A:()=>u});var r=l(54568),n=l(91284);l(99804);var o=function(e){return e.cdRatesRoundupRedesign="cd_rates_roundup_redesign",e.seoBankingRoundupRank="banking_rank_roundup_changes",e.productionalizeMobileFirstSummaryTable="productionalize_mobile_first_summary_table",e}({});let i={banking_rank_roundup_changes:["all"],cd_rates_roundup_redesign:["cd-rates-redesign","cd-rates"],productionalize_mobile_first_summary_table:["bank-bonuses-and-promotions"]};var s=l(58508),a=l(81404),d=l(63425),c=l(40696);let u=e=>{let t,{rows:l,regionCode:u,maxRows:p,numTruncatedRows:x,allowTruncatingRows:f,slug:h,showSkeleton:m,pageUrl:y,isAccordionActiveButtonActive:b,isFilterActive:g,isFilterLoading:v}=e;if(!(null==l?void 0:l.length))return null;let j=u?(0,s.IE)(l,u):l,k=(0,c.u3)(j,{slugBasedSummaryTableOverride:h}),S=k[0]?(0,c.cf)(k[0].marketplaceEntity):c.Wg,A=(t=h||"",((e,t)=>{let l=i[e],r=(e=>{{let t=new URLSearchParams(window.location.search).get("feat_".concat(e));if("true"===t)return!0;if("false"===t)return!1}return null})(e);return null!==r?r:!!l&&(l.includes("all")||l.includes(t))})(o.productionalizeMobileFirstSummaryTable,t)),C=(0,r.jsx)(n.default,{sx:{marginX:{xs:2,md:0}},children:(0,r.jsx)(a.SummaryTable,{maxRows:p,rows:k,headings:S,numTruncatedRows:x,allowTruncatingRows:f,showSkeleton:m||v,slug:h,pageUrl:y,isAccordionActiveButtonActive:b,isFilterActive:g})});return(0,r.jsx)(n.default,{sx:{display:"flex",flexDirection:"column",gap:4,maxWidth:{xs:"100%",md:"82%"},margin:"auto",marginBottom:{xs:5,md:8},marginTop:g?3:5},children:A?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.default,{sx:{display:{xs:"block",sm:"none"}},children:(0,r.jsx)(d.MobileFirstSummaryTable,{maxRows:p,rows:k,numTruncatedRows:x,allowTruncatingRows:f,showSkeleton:m})}),(0,r.jsx)(n.default,{sx:{display:{xs:"none",sm:"block"}},children:C})]}):C})}},35099:(e,t,l)=>{l.d(t,{S:()=>U});var r=l(54568),n=l(91284),o=l(47226),i=l(32500),s=l(46203),a=l(7620),d=l(92622);let c=e=>{let{handleOpenCloseDialog:t,buttonText:l="APPLY"}=e;return(0,r.jsx)(n.default,{sx:{position:"fixed",left:0,right:0,bottom:0,p:3,bgcolor:"white"},children:(0,r.jsx)(d.default,{fullWidth:!0,onClick:t,children:l})})};var u=l(39216),p=l(31352),x=l(80761),f=l(99746),h=l(40563);let m=e=>{let{handleOpenCloseDialog:t,useStore:l,dialogId:i,title:s="FILTERS & SORT",filterPillsToDisplay:d,actionSection:c,pageIdentifier:m,onLocationReset:y}=e,{clearAllFiltersEvent:b}=(0,h.j)({actionSection:c,pageIdentifier:m}),{handleClearFilters:g,sortBy:v}=l((0,f.k)(e=>({handleClearFilters:e.handleClearFilters,sortBy:e.sortBy}))),j=(0,a.useCallback)(()=>{setTimeout(()=>{(0,a.startTransition)(()=>{g(),y&&y(),b()})},100)},[g,y,b]);return(0,r.jsxs)(n.default,{sx:{px:3,pt:"22px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsx)(o.default,{id:i,sx:{fontSize:16,fontWeight:600,color:"text.secondary"},children:s}),(0,r.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,r.jsx)(p.A,{label:"Clear All",variant:"filterPills",onClick:j,disabled:!d&&!v}),(0,r.jsx)(x.default,{"aria-label":"close dialog",onClick:t,size:"small",children:(0,r.jsx)(u.A,{sx:{fontSize:24,color:"text.secondary"}})})]})]})};var y=l(48801);let b=e=>{let{isDialogOpen:t,handleOpenCloseDialog:l,dialogId:o,children:i,useStore:d,filterPillsToDisplay:u,actionSection:p,pageIdentifier:x,onLocationReset:f}=e,h=(0,a.useRef)(null);return(e=>{let t=(0,y.A)("(max-width:768px)"),l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";document.body.style.overflow=e,document.body.style.touchAction=t};(0,a.useEffect)(()=>(e&&t?l("hidden","none"):l(),()=>{l()}),[e,t])})(t),(0,a.useEffect)(()=>{if(t){var e;null==(e=h.current)||e.focus()}},[t]),(0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&l()};return t&&document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,l]),(0,r.jsx)(n.default,{component:"dialog","aria-labelledby":o,open:t,ref:h,"aria-modal":"true",sx:{zIndex:s.theme.zIndex.modal},children:(0,r.jsxs)(n.default,{sx:{inset:0,position:"fixed",display:"flex",flexDirection:"column",bgcolor:"background.paper"},children:[(0,r.jsx)(m,{handleOpenCloseDialog:l,useStore:d,dialogId:o,filterPillsToDisplay:u,actionSection:p,pageIdentifier:x,onLocationReset:f}),i,(0,r.jsx)(c,{handleOpenCloseDialog:l})]})})};var g=l(9194);let v=e=>{let{handleOpenCloseDialog:t}=e;return(0,r.jsx)(n.default,{sx:{backgroundColor:"neutral.lightest",borderRadius:"8px",height:56,display:"flex",alignItems:"center",border:"none",p:2,width:"100%"},children:(0,r.jsxs)(n.default,{component:"button",sx:{display:"flex",justifyContent:"space-between",alignItems:"center",px:3,py:2,borderRadius:"8px",backgroundColor:"white",height:40,width:"100%",cursor:"pointer",border:0},onClick:t,children:[(0,r.jsx)(o.default,{sx:{fontSize:16,color:"text.secondary",fontWeight:500},children:"Filters & Sort"}),(0,r.jsx)(g.A,{sx:{color:"text.secondary",fontSize:24}})]})})};var j=l(10828),k=l(45485),S=l(48779),A=l(5005),C=l(33482),w=l(96987),T=l(26262),F=l(3775),B=l(35431),I=l(75414);let P=e=>{let{sortOptions:t,useStore:l,title:n="SORT BY",defaultExpanded:i=!0,actionSection:s,pageIdentifier:a}=e,{sortBy:d,handleSortBy:c}=l(e=>{let{sortBy:t,handleSortBy:l}=e;return{sortBy:t,handleSortBy:l}},I.x),{sortBySelectEvent:u}=(0,h.j)({actionSection:s,pageIdentifier:a});return(0,r.jsxs)(S.A,{disableGutters:!0,elevation:0,square:!0,defaultExpanded:i,sx:{border:0,"&.Mui-expanded":{borderBottom:0},"&.MuiAccordion-root":{borderBottom:0}},children:[(0,r.jsx)(A.A,{expandIcon:(0,r.jsx)(k.default,{}),sx:{"&:hover":{backgroundColor:"transparent"},borderBottom:"1px solid",borderBottomColor:"neutral.lighter",px:3,mb:.5,"&:focus-visible":{outline:"2px solid",outlineColor:"#0069B9"},"&:focus:hover":{outline:"2px solid !important",outlineColor:"#0069B9 !important"}},children:(0,r.jsx)(o.default,{sx:{fontSize:14,color:"text.secondary",fontWeight:600},children:n})}),(0,r.jsx)(C.A,{sx:{p:0},children:(0,r.jsx)(w.default,{disablePadding:!0,children:Object.values(t).map(e=>{let{label:l,value:n}=e;return(0,r.jsxs)(T.A,{selected:d===n,sx:{px:3,"&.Mui-selected":{backgroundColor:"transparent",":hover":{backgroundColor:"neutral.lightest"},":focus-visible":{backgroundColor:"neutral.lightest"}}},onClick:()=>(e=>{setTimeout(()=>{var l;c(e),u({additional_attributes:{sort_by_value:null==(l=t.find(t=>t.value===e))?void 0:l.label}})},100)})(n),children:[(0,r.jsx)(F.A,{primary:l,sx:{"& .MuiListItemText-primary":{fontSize:14,color:"text.secondary"}}}),d===n&&(0,r.jsx)(B.A,{sx:{minWidth:24},children:(0,r.jsx)(j.A,{fontSize:"small",sx:{color:"greens.main"}})})]},n)})})})]})};var L=l(55320),_=l(89796),z=l(89412),E=l(45155),O=l(7933),M=l(5611),R=l(87558);let W=e=>{var t;let{actionSection:l,pageIdentifier:i}=e,s=(0,R.vF)(),{handleUpdateFilterFormState:d,handleApplyFilters:c,appliedFilters:u}=(0,z.QK)((0,f.k)(e=>({handleUpdateFilterFormState:e.handleUpdateFilterFormState,handleApplyFilters:e.handleApplyFilters,appliedFilters:e.appliedFilters}))),{updateFiltersEvent:p}=(0,h.j)({actionSection:l,pageIdentifier:i,additionalAttributes:{}}),x=null!=(t=null==u?void 0:u.selectedAppTypes)?t:[],m=(0,a.useCallback)(e=>{(e=>{(0,a.startTransition)(()=>{d({selectedAppTypes:e});let t=c();t&&p({additional_attributes:{app_types:e,promotions:t.appliedFilters.selectedPromotions}})})})(x.includes(e)?x.filter(t=>t!==e):[...x,e])},[x]);return(0,r.jsxs)(S.A,{disableGutters:!0,elevation:0,square:!0,sx:{border:0,"&.Mui-expanded":{borderBottom:0},"&.MuiAccordion-root":{borderBottom:0}},children:[(0,r.jsx)(A.A,{expandIcon:(0,r.jsx)(k.default,{}),sx:{"&:hover":{backgroundColor:"transparent"},borderBottom:"1px solid",borderBottomColor:"neutral.lighter",px:3,my:.5,"&:focus-visible":{outline:"2px solid",outlineColor:"#0069B9"},"&:focus:hover":{outline:"2px solid !important",outlineColor:"#0069B9 !important"}},children:(0,r.jsx)(o.default,{sx:{fontSize:14,color:"text.secondary",fontWeight:600,textTransform:"uppercase"},children:"App Type"})}),(0,r.jsx)(C.A,{sx:{p:0},children:(0,r.jsx)(w.default,{disablePadding:!0,children:Object.values(s).map((e,t)=>{let{label:l,count:i}=e,s=!i&&!x.includes(l);return(0,r.jsx)(T.A,{sx:{px:3,"&.Mui-selected":{backgroundColor:"transparent",":hover":{backgroundColor:"neutral.lightest"},":focus-visible":{backgroundColor:"neutral.lightest"}}},disabled:s,onClick:()=>m(l),children:(0,r.jsx)(F.A,{primary:(0,r.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between","&:focus-visible":{outline:"2px solid",outlineColor:"blues.light",outlineOffset:"0"}},children:[(0,r.jsx)(o.default,{variant:"textSmall",sx:{color:"neutral.dark",fontSize:"14px"},children:l}),(0,r.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,r.jsx)(o.default,{variant:"textSmall",sx:{color:"neutral.dark",fontSize:"12px"},children:i}),(0,r.jsx)(M.A,{tabIndex:-1,checked:x.includes(l),checkedIcon:(0,r.jsxs)("span",{style:{display:"inline-block",width:24,height:24,position:"relative"},children:[(0,r.jsx)(O.A,{sx:{color:"primary.main",fontSize:24}}),(0,r.jsx)(j.A,{sx:{color:"primary.main",fontSize:18,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})]}),sx:{p:0,"&:not(.Mui-checked) .MuiSvgIcon-root":{fontSize:24,color:"neutral.lighter"}}})]})]}),sx:{"& .MuiListItemText-primary":{fontSize:14}}})},"".concat(t,"-").concat(l))})})})]})};var D=l(32828);let K=e=>{let{actionSection:t,pageIdentifier:l}=e,n=(0,R.Jw)(),{regionCode:i,setRegionCode:s}=(0,D.useGeo)(),{handleUpdateFilterFormState:d,handleApplyFilters:c,appliedFilters:u}=(0,z.QK)((0,f.k)(e=>({handleUpdateFilterFormState:e.handleUpdateFilterFormState,handleApplyFilters:e.handleApplyFilters,appliedFilters:e.appliedFilters})));(0,a.useEffect)(()=>{i&&i!==(null==u?void 0:u.selectedLocation)&&(d({selectedLocation:i}),c())},[i,null==u?void 0:u.selectedLocation,d,c]);let{updateFiltersEvent:p}=(0,h.j)({actionSection:t,pageIdentifier:l,additionalAttributes:{}}),x=null==u?void 0:u.selectedLocation;return(0,r.jsxs)(S.A,{disableGutters:!0,elevation:0,square:!0,sx:{border:0,"&.Mui-expanded":{borderBottom:0},"&.MuiAccordion-root":{borderBottom:0}},children:[(0,r.jsx)(A.A,{expandIcon:(0,r.jsx)(k.default,{}),sx:{"&:hover":{backgroundColor:"transparent"},borderBottom:"1px solid",borderBottomColor:"neutral.lighter",px:3,mb:.5,"&:focus-visible":{outline:"2px solid",outlineColor:"#0069B9"},"&:focus:hover":{outline:"2px solid !important",outlineColor:"#0069B9 !important"}},children:(0,r.jsx)(o.default,{sx:{fontSize:14,color:"text.secondary",fontWeight:600},children:"LOCATION"})}),(0,r.jsx)(C.A,{sx:{p:0},children:(0,r.jsx)(w.default,{disablePadding:!0,children:n.map(e=>(0,r.jsxs)(T.A,{selected:x===e.value,sx:{px:3,"&.Mui-selected":{backgroundColor:"transparent",":hover":{backgroundColor:"neutral.lightest"},":focus-visible":{backgroundColor:"neutral.lightest"}}},onClick:()=>(e=>{setTimeout(()=>{d({selectedLocation:e}),s(e);let t=c();t&&p({additional_attributes:{location:e,product_types:t.appliedFilters.selectedProductTypes}})},100)})(e.value),children:[(0,r.jsx)(F.A,{primary:e.label,sx:{"& .MuiListItemText-primary":{fontSize:14,color:"text.secondary"}}}),x===e.value&&(0,r.jsx)(B.A,{sx:{minWidth:24},children:(0,r.jsx)(j.A,{fontSize:"small",sx:{color:"greens.main"}})})]},e.value))})})]})},Q=e=>{var t;let{actionSection:l,pageIdentifier:i}=e,s=(0,R.FO)(),{handleUpdateFilterFormState:d,handleApplyFilters:c,appliedFilters:u}=(0,z.QK)((0,f.k)(e=>({handleUpdateFilterFormState:e.handleUpdateFilterFormState,handleApplyFilters:e.handleApplyFilters,appliedFilters:e.appliedFilters}))),{updateFiltersEvent:p}=(0,h.j)({actionSection:l,pageIdentifier:i,additionalAttributes:{}}),x=null!=(t=null==u?void 0:u.selectedProductTypes)?t:[],m=(0,a.useCallback)(e=>{(e=>{setTimeout(()=>{d({selectedProductTypes:e});let t=c();t&&p({additional_attributes:{product_types:e,location:t.appliedFilters.selectedLocation}})})})(x.includes(e)?x.filter(t=>t!==e):[...x,e])},[x]);return(0,r.jsxs)(S.A,{disableGutters:!0,elevation:0,square:!0,sx:{border:0,"&.Mui-expanded":{borderBottom:0},"&.MuiAccordion-root":{borderBottom:0}},children:[(0,r.jsx)(A.A,{expandIcon:(0,r.jsx)(k.default,{}),sx:{"&:hover":{backgroundColor:"transparent"},borderBottom:"1px solid",borderBottomColor:"neutral.lighter",px:3,my:.5,"&:focus-visible":{outline:"2px solid",outlineColor:"#0069B9"},"&:focus:hover":{outline:"2px solid !important",outlineColor:"#0069B9 !important"}},children:(0,r.jsx)(o.default,{sx:{fontSize:14,color:"text.secondary",fontWeight:600},children:"PRODUCT TYPE"})}),(0,r.jsx)(C.A,{sx:{p:0},children:(0,r.jsx)(w.default,{disablePadding:!0,children:Object.values(s).map((e,t)=>{let{label:l,count:i}=e,s=!i&&!x.includes(l);return(0,r.jsx)(T.A,{sx:{px:3,"&.Mui-selected":{backgroundColor:"transparent",":hover":{backgroundColor:"neutral.lightest"},":focus-visible":{backgroundColor:"neutral.lightest"}}},disabled:s,onClick:()=>m(l),children:(0,r.jsx)(F.A,{primary:(0,r.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between","&:focus-visible":{outline:"2px solid",outlineColor:"blues.light",outlineOffset:"0"}},children:[(0,r.jsx)(o.default,{variant:"textSmall",sx:{color:"neutral.dark",fontSize:"14px"},children:l}),(0,r.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,r.jsx)(o.default,{variant:"textSmall",sx:{color:"neutral.dark",fontSize:"12px"},children:i}),(0,r.jsx)(M.A,{tabIndex:-1,checked:x.includes(l),checkedIcon:(0,r.jsxs)("span",{style:{display:"inline-block",width:24,height:24,position:"relative"},children:[(0,r.jsx)(O.A,{sx:{color:"primary.main",fontSize:24}}),(0,r.jsx)(j.A,{sx:{color:"primary.main",fontSize:18,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})]}),sx:{p:0,"&:not(.Mui-checked) .MuiSvgIcon-root":{fontSize:24,color:"neutral.lighter"}}})]})]}),sx:{"& .MuiListItemText-primary":{fontSize:14}}})},"".concat(t,"-").concat(l))})})})]})},N=e=>{var t;let{actionSection:l,pageIdentifier:i}=e,s=(0,R.Xi)(),{handleUpdateFilterFormState:d,handleApplyFilters:c,appliedFilters:u}=(0,z.QK)((0,f.k)(e=>({handleUpdateFilterFormState:e.handleUpdateFilterFormState,handleApplyFilters:e.handleApplyFilters,appliedFilters:e.appliedFilters}))),{updateFiltersEvent:p}=(0,h.j)({actionSection:l,pageIdentifier:i,additionalAttributes:{}}),x=null!=(t=null==u?void 0:u.selectedPromotions)?t:[],m=(0,a.useCallback)(e=>{(e=>{(0,a.startTransition)(()=>{d({selectedPromotions:e});let t=c();t&&p({additional_attributes:{promotions:e,app_types:t.appliedFilters.selectedAppTypes}})})})(x.includes(e)?x.filter(t=>t!==e):[...x,e])},[x]);return(0,r.jsxs)(S.A,{disableGutters:!0,elevation:0,square:!0,sx:{border:0,"&.Mui-expanded":{borderBottom:0},"&.MuiAccordion-root":{borderBottom:0}},children:[(0,r.jsx)(A.A,{expandIcon:(0,r.jsx)(k.default,{}),sx:{"&:hover":{backgroundColor:"transparent"},borderBottom:"1px solid",borderBottomColor:"neutral.lighter",px:3,my:.5,"&:focus-visible":{outline:"2px solid",outlineColor:"#0069B9"},"&:focus:hover":{outline:"2px solid !important",outlineColor:"#0069B9 !important"}},children:(0,r.jsx)(o.default,{sx:{fontSize:14,color:"text.secondary",fontWeight:600,textTransform:"uppercase"},children:"Promotion"})}),(0,r.jsx)(C.A,{sx:{p:0},children:(0,r.jsx)(w.default,{disablePadding:!0,children:Object.values(s).map((e,t)=>{let{label:l,count:i}=e,s=!i&&!x.includes(l);return(0,r.jsx)(T.A,{sx:{px:3,"&.Mui-selected":{backgroundColor:"transparent",":hover":{backgroundColor:"neutral.lightest"},":focus-visible":{backgroundColor:"neutral.lightest"}}},disabled:s,onClick:()=>m(l),children:(0,r.jsx)(F.A,{primary:(0,r.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between","&:focus-visible":{outline:"2px solid",outlineColor:"blues.light",outlineOffset:"0"}},children:[(0,r.jsx)(o.default,{variant:"textSmall",sx:{color:"neutral.dark",fontSize:"14px"},children:l}),(0,r.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,r.jsx)(o.default,{variant:"textSmall",sx:{color:"neutral.dark",fontSize:"12px"},children:i}),(0,r.jsx)(M.A,{tabIndex:-1,checked:x.includes(l),checkedIcon:(0,r.jsxs)("span",{style:{display:"inline-block",width:24,height:24,position:"relative"},children:[(0,r.jsx)(O.A,{sx:{color:"primary.main",fontSize:24}}),(0,r.jsx)(j.A,{sx:{color:"primary.main",fontSize:18,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})]}),sx:{p:0,"&:not(.Mui-checked) .MuiSvgIcon-root":{fontSize:24,color:"neutral.lighter"}}})]})]}),sx:{"& .MuiListItemText-primary":{fontSize:14}}})},"".concat(t,"-").concat(l))})})})]})};l(90846);let U=e=>{let{slug:t,initialLocation:l,analyticsProps:s,onLocationReset:d,initialClientRegion:c}=e,[u,p]=(0,a.useState)(!1),x=()=>{(0,a.startTransition)(()=>{p(e=>!e)})},{appliedFilters:h}=(0,z.QK)((0,f.k)(e=>({appliedFilters:e.appliedFilters}))),{filterPillsToDisplay:m}=(0,a.useMemo)(()=>{let e=[...(null==h?void 0:h.selectedAppTypes)||[],...(null==h?void 0:h.selectedPromotions)||[],...(null==h?void 0:h.selectedProductTypes)||[]];return(null==h?void 0:h.selectedLocation)&&h.selectedLocation!==c&&e.push(h.selectedLocation),{filterPillsToDisplay:e.length}},[null==h?void 0:h.selectedAppTypes,null==h?void 0:h.selectedPromotions,null==h?void 0:h.selectedProductTypes,null==h?void 0:h.selectedLocation]),y=(0,L.n)(t);return(0,r.jsxs)(n.default,{sx:{display:{xs:"flex",sm:"none"}},component:"section","aria-labelledby":"mobile-page-filters",children:[(0,r.jsx)(o.default,{id:"mobile-page-filters",component:"h3",sx:i.A,children:"Filters"}),(0,r.jsx)(v,{handleOpenCloseDialog:x}),(0,r.jsx)(b,{handleOpenCloseDialog:x,isDialogOpen:u,dialogId:"investment-apps-filters",useStore:z.QK,filterPillsToDisplay:m,actionSection:s.actionSection,pageIdentifier:s.pageIdentifier,onLocationReset:d,children:(0,r.jsxs)(n.default,{sx:{overflowY:"auto",p:3,mb:"80px"},children:[(0,r.jsx)(n.default,{sx:{pb:"2rem"},children:(0,r.jsx)(_.c,{isMobile:!0,analyticsProps:s})}),(0,r.jsx)(P,{sortOptions:(0,E.$A)(t),useStore:z.QK,actionSection:s.actionSection,pageIdentifier:s.pageIdentifier}),y.filters.map(e=>{let{component:t}=e;return(e=>{switch(e){case"AppTypeSelect":return(0,r.jsx)(W,{...s},e);case"PromotionSelect":return(0,r.jsx)(N,{...s},e);case"ProductTypeSelect":return(0,r.jsx)(Q,{...s},e);case"LocationSelect":if(!l)return null;return(0,r.jsx)(K,{...s},e);default:return null}})(t)})]})})]})}},40563:(e,t,l)=>{l.d(t,{j:()=>n});var r=l(20812);let n=e=>{let{actionSection:t,pageIdentifier:l,additionalAttributes:n}=e,o=(0,r.v)({actionName:"".concat(l,"_filters_refreshed"),actionSection:t,actionType:"select"}),i=(0,r.v)({actionName:"".concat(l,"_filters_removed"),actionSection:t,actionType:"select",additionalAttributes:n}),s=(0,r.v)({actionName:"".concat(l,"_filters_interacted"),actionSection:t,actionType:"select",additionalAttributes:n}),a=(0,r.v)({actionName:"".concat(l,"_sort_by_interacted"),actionSection:t,actionType:"select"});return{clearAllFiltersEvent:o,removeFilterEvent:i,showMoreButtonClickEvent:(0,r.v)({actionName:"see_more_interacted",actionSection:t,actionType:"select"}),sortBySelectEvent:a,updateFiltersEvent:s}}},45155:(e,t,l)=>{l.d(t,{$A:()=>i,P1:()=>c,Wb:()=>s});var r=l(20795),n=l.n(r),o=l(49359);let i=e=>"bank-bonuses-and-promotions"===e?[{value:"starRating",label:"NerdWallet Rating"},{value:"apy",label:"Highest APY"},{value:"driverBonus",label:"Highest Bonus"}]:[{value:"starRating",label:"NerdWallet Rating"}],s="",a={selectedAppTypes:[],selectedPromotions:[],selectedProductTypes:[],selectedLocation:void 0},d={isLoading:!1,filtersApplied:!1,appliedFilters:null,filterFormState:a,sortBy:s,openedFilters:{normalBar:{"App Type":!1,Promotion:!1,"Sort By":!1,"Product Type":!1,Location:!1},stickyBar:{"App Type":!1,Promotion:!1,"Sort By":!1,"Product Type":!1,Location:!1}}};function c(e,t){return(0,o.y)()((l,r)=>({allOffers:e,slug:t,...d,setIsLoading:e=>l({isLoading:e}),handleUpdateFilterFormState:e=>{l({filterFormState:{...r().filterFormState,...e}})},handleLoading:()=>{l({isLoading:!0}),setTimeout(()=>{l({isLoading:!1})},100)},handleApplyFilters:()=>{let{filterFormState:e,appliedFilters:t,filtersApplied:o,handleLoading:i}=r();if(n()(e,o?t:a))return null;i();let s={appliedFilters:e,filtersApplied:!0};return l(s),s},handleClearFilters:e=>{let t={...d,...e&&{filterFormState:{...d.filterFormState,selectedLocation:e}},filtersApplied:!1,appliedFilters:null};l(()=>t)},handleClearFiltersWithGeo:(e,t)=>{setTimeout(()=>{r().handleClearFilters(e),t(e)},100)},handleSortBy:e=>{let{handleLoading:t}=r();l(()=>({sortBy:e})),t()},handleOpenedFilters:(e,t,r)=>{l(l=>({openedFilters:{...l.openedFilters,[t]:{...l.openedFilters[t],[e]:r}}}))},switchBarFilters:()=>{l(e=>({openedFilters:{normalBar:e.openedFilters.stickyBar,stickyBar:e.openedFilters.normalBar}}))}}))}},55320:(e,t,l)=>{l.d(t,{n:()=>n});let r={"investment-apps":{filters:[{component:"AppTypeSelect"},{component:"PromotionSelect"}]},"bank-bonuses-and-promotions":{filters:[{component:"ProductTypeSelect"},{component:"LocationSelect"}]}},n=e=>r[e]},79716:(e,t,l)=>{l.d(t,{_:()=>i});var r=l(54568),n=l(91284),o=l(47226);l(7620);let i=e=>{let{sectionTitle:t,id:l,isCentralized:i=!0}=e;return(0,r.jsx)(n.default,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",md:"center"},gap:2,maxWidth:{xs:"100%",md:"82%"},...i&&{marginX:"auto"},marginBottom:2},children:(0,r.jsx)(o.default,{variant:"titleSmall","data-testid":"offers-count",component:"h2",id:l,children:t})})}},80834:(e,t,l)=>{l.d(t,{S:()=>H});var r=l(54568),n=l(91284),o=l(92622),i=l(47226),s=l(57197),a=l(57014),d=l(5299),c=l(7620),u=l(75414);let p=e=>{let{width:t=17,height:l=10,color:n="#64666A"}=e;return(0,r.jsx)("svg",{width:t,height:l,viewBox:"0 0 17 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M8.49937 9.6262L0.960938 2.0878L2.19937 0.849365L8.49937 7.14937L14.7994 0.849365L16.0378 2.0878L8.49937 9.6262Z",fill:n})})};var x=l(15754),f=l(10828),h=l(26262);let m=e=>{let{isOpen:t,activeIndex:l,handleSelectSortBy:o,sortOptions:s,useStore:a,sortByLabel:d}=e,{sortBy:p}=a(e=>{let{sortBy:t}=e;return{sortBy:t}},u.x),x=(0,c.useRef)([]);return(0,c.useEffect)(()=>{if(t){var e;null==(e=x.current[l])||e.focus({preventScroll:!0})}},[t,l]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:3,py:1,height:36,width:"100%",bgcolor:"white"},children:(0,r.jsx)(i.default,{sx:{color:"text.secondary",fontWeight:500,fontSize:14},children:d})}),Object.values(s).map((e,t)=>{let{label:s,value:a}=e,d=p===a;return(0,r.jsxs)(h.A,{id:"option-".concat(a),ref:e=>{x.current[t]=e},role:"option","aria-selected":d,tabIndex:t===l?0:-1,onClick:()=>o(a),sx:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",px:3,py:1,height:36,width:"100%",bgcolor:d?"white":"transparent","&:hover":{bgcolor:"neutral.lightest"},"&:focus-visible":{outline:"2px solid #4B99E6",outlineOffset:"-2px"}},children:[(0,r.jsx)(i.default,{sx:{color:"text.secondary",fontWeight:400,fontSize:14},children:s}),(0,r.jsx)(n.default,{sx:{width:24,display:"flex",justifyContent:"flex-end"},children:d&&(0,r.jsx)(f.A,{fontSize:"small",sx:{color:"greens.main"}})})]},a)})]})},y=e=>{let{isOpen:t,closeDropdown:l,activeIndex:n,setActiveIndex:o,scrollBackToMainBar:i,sortOptions:s,useStore:a,sortByLabel:d,sortBySelectEvent:p}=e,{handleSortBy:f}=a(e=>{let{handleSortBy:t}=e;return{handleSortBy:t}},u.x),h=(0,c.useCallback)(e=>{l();let t=s.find(t=>t.value===e);p&&t&&p({additional_attributes:{sort_by_value:t.label}}),setTimeout(()=>{f(e)},0),i&&i()},[f,s,p,l,i]),y=e=>o(t=>(t+e+s.length)%s.length);return(0,r.jsx)(x.default,{id:"sort-by-dropdown-list",role:"listbox","aria-labelledby":"sort-by-dropdown-button",tabIndex:0,sx:{py:.5},onKeyDown:e=>{switch(e.preventDefault(),e.key){case"ArrowDown":y(1);break;case"ArrowUp":y(-1);break;case"Home":o(0);break;case"End":o(s.length-1)}},children:(0,r.jsx)(m,{isOpen:t,activeIndex:n,handleSelectSortBy:h,sortOptions:s,useStore:a,sortByLabel:d})})},b=e=>{var t,l;let{isStickyBar:x,scrollBackToMainBar:f,sortOptions:h,useStore:m,sortByLabel:b="Sort By",filterKey:g,sortBySelectEvent:v}=e,{sortBy:j,handleOpenedFilters:k}=m(e=>{let{sortBy:t,handleOpenedFilters:l}=e;return{sortBy:t,handleOpenedFilters:l}},u.x),S=x?"normalBar":"stickyBar",A=m(e=>{var t,l;return null!=(l=null==(t=e.openedFilters[S])?void 0:t[g])&&l},u.x),C=(0,c.useRef)(null),w=!!j,[T,F]=(0,c.useState)(()=>{let e=h.findIndex(e=>e.value===j);return -1===e?0:e}),B=()=>{(0,c.startTransition)(()=>{var e;null==(e=C.current)||e.focus(),k(g,S,!1)})};return(0,c.useEffect)(()=>{let e=e=>{"Escape"===e.key&&B()};return A&&window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[A]),(0,r.jsxs)(n.default,{children:[(0,r.jsxs)(o.default,{ref:C,onClick:()=>k(g,S,!A),id:"sort-by-dropdown-button",role:"combobox",variant:"outlined","aria-haspopup":"listbox","aria-expanded":A,"aria-controls":"sort-by-dropdown-list","aria-activedescendant":A?"option-".concat(h[T].value):void 0,sx:{width:"auto",height:40,px:3,borderRadius:"64px",border:"1px solid",borderWidth:w?"2px":"1px",backgroundColor:w?"greens.light":"white",borderColor:w?"primary.main":"neutral.lighter",justifyContent:"space-between",textTransform:"none","&:focus-visible":{outline:"2px solid",outlineColor:"blues.light",cursor:"pointer"},transition:"none"},children:[(0,r.jsx)(i.default,{sx:{color:w?"primary.main":"text.secondary",fontWeight:500,fontSize:14},children:null!=(l=null==(t=h.find(e=>e.value===j))?void 0:t.label)?l:b}),(0,r.jsx)(n.default,{sx:{color:"text.secondary",pl:"8px",pt:"2px"},children:(0,r.jsx)(p,{width:15})})]}),(0,r.jsx)(s.A,{open:A,popperOptions:{strategy:"fixed"},anchorEl:C.current,placement:"bottom-start",sx:{zIndex:200},children:(0,r.jsx)(a.x,{onClickAway:()=>k(g,S,!1),children:(0,r.jsx)(d.A,{square:!0,elevation:3,sx:{borderRadius:"8px",width:"100%",mt:2},children:(0,r.jsx)(y,{isOpen:A,closeDropdown:B,activeIndex:T,setActiveIndex:F,scrollBackToMainBar:f,sortOptions:h,useStore:m,sortByLabel:b,sortBySelectEvent:v})})})})]})};var g=l(31352),v=l(99746);let j=e=>{let{showStickyBar:t,useStore:l,children:o,clearButtonText:i="Clear All",scrollBackToMainBar:s,onClearFilters:a,clearAllFiltersEvent:d,initialClientRegion:u}=e,{handleClearFilters:p,appliedFilters:x,sortBy:f}=l((0,v.k)(e=>({handleClearFilters:e.handleClearFilters,appliedFilters:e.appliedFilters,sortBy:e.sortBy}))),h=a||p,m=(0,c.useCallback)(()=>{s(),setTimeout(()=>{(0,c.startTransition)(()=>{h(),d()})},100)},[h,d,s]),y=(0,c.useMemo)(()=>x?Object.values(x).reduce((e,t)=>Array.isArray(t)?e+t.length:t===u?e:e+ +!!t,0):0,[x,u]);return(0,r.jsx)(n.default,{sx:{backgroundColor:"white",boxShadow:"0px 4px 4px 0px rgba(0, 0, 0, 0.15)",width:"100%",py:"24px",display:{xs:"none",sm:t?"flex":"none"},position:"fixed",top:0,left:0,zIndex:200},children:(0,r.jsx)(n.default,{sx:{pl:"14px",maxWidth:"1440px",width:"100%",ml:"auto",mr:"auto",pr:{sm:"14px"}},children:(0,r.jsx)(n.default,{sx:{maxWidth:{md:"82%"},ml:{md:"auto"},mr:{md:"auto"}},children:(0,r.jsxs)(n.default,{sx:{display:"flex",justifyContent:"space-between",flexDirection:"row",marginLeft:"auto",marginRight:"auto",width:"100%"},children:[(0,r.jsx)(n.default,{sx:{display:"flex",color:"secondary.main",gap:"8px"},children:o}),(0,r.jsx)(g.A,{label:i,variant:"filterPills",onClick:m,disabled:!y&&!f,sx:{fontSize:{xs:12,sm:14}}})]})})})})};var k=l(40563),S=l(89796),A=l(89412),C=l(45155),w=l(46203),T=l(96987),F=l(43906),B=l.n(F),I=l(7933),P=l(5611);let L=(0,c.memo)(e=>{let{checked:t,onChange:l,disabled:n}=e;return(0,r.jsx)(P.A,{tabIndex:-1,checked:t,onChange:l,disabled:n,icon:(0,r.jsx)("span",{style:{display:"inline-block",width:24,height:24,position:"relative"},children:(0,r.jsx)(I.A,{sx:{color:n?"neutral.lighter":"neutral.light",fontSize:24}})}),checkedIcon:(0,r.jsxs)("span",{style:{display:"inline-block",width:24,height:24,position:"relative"},children:[(0,r.jsx)(I.A,{sx:{color:"primary.main",fontSize:24}}),(0,r.jsx)(f.A,{sx:{color:"primary.main",fontSize:18,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})]}),sx:{padding:0}})}),_=(0,c.forwardRef)((e,t)=>{let{option:l,isSelected:o,onSelect:s,tabIndex:a}=e,d=(0,c.useRef)(s);(0,c.useEffect)(()=>{d.current=s},[s]);let u=(0,c.useCallback)(B()(()=>{d.current()},100,{leading:!0,trailing:!1}),[]);(0,c.useEffect)(()=>()=>{u.cancel()},[u]);let p=(0,c.useCallback)(e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),u())},[u]),x=0===l.count&&!o;return(0,r.jsxs)(h.A,{ref:t,role:"option","aria-selected":o,tabIndex:a,onKeyDown:x?void 0:p,onClick:x?void 0:u,sx:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:x?"default":"pointer",py:2,px:3,"&:focus-visible":{outline:"2px solid",outlineColor:"blues.light"},"&:hover":{backgroundColor:"neutral.lightest"}},children:[(0,r.jsx)(i.default,{variant:"textSmall",sx:{color:"neutral.dark",fontSize:"14px"},children:l.label}),(0,r.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,r.jsx)(i.default,{variant:"textSmall",sx:{color:x?"neutral.lighter":"neutral.dark",fontSize:"12px"},children:l.count}),(0,r.jsx)(L,{checked:o,onChange:u,disabled:x})]})]})}),z=(0,c.memo)(e=>{let{options:t,selectedOptionsSet:l,onOptionSelect:n,onClose:o}=e,i=(0,c.useRef)([]),[s,a]=(0,c.useState)(0),d=(0,c.useCallback)(e=>{var t;a(e),null==(t=i.current[e])||t.focus({preventScroll:!0})},[]);return(0,c.useEffect)(()=>{d(0)},[d]),(0,r.jsx)(T.default,{role:"group",onKeyDown:e=>{e.preventDefault(),"ArrowDown"===e.key?d((s+1)%t.length):"ArrowUp"===e.key?d((s-1+t.length)%t.length):"Home"===e.key?d(0):"End"===e.key?d(t.length-1):" "===e.key||"Enter"===e.key?n(t[s].label):("Escape"===e.key||"Tab"===e.key)&&o()},children:t.map((e,t)=>(0,r.jsx)(_,{ref:e=>{i.current[t]=e},option:e,isSelected:l.has(e.label),onSelect:()=>n(e.label),tabIndex:t===s?0:-1},e.label))})}),E=e=>{let{label:t,options:l,selectedOptions:x,onChange:f,isStickyBar:h,useStore:m}=e,y=h?"stickyBar":"normalBar",b=m(e=>e.openedFilters[y][t],u.x),g=m(e=>e.openedFilters.normalBar[t]&&e.openedFilters.stickyBar[t],u.x),v=m(e=>e.handleOpenedFilters,u.x),j=(0,c.useRef)(null),k=(0,c.useRef)(null),S=!!x.length,A=(0,c.useCallback)(e=>{if("Escape"===e.key){var l;(0,c.startTransition)(()=>{v(t,y,!1)}),null==(l=k.current)||l.focus()}},[v,y]),C=(0,c.useCallback)(e=>{f(x.includes(e)?x.filter(t=>t!==e):[...x,e])},[x]),T=(0,c.useCallback)(()=>{(0,c.startTransition)(()=>{v(t,y,!b)})},[v,y,b]),F=(0,c.useMemo)(()=>new Set(x),[x]);return(0,r.jsxs)(n.default,{ref:j,children:[(0,r.jsx)(o.default,{ref:k,onClick:T,onKeyDown:A,"aria-haspopup":"listbox","aria-expanded":b,"aria-controls":"".concat(t,"-dropdown-options"),variant:"outlined",fullWidth:!0,sx:{justifyContent:"space-between",textAlign:"left",backgroundColor:S?"greens.light":"white",borderWidth:S?"2px":"1px",borderColor:S?"primary.main":"neutral.lighter",borderRadius:"64px",py:1,minHeight:"40px",userSelect:"none",textTransform:"none","&:focus-visible":{outline:"2px solid",outlineColor:"blues.light",cursor:"pointer"},transition:"none"},children:(0,r.jsxs)(n.default,{component:"span",sx:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(i.default,{variant:"textBold",sx:{fontSize:"14px",color:S?"primary.main":"neutral.dark"},children:"".concat(t," ").concat(S?"+"+x.length:"")}),(0,r.jsx)(n.default,{component:"span",sx:{display:"flex",alignItems:"center",justifyContent:"center",ml:2,color:"neutral.dark",transform:g?"rotate(180deg)":"rotate(0deg)",transition:w.theme.transitions.create("transform",{duration:w.theme.transitions.duration.short})},children:(0,r.jsx)(p,{width:15,height:15,color:S?w.theme.palette.primary.main:w.theme.palette.neutral.dark})})]})}),(0,r.jsx)(s.A,{open:b,anchorEl:k.current,placement:"bottom-start",popperOptions:{strategy:"fixed"},sx:{zIndex:200},children:(0,r.jsx)(a.x,{onClickAway:()=>v(t,y,!1),children:(0,r.jsxs)(d.A,{id:"dropdown-options",role:"listbox","aria-label":t,"aria-multiselectable":"true",tabIndex:-1,elevation:4,sx:{minWidth:"225px",borderRadius:"8px",py:2,my:2,gap:2},children:[(0,r.jsx)(n.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",pb:2,px:3},children:(0,r.jsx)(i.default,{variant:"textBold",sx:{fontSize:"14px",color:"neutral.dark"},children:t})}),(0,r.jsx)(z,{options:l,selectedOptionsSet:F,onOptionSelect:C,onClose:()=>{var e;v(t,y,!1),null==(e=k.current)||e.focus()}})]})})})]})};var O=l(87558);let M=e=>{let{isStickyBar:t=!1,scrollBackToMainBar:l,actionSection:n,pageIdentifier:o}=e,i=(0,O.vF)(),{handleUpdateFilterFormState:s,handleApplyFilters:a,appliedFilters:d}=(0,A.QK)(e=>{let{handleUpdateFilterFormState:t,handleApplyFilters:l,appliedFilters:r}=e;return{handleUpdateFilterFormState:t,handleApplyFilters:l,appliedFilters:r}},u.x),{updateFiltersEvent:c}=(0,k.j)({actionSection:n,pageIdentifier:o,additionalAttributes:{}});return(0,r.jsx)(E,{isStickyBar:t,label:"App Type",options:i,selectedOptions:(null==d?void 0:d.selectedAppTypes)||[],onChange:e=>{l&&l(),setTimeout(()=>{s({selectedAppTypes:e}),a(),c({additional_attributes:{app_types:e}})},100*!!l)},useStore:A.QK})};var R=l(32828);let W=e=>{let{isOpen:t,activeIndex:l,handleSelectOption:o,options:s,selectedOption:a}=e,d=(0,c.useRef)([]);return(0,c.useEffect)(()=>{if(t){var e;null==(e=d.current[l])||e.focus({preventScroll:!0})}},[t,l]),(0,r.jsx)(r.Fragment,{children:s.map((e,t)=>{let{label:s,value:c,count:u}=e,p=a===c;return(0,r.jsxs)(h.A,{id:"option-".concat(c),ref:e=>{d.current[t]=e},role:"option","aria-selected":p,tabIndex:t===l?0:-1,onClick:()=>o(c),sx:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",px:3,py:2,height:36,width:"100%",bgcolor:p?"white":"transparent","&:hover":{bgcolor:"neutral.lightest"},"&:focus-visible":{outline:"2px solid #4B99E6",outlineOffset:"-2px"}},children:[(0,r.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,r.jsx)(i.default,{sx:{color:"text.secondary",fontWeight:400,fontSize:14},children:s}),void 0!==u&&(0,r.jsxs)(i.default,{sx:{color:"text.secondary",fontSize:12},children:["(",u,")"]})]}),(0,r.jsx)(n.default,{sx:{width:24,display:"flex",justifyContent:"flex-end"},children:p&&(0,r.jsx)(f.A,{fontSize:"small",sx:{color:"greens.main"}})})]},c)})})},D=e=>{let{isOpen:t,closeDropdown:l,activeIndex:n,setActiveIndex:o,scrollBackToMainBar:i,options:s,selectedOption:a,onChange:d,label:u}=e,p=(0,c.useCallback)(e=>{l(),setTimeout(()=>{d(e)},100),i&&i()},[d,l,i]),f=e=>o(t=>(t+e+s.length)%s.length);return(0,r.jsx)(x.default,{id:"".concat(u,"-dropdown-list"),role:"listbox","aria-labelledby":"".concat(u,"-dropdown-button"),tabIndex:0,sx:{maxHeight:"200px",overflowY:"auto"},onKeyDown:e=>{switch(e.preventDefault(),e.key){case"ArrowDown":f(1);break;case"ArrowUp":f(-1);break;case"Home":o(0);break;case"End":o(s.length-1)}},children:(0,r.jsx)(W,{isOpen:t,activeIndex:n,handleSelectOption:p,options:s,selectedOption:a})})},K=e=>{let{label:t,options:l,selectedOption:x,onChange:f,isStickyBar:h=!1,scrollBackToMainBar:m,useStore:y,placeholder:b}=e,g=h?"stickyBar":"normalBar",v=y(e=>e.openedFilters[g][t],u.x),j=y(e=>e.handleOpenedFilters,u.x),k=(0,c.useRef)(null),S=(0,c.useRef)(null),A=!!x,[C,w]=c.useState(()=>{let e=l.findIndex(e=>e.value===x);return -1===e?0:e}),T=(0,c.useCallback)(e=>{if("Escape"===e.key){var l;(0,c.startTransition)(()=>{j(t,g,!1)}),null==(l=S.current)||l.focus()}},[j,t,g]),F=(0,c.useCallback)(()=>{(0,c.startTransition)(()=>{j(t,g,!v)})},[j,t,g,v]),B=(0,c.useMemo)(()=>l.find(e=>e.value===x),[l,x]),I=(null==B?void 0:B.label)||b||t;return(0,r.jsxs)(n.default,{ref:k,children:[(0,r.jsxs)(o.default,{ref:S,onClick:F,onKeyDown:T,"aria-haspopup":"listbox","aria-expanded":v,"aria-controls":"".concat(t,"-dropdown-options"),variant:"outlined",fullWidth:!0,sx:{justifyContent:"space-between",textAlign:"left",backgroundColor:A?"greens.light":"white",borderWidth:A?"2px":"1px",borderColor:A?"primary.main":"neutral.lighter",borderRadius:"64px",py:1,minHeight:"40px",px:3,textTransform:"none","&:focus-visible":{outline:"2px solid",outlineColor:"blues.light",cursor:"pointer"},transition:"none"},children:[(0,r.jsx)(i.default,{sx:{color:A?"primary.main":"text.secondary",fontWeight:500,fontSize:14,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:I}),(0,r.jsx)(n.default,{sx:{color:"text.secondary",pl:"8px",pt:"2px",flexShrink:0},children:(0,r.jsx)(p,{width:15})})]}),(0,r.jsx)(s.A,{open:v,popperOptions:{strategy:"fixed"},anchorEl:S.current,placement:"bottom-start",sx:{zIndex:200},children:(0,r.jsx)(a.x,{onClickAway:()=>j(t,g,!1),children:(0,r.jsxs)(d.A,{square:!0,elevation:3,sx:{minWidth:"200px",borderRadius:"8px",py:2,my:2,gap:2},children:[(0,r.jsx)(n.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:3,py:1,height:36,width:"100%",bgcolor:"white"},children:(0,r.jsx)(i.default,{sx:{color:"text.secondary",fontWeight:500,fontSize:14},children:t})}),(0,r.jsx)(D,{isOpen:v,closeDropdown:()=>j(t,g,!1),activeIndex:C,setActiveIndex:w,scrollBackToMainBar:m,options:l,selectedOption:x,onChange:f,label:t})]})})})]})},Q=e=>{let{isStickyBar:t=!1,scrollBackToMainBar:l,actionSection:o,pageIdentifier:i}=e,s=(0,O.Jw)(),{regionCode:a,setRegionCode:d,isReady:p}=(0,R.useGeo)(),{handleUpdateFilterFormState:x,handleApplyFilters:f,appliedFilters:h}=(0,A.QK)(e=>{let{handleUpdateFilterFormState:t,handleApplyFilters:l,appliedFilters:r}=e;return{handleUpdateFilterFormState:t,handleApplyFilters:l,appliedFilters:r}},u.x);(0,c.useEffect)(()=>{a&&a!==(null==h?void 0:h.selectedLocation)&&(x({selectedLocation:a}),f())},[a,null==h?void 0:h.selectedLocation,x,f]);let{updateFiltersEvent:m}=(0,k.j)({actionSection:o,pageIdentifier:i,additionalAttributes:{}});return(0,r.jsx)(n.default,{sx:{minWidth:"200px"},children:(0,r.jsx)(K,{isStickyBar:t,label:"Location",options:s,selectedOption:p?null==h?void 0:h.selectedLocation:"Location",onChange:e=>{l&&l(),setTimeout(()=>{x({selectedLocation:e}),d(e);let t=f();t&&m({additional_attributes:{location:e,product_types:t.appliedFilters.selectedProductTypes}})},100*!!l)},useStore:A.QK,placeholder:"Location"})})},N=e=>{let{isStickyBar:t=!1,scrollBackToMainBar:l,actionSection:n,pageIdentifier:o}=e,i=(0,O.FO)(),{handleUpdateFilterFormState:s,handleApplyFilters:a,appliedFilters:d}=(0,A.QK)(e=>{let{handleUpdateFilterFormState:t,handleApplyFilters:l,appliedFilters:r}=e;return{handleUpdateFilterFormState:t,handleApplyFilters:l,appliedFilters:r}},u.x),{updateFiltersEvent:c}=(0,k.j)({actionSection:n,pageIdentifier:o,additionalAttributes:{}});return(0,r.jsx)(E,{isStickyBar:t,label:"Product Type",options:i,selectedOptions:(null==d?void 0:d.selectedProductTypes)||[],onChange:e=>{l&&l(),setTimeout(()=>{s({selectedProductTypes:e});let t=a();t&&c({additional_attributes:{product_types:e,location:t.appliedFilters.selectedLocation}})},100*!!l)},useStore:A.QK})},U=e=>{let{isStickyBar:t=!1,scrollBackToMainBar:l,actionSection:n,pageIdentifier:o}=e,i=(0,O.Xi)(),{handleUpdateFilterFormState:s,handleApplyFilters:a,appliedFilters:d}=(0,A.QK)(e=>{let{handleUpdateFilterFormState:t,handleApplyFilters:l,appliedFilters:r}=e;return{handleUpdateFilterFormState:t,handleApplyFilters:l,appliedFilters:r}},u.x),{updateFiltersEvent:c}=(0,k.j)({actionSection:n,pageIdentifier:o,additionalAttributes:{}});return(0,r.jsx)(E,{isStickyBar:t,label:"Promotion",options:i,selectedOptions:(null==d?void 0:d.selectedPromotions)||[],onChange:e=>{l&&l(),setTimeout(()=>{s({selectedPromotions:e}),a(),c({additional_attributes:{promotions:e}})},100*!!l)},useStore:A.QK})};var G=l(55320);let H=e=>{let{mainSectionRef:t,slug:l,initialLocation:o,analyticsProps:i,onClearFilters:s,initialClientRegion:a}=e,d=(0,c.useRef)(null),p=((e,t)=>{let[l,r]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{if(!e.current||!t.current)return;let l=!0,n=!1,o=new IntersectionObserver(o=>{o.forEach(r=>{r.target===e.current?l=r.isIntersecting:r.target===t.current&&(n=r.isIntersecting)}),r(!l&&n)},{});return o.observe(e.current),o.observe(t.current),()=>o.disconnect()},[e,t]),l})(d,t),{sortBySelectEvent:x,clearAllFiltersEvent:f}=(0,k.j)({actionSection:i.actionSection,pageIdentifier:i.pageIdentifier}),h=(0,A.QK)(e=>e.switchBarFilters,u.x);(0,c.useEffect)(()=>{h()},[p]);let m=()=>{if(null==d?void 0:d.current){var e;let t=(null==d||null==(e=d.current)?void 0:e.getBoundingClientRect().top)+window.scrollY-15;window.scrollTo({top:t,behavior:"instant"})}},y=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case"AppTypeSelect":return(0,r.jsx)(M,{isStickyBar:t,scrollBackToMainBar:m,...i},e);case"PromotionSelect":return(0,r.jsx)(U,{isStickyBar:t,scrollBackToMainBar:m,...i},e);case"ProductTypeSelect":return(0,r.jsx)(N,{isStickyBar:t,scrollBackToMainBar:m,...i},e);case"LocationSelect":if(!o)return null;return(0,r.jsx)(Q,{isStickyBar:t,scrollBackToMainBar:m,...i},e);default:return null}},g=(0,G.n)(l);return(0,r.jsxs)(n.default,{sx:{display:{xs:"none",sm:"flex"},flexDirection:"column",gap:2,pt:3},ref:d,children:[(0,r.jsxs)(n.default,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"center",sm:"end"},flexGrow:1,gap:2},children:[g.filters.map(e=>{let{component:t}=e;return y(t)}),(0,r.jsx)(b,{sortOptions:(0,C.$A)(l),useStore:A.QK,filterKey:"Sort By",sortBySelectEvent:x})]}),(0,r.jsx)(S.c,{isMobile:!1,analyticsProps:i,onClearFilters:s}),p&&(0,r.jsxs)(j,{showStickyBar:p,useStore:A.QK,scrollBackToMainBar:m,onClearFilters:s,clearAllFiltersEvent:f,initialClientRegion:a,children:[g.filters.map(e=>{let{component:t}=e;return y(t,!0)}),(0,r.jsx)(b,{sortOptions:(0,C.$A)(l),useStore:A.QK,filterKey:"Sort By",isStickyBar:!0,scrollBackToMainBar:m,sortBySelectEvent:x})]})]})}},87558:(e,t,l)=>{l.d(t,{vF:()=>h,Jw:()=>b,FO:()=>y,Xi:()=>m,ej:()=>f});var r=l(81715),n=l.n(r),o=l(25565),i=l.n(o),s=l(7620),a=l(75414),d=l(89412),c=l(77436),u=l(98819);let p={driverBonus:{propertyPath:e=>{var t;return null==e||null==(t=e.driverBonus)?void 0:t.value},parser:e=>"string"==typeof e?(e=>{if(!e)return 0;let t=e.match(/\$([\d,]+(?:\.\d+)?)/);return t&&parseFloat(t[1].replace(/,/g,""))||0})(e):0},apy:{propertyPath:e=>null==e?void 0:e.apy,parser:e=>"number"==typeof e?e:0},starRating:{propertyPath:e=>null==e?void 0:e.starRating,parser:e=>"number"==typeof e?e:0}},x={"investment-apps":(e,t)=>{let l=(null==e?void 0:e.selectedAppTypes)||[],r=(null==e?void 0:e.selectedPromotions)||[];if(0===l.length&&0===r.length)return!0;let n=0===l.length||l.some(e=>{let l=u.yN.find(t=>t.label===e);return!!l&&l.values.includes(t.id)}),o=0===r.length||r.some(e=>{var l,r;let n=u.D_.find(t=>t.label===e);return!!n&&("No promotion"===n.label?(null==(r=t.driverPromotion)?void 0:r.value)==="None":(null==(l=t.driverPromotion)?void 0:l.value)!=="None")});return n&&o},"bank-bonuses-and-promotions":(e,t)=>{let l=(null==e?void 0:e.selectedProductTypes)||[];return 0===l.length||l.some(e=>t.subProductType===u.x[e])}};function f(){let{allOffers:e,filtersApplied:t,appliedFilters:l,sortBy:r,slug:n}=(0,d.QK)(e=>{let{allOffers:t,filtersApplied:l,appliedFilters:r,sortBy:n,slug:o}=e;return{allOffers:t,filtersApplied:l,appliedFilters:r,sortBy:n,slug:o}},a.x);return(0,s.useMemo)(()=>{let o=t?e.filter(function(e,t){if(!Object.keys(x).includes(t))return()=>!0;let l=x[t];return t=>{let{marketplaceEntity:r}=t;return l(e,r)}}(l,n)):structuredClone(e);return r?o.sort((e,t)=>{let l=p[r];if(!l)throw Error("Missing sort configuration for field: ".concat(r,". Please add it to SORT_FIELD_CONFIG."));let n=l.propertyPath(e.marketplaceEntity),o=l.propertyPath(t.marketplaceEntity);return null===n&&null===o?0:null===n?1:null===o?-1:l.parser(o)-l.parser(n)}):o},[e,t,l,r])}function h(){let{allOffers:e,appliedFilters:t}=(0,d.QK)(e=>{let{allOffers:t,appliedFilters:l}=e;return{allOffers:t,appliedFilters:l}},a.x);return(0,s.useMemo)(()=>{let l=(null==t?void 0:t.selectedPromotions.length)?u.D_.filter(e=>t.selectedPromotions.includes(e.label)):null,r=l?e.filter(e=>l.some(t=>{var l,r;return"No promotion"===t.label?(null==(r=e.marketplaceEntity.driverPromotion)?void 0:r.value)==="None":(null==(l=e.marketplaceEntity.driverPromotion)?void 0:l.value)!=="None"})):structuredClone(e);return u.yN.map(e=>{let t=r.filter(t=>e.values.includes(t.marketplaceEntity.id)).length;return{...e,count:t}})},[t,e])}function m(){let{allOffers:e,appliedFilters:t}=(0,d.QK)(e=>{let{allOffers:t,appliedFilters:l}=e;return{allOffers:t,appliedFilters:l}},a.x);return(0,s.useMemo)(()=>{let l=(null==t?void 0:t.selectedAppTypes.length)?u.yN.filter(e=>t.selectedAppTypes.includes(e.label)):null,r=l?e.filter(e=>l.some(t=>t.values.includes(e.marketplaceEntity.id))):structuredClone(e);return u.D_.map(e=>{let t=r.filter(t=>{var l,r;return"No promotion"===e.label?(null==(r=t.marketplaceEntity.driverPromotion)?void 0:r.value)==="None":(null==(l=t.marketplaceEntity.driverPromotion)?void 0:l.value)!=="None"}).length;return{...e,count:t}})},[t,e])}function y(){let{allOffers:e,appliedFilters:t}=(0,d.QK)(e=>{let{allOffers:t,appliedFilters:l}=e;return{allOffers:t,appliedFilters:l}},a.x);return(0,s.useMemo)(()=>{let l=null==t?void 0:t.selectedLocation,r=e.filter(e=>{let t=e.marketplaceEntity.states;return!Array.isArray(t)||0===t.length||t.includes(l)});return["CHECKING","SAVINGS"].map(e=>{let t=r.filter(t=>t.marketplaceEntity.subProductType===e).length,l=n()(i()(e));return{label:"".concat(l," Account"),value:e,count:t}})},[t,e])}function b(){return c.J.map(e=>({label:e.label,value:e.value}))}},89412:(e,t,l)=>{l.d(t,{OffersFilterStoreProvider:()=>d,QK:()=>c,ej:()=>s.ej});var r=l(54568),n=l(7620),o=l(97345),i=l(45155),s=l(87558);let a=(0,n.createContext)(null);function d(e){let{offers:t,slug:l,children:o}=e,s=(0,n.useMemo)(()=>(0,i.P1)(t,l),[t,l]);return(0,r.jsx)(a.Provider,{value:s,children:o})}function c(e,t){let l=(0,n.useContext)(a);if(!l)throw Error("Missing OffersFilterStoreProvider in the tree");return(0,o.n)(l,e,t)}},89796:(e,t,l)=>{l.d(t,{c:()=>x});var r=l(54568),n=l(39216),o=l(91284),i=l(31352),s=l(22837),a=l(40563),d=l(7620),c=l(99746),u=l(89412),p=l(45155);let x=e=>{let{isMobile:t=!1,analyticsProps:l,onClearFilters:x}=e,{appliedFilters:f,handleUpdateFilterFormState:h,handleApplyFilters:m,handleSortBy:y,sortBy:b,handleClearFilters:g,slug:v}=(0,u.QK)((0,c.k)(e=>({appliedFilters:e.appliedFilters,handleUpdateFilterFormState:e.handleUpdateFilterFormState,handleApplyFilters:e.handleApplyFilters,handleSortBy:e.handleSortBy,sortBy:e.sortBy,handleClearFilters:e.handleClearFilters,slug:e.slug}))),j=(0,d.useRef)(void 0),{clearAllFiltersEvent:k,removeFilterEvent:S}=(0,a.j)({actionSection:l.actionSection,pageIdentifier:l.pageIdentifier,additionalAttributes:{}}),A=(0,p.$A)(v),C=x||g,w=(0,d.useCallback)(()=>{j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{(0,d.startTransition)(()=>{C(),k()})},100)},[C,k]),T=(0,d.useCallback)(e=>{j.current&&clearTimeout(j.current);let t=null==f?void 0:f.selectedAppTypes.includes(e),l=null==f?void 0:f.selectedPromotions.includes(e),r=null==f?void 0:f.selectedProductTypes.includes(e),n=A.find(t=>t.label===e);j.current=setTimeout(()=>{(0,d.startTransition)(()=>{t?h({selectedAppTypes:(null==f?void 0:f.selectedAppTypes.filter(t=>t!==e))||[]}):l?h({selectedPromotions:(null==f?void 0:f.selectedPromotions.filter(t=>t!==e))||[]}):r?h({selectedProductTypes:(null==f?void 0:f.selectedProductTypes.filter(t=>t!==e))||[]}):n&&y(p.Wb),m(),S({additional_attributes:{filter_cleared:e}})})},100)},[f,h,m,y,p.Wb,S]),{allSelectedFilters:F,filterPillsToDisplay:B}=(0,d.useMemo)(()=>{let e=[...(null==f?void 0:f.selectedAppTypes)||[],...(null==f?void 0:f.selectedPromotions)||[],...(null==f?void 0:f.selectedProductTypes)||[]];if(t){var l;let t=null==(l=A.find(e=>e.value===b))?void 0:l.label;t&&e.push(t);let r=(null==f?void 0:f.selectedLocation)?s.K1[f.selectedLocation]:void 0;r&&e.push(r)}return{allSelectedFilters:e,filterPillsToDisplay:e.length}},[null==f?void 0:f.selectedAppTypes,null==f?void 0:f.selectedPromotions,null==f?void 0:f.selectedProductTypes,null==f?void 0:f.selectedLocation,b,t]);return(0,r.jsx)(o.default,{sx:{display:"flex",mt:2,justifyContent:{md:"space-between"}},children:(0,r.jsxs)(o.default,{sx:{display:"flex",rowGap:2,columnGap:t?2:3,flexWrap:"wrap"},children:[F.map(e=>{let t=(null==f?void 0:f.selectedLocation)&&s.K1[f.selectedLocation]===e;return(0,r.jsx)(i.A,{label:e,variant:"filterPills",deleteIcon:t?void 0:(0,r.jsx)(n.A,{}),onClick:t?void 0:()=>T(e),onDelete:t?void 0:()=>T(e),sx:{fontSize:{xs:12,sm:14},cursor:t?"default":"pointer"}},e)}),B>=2&&!t&&(0,r.jsx)(i.A,{label:"Clear All",variant:"filterPills",onClick:w,sx:{fontSize:{xs:12,sm:14}}})]})})}},90846:(e,t,l)=>{l.d(t,{D:()=>s});var r=l(54568),n=l(32828),o=l(7620),i=l(35099);let s=e=>{let{slug:t,initialLocation:l,analyticsProps:s}=e,{setRegionCode:a,initialRegionCode:d}=(0,n.useGeo)(),c=(0,o.useCallback)(()=>{a(d)},[d,a]);return(0,r.jsx)(i.S,{slug:t,initialLocation:l,analyticsProps:s,onLocationReset:c,initialClientRegion:d})}}}]);