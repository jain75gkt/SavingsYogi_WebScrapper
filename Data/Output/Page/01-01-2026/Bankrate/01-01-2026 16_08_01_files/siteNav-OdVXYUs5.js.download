function g(){return{isMobile:!1,isTouch:!1,isAnimating:!1,isNavOpen:!1,isSearchOpen:!1,showSubcategoryView:!0,activeSubcategoryId:null,activeSubcategoryName:null,topSearchQueries:null,searchSuggestions:[],showSearchAutocomplete:!1,checkIfMobile(){const e=document.getElementById("SiteNavMenuButton");return e.offsetHeight!==0&&e.offsetWidth!==0},checkIfTouch(){return window.matchMedia("(hover: none), (pointer: coarse)").matches},windowResized(){this.isMobile=this.checkIfMobile(),this.isTouch=this.checkIfTouch(),this.isMobile||(this.showSubcategoryView=!0,this.blurCategory())},whichChild(e,t){return Array.from(t.children).indexOf(e)+1},activate(e){e.classList.add("is-active")},deactivate(e){e.classList.remove("is-active")},animatingTimeout(e){setTimeout(()=>{this.isAnimating=!1,e&&typeof e=="function"&&e()},200)},resetScroll(){this.$refs.siteNavCategories&&(this.$refs.siteNavCategories.scrollTop=0),this.$refs.flyout&&(this.$refs.flyout.scrollTop=0)},resetFlyouts(){this.isMobile||(this.deactivateCategory(),this.deactivateOverlay())},trackSubcategory(e,t,s="ElementClicked"){var a;const i={"@type":`redventures.usertracking.v3.${s}`,webElement:{elementType:"subcategory tab",location:`site nav ${e} container`,name:`${e} subcategory tab-hover`,position:t,text:e}};s==="ElementClicked"&&(i.actionOutcome="open subcategory"),(a=window._Beam)==null||a.track(i)},openNav(){this.isAnimating||(this.isAnimating=!0,setTimeout(()=>{this.isAnimating=!1},200),this.isNavOpen=!0,this.isSearchOpen=!1,this.activate(this.$refs.siteHeader),this.activate(this.$refs.siteNavCategories),document.documentElement.style.overflow="hidden")},closeNav(){this.isMobile&&!this.isAnimating&&(this.isAnimating=!0,this.deactivateNav(),this.animatingTimeout(()=>{this.deactivateCategory(),this.deactivateSubcategory()}),document.documentElement.style.overflow=""),this.isMobile||(this.deactivateNav(),this.deactivateCategory(),this.deactivateSubcategory())},deactivateNav(){this.isNavOpen=!1,this.deactivate(this.$refs.siteHeader),this.deactivate(this.$refs.siteNavCategories),this.isSearchOpen||this.deactivateOverlay()},toggleNav(){var e;this.isNavOpen?this.closeNav():(this.openNav(),(e=window._Beam)==null||e.track({"@type":"redventures.usertracking.v3.ElementViewed",webElement:{elementType:"hamburger",location:"site-nav",name:"top-level-hover",position:"0",text:"Hamburger"}}))},initCategory(e){this.activateSubcategory(`subcategory-${this.whichChild(e,e.parentElement)}-1`)},focusCategory(e){this.isMobile||(this.deactivateCategory(),this.activateCategory(e),this.activateOverlay(),this.initCategory(e))},blurCategory(){this.isMobile||this.closeNav()},keyDownSiteNavLogo(){this.isMobile&&(this.keydownCategory("tab",0,0),this.$event.preventDefault())},keyDownBackToCategoriesButton(e){const t=e.code==="Tab"&&e.shiftKey?"ShiftTab":e.code;["Space","Enter"].includes(t)?(this.$el.click(),this.keydownCategory("tab",0,2)):["Tab","ArrowDown","ArrowRight"].includes(t)&&this.$focus.within(this.$refs.siteNavCategoryPanel).next()},keyDownBackToSubcategoriesButton(e){const t=e.code==="Tab"&&e.shiftKey?"ShiftTab":e.code,s=`${this.activeSubcategoryId.slice(0,-1)}1`;["Space","Enter"].includes(t)?(this.$el.click(),this.$focus.focus(this.$root.querySelector(`#${s}`))):["Tab","ArrowDown","ArrowRight"].includes(t)&&this.$focus.focus(this.$root.querySelector(".SiteNavSubcategory-panel.is-active .SiteNavSubcategory-firstColumn a"))},keydownMenuButton(e){this.isNavOpen&&["Tab","ArrowRight","ArrowDown"].includes(e.code)&&(e.preventDefault(),this.keydownCategory("tab",0,2))},keydownCategory(e,t,s){let i=t;switch(e=e==="tab"&&this.$event.shiftKey?"shiftTab":e,e){case"right":case"tab":i=s>t?t+1:s;break;case"left":case"shiftTab":i=t>1?t-1:t;break;case"down":if(this.isMobile){i=s>t?t+1:s;break}this.$root.querySelector(`#${this.activeSubcategoryId}`).focus();break;case"up":if(this.isMobile){i=t>1?t-1:t;break}break;case"home":i=1;break;case"end":this.closeNav(),this.$refs.siteNavSearchButton.focus();return;case"space":case"enter":this.$el.click(),setTimeout(()=>{this.$root.querySelector(`#subcategory-${t}-1`).focus()},200);break;default:return}if((e==="tab"||e==="right")&&t===s)this.$refs.siteNavSearchButton.focus(),this.resetFlyouts();else if(!this.isMobile&&e==="shiftTab"&&t===1)this.$refs.siteNavLogo.focus(),this.resetFlyouts();else if(this.isMobile&&["shiftTab","up","left"].includes(e)&&t===1)this.$refs.siteNavMenuButton.focus();else if(i!==t){const a=document.body.querySelector(`[data-js-selector=siteNavCategorylink${i}]`);this.deactivateCategory(),a.focus()}},keydownSearchDropdown(e){switch(e.code){case"ArrowDown":if(this.$focus.isLast(e.target)){this.$refs.siteSearchInput.focus();break}this.$focus.next();break;case"ArrowUp":if(this.$focus.isFirst(e.target)){this.$refs.siteSearchInput.focus();break}this.$focus.previous();break}},getSubcategoryTabsKeydownActions(e,{currentTabIndex:t}){const s=()=>{},i={Home:()=>{this.$focus.first()},ArrowUp:()=>{if(this.isMobile){if(t===0){this.$focus.focus(this.$refs.backToCategoriesButton);return}this.$focus.within(this.$el.parentElement).prev();return}if(t===0){this.$root.firstElementChild.focus();return}this.$focus.wrap().prev()},ArrowDown:()=>{if(this.isMobile){this.$focus.within(this.$el.parentElement).next();return}this.$focus.wrap().next()},ShiftTab:()=>{if(this.isMobile){if(t===0){this.$focus.focus(this.$refs.backToCategoriesButton);return}this.$focus.within(this.$el.parentElement).prev()}},Tab:()=>{if(this.isMobile){this.$focus.within(this.$el.parentElement).next();return}this.$root.querySelector("div.is-active .SiteNavSubcategory-firstColumn a").focus()},PageDown:()=>{this.$focus.last()},Space:()=>{this.isMobile&&(this.$event.target.click(),setTimeout(()=>{this.$root.querySelector(".SiteNavSubcategory-panel.is-active .SiteNavSubcategory-firstColumn a").focus()},200))}};return i.PageUp=i.Home,i.ArrowRight=i.Tab,i.ArrowLeft=i.ArrowUp,i.End=i.PageDown,i.Enter=i.Space,i[e]??s},keydownSubcategoryTabs(e){const s=Array.from(this.$el.querySelectorAll(".SiteNavSubcategory-tab")).indexOf(document.activeElement),i=e.code==="Tab"&&this.$event.shiftKey?"ShiftTab":e.code;this.getSubcategoryTabsKeydownActions(i,{currentTabIndex:s})()},focusNextSubcategoryTab(){var i;const e=Array.from(this.$root.querySelectorAll(".SiteNavSubcategory-tab")),s=e.findIndex(a=>a.classList.contains("is-active"))+1;s<e.length&&((i=e[s])==null||i.focus(),this.$event.preventDefault())},keydownSubcategoryLinks(e,t){var h,l;const{target:s}=t,i=Array.from(e.querySelectorAll(".SiteNavSubcategory-firstColumn a")),a=Array.from(e.querySelectorAll(".SiteNavSubcategory-secondColumn a:not(.SiteNavFeaturedLink)")),u=Array.from(e.querySelectorAll(".SiteNavFeaturedLink")),f=this.isMobile?[]:Array.from(e.offsetParent.querySelectorAll(".SiteNavSubcategory-content .SiteNavSubcategory-categoryLinkContainer a")),c=[...i,...a,...u,...f],r=c.indexOf(s),y=r<i.length,b=r>=i.length+a.length;let o=r;const n=t.code==="Tab"&&t.shiftKey?"ShiftTab":t.code;switch(n){case"ArrowUp":o=r-1;break;case"ArrowDown":o=r+1;break;case"ArrowLeft":if(this.isMobile){o=r-1;break}if(r<i.length){this.$root.querySelector(".SiteNavSubcategory-tab.is-active").focus();return}b?o=i.length:(o=r-i.length,o=Math.min(o,i.length-1));break;case"ArrowRight":if(this.isMobile){o=r+1;break}y?(o=r+i.length,o=o>=i.length+a.length?i.length:o):o=i.length+a.length;break;case"Enter":case"Space":t.target.click();break}if(this.isMobile){r===c.length-1&&n!=="ShiftTab"&&t.preventDefault(),o===-1&&this.$focus.focus(this.$refs.backToSubcategoriesButton),(h=c[o])==null||h.focus();return}o!==r&&(t.preventDefault(),(l=c[o])==null||l.focus())},activateCategory(e){this.showSubcategoryView=!1,this.activate(e),this.$refs.flyout.classList.remove("SiteNav--noScroll")},deactivateCategory(){if(this.isMobile){const e=document.body.querySelectorAll(".SiteNavCategory-flyout.is-active");e==null||e.forEach(t=>{this.deactivate(t)}),this.$refs.siteNavCategories.classList.remove("SiteNav--noScroll"),this.resetScroll()}else{const e=document.body.querySelectorAll(".SiteNavCategory.is-active");e==null||e.forEach(t=>{this.deactivate(t)})}},isActiveSubcategory(e){return this.activeSubcategoryId===e},handleCategoryClick(e){(this.isMobile||this.isTouch)&&(e.preventDefault(),this.activateCategory(this.$el)),this.isMobile&&(this.deactivateCategory(),this.activate(this.$refs.flyout),this.$refs.siteNavCategories.classList.add("SiteNav--noScroll"))},handleSubcategoryClick(e){this.isMobile&&(this.activeSubcategoryName=e.target.dataset.subcategoryName,this.showSubcategory(e.target.id),this.trackSubcategory(e.target.dataset.subcategoryName,e.target.dataset.position,"ElementClicked"),this.$refs.flyout.classList.add("SiteNav--noScroll"),this.resetScroll())},handleSubcategoryMouseOver(e){!this.isMobile&&!this.isActiveSubcategory(e.target.id)&&(this.showSubcategory(e.target.id),this.trackSubcategory(e.target.dataset.subcategoryName,e.target.dataset.position,"ElementViewed"))},showSubcategory(e){this.activateSubcategory(e),this.showSubcategoryView=!0},activateSubcategory(e){this.activeSubcategoryId=e},deactivateSubcategory(){var t;const e=document.body.querySelectorAll(".SiteNavSubcategory-panel.is-active");e==null||e.forEach(s=>{this.deactivate(s)}),(t=this.$refs.flyout)==null||t.classList.remove("SiteNav--noScroll"),this.showSubcategoryView=!this.isMobile,this.activeSubcategoryId=null,this.activeSubcategoryName=null},activateOverlay(){this.isMobile&&this.activate(this.$refs.siteNavOverlayHeader),this.activate(this.$refs.siteNavOverlay)},deactivateOverlay(){this.deactivate(this.$refs.siteNavOverlayHeader),this.deactivate(this.$refs.siteNavOverlay)},init(){this.windowResized(),this.$watch("isMobile",()=>{this.closeNav()});const e=document.body.querySelectorAll(".SiteNavMobile-sticky"),t=document.body.querySelectorAll(".SiteNavCategory-flyout"),s=document.body.querySelectorAll(".SiteNavSubcategory-content");t==null||t.forEach(i=>{i.addEventListener("scroll",()=>{i.scrollTop>0?e==null||e.forEach(a=>{a.style.borderBottom="0.0625rem solid #e3e6ee"}):e==null||e.forEach(a=>{a.style.borderBottom="unset"})})}),s==null||s.forEach(i=>{i.addEventListener("scroll",()=>{i.scrollTop>0?e==null||e.forEach(a=>{a.style.borderBottom="0.0625rem solid #e3e6ee"}):e==null||e.forEach(a=>{a.style.borderBottom="unset"})})}),window.addEventListener("pagehide",()=>{this.resetFlyouts()})},async toggleSearch(){this.isSearchOpen=!this.isSearchOpen,document.documentElement.style.overflow=this.isSearchOpen?"hidden":""},closeSearch(){this.isSearchOpen=!1,document.documentElement.style.overflow=""}}}document.addEventListener("alpine:init",()=>{window.Alpine.data("siteNav",g)});
