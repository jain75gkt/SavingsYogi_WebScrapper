function getHttpsLinks(){var e=document.getElementsByTagName("a"),t=new Set,n=window.location.hostname,r=function(e){var t=e.split(".");return t.length>=2?t.slice(-2).join("."):e},o=r(n),i=/Android|webOS|iPhone|iPad|iPod/i.test(navigator.userAgent)||window.innerWidth<=768?8:16;return Array.from(e).some((function(e){if(t.size>=i)return!0;if(e.href&&e.href.startsWith("https://"))try{var a=new URL(e.href);r(a.hostname)===o&&a.hostname!==n&&t.add(e.href)}catch(e){}return!1})),Array.from(t)}function addLinkPrefetch(e){var t=new Set;e.forEach((function(e){try{var n=new URL(e).hostname;if(!t.has(n)){var r=document.createElement("link");r.rel="prefetch",r.href=e,r.crossOrigin="anonymous",document.head&&document.head.appendChild(r),t.add(n)}}catch(e){}}))}function addSpeculationRules(){var e=getHttpsLinks();if(e.length>0&&HTMLScriptElement.supports&&HTMLScriptElement.supports("speculationrules")){var t=document.createElement("script");t.type="speculationrules",t.textContent=JSON.stringify({prefetch:[{urls:e}]}),document.head&&document.head.appendChild(t)}else e.length>0&&addLinkPrefetch(e)}function runPrefetchLogic(){document&&document.getElementsByTagName&&(window.requestIdleCallback?requestIdleCallback((function(){addSpeculationRules()}),{timeout:2e3}):setTimeout(addSpeculationRules,100))}function initPrefetchLinks(){"complete"===document.readyState?runPrefetchLogic():"interactive"===document.readyState?document.addEventListener("load",runPrefetchLogic,{once:!0}):document.addEventListener("DOMContentLoaded",(function(){"complete"===document.readyState?runPrefetchLogic():window.addEventListener("load",runPrefetchLogic,{once:!0})}),{once:!0})}initPrefetchLinks();