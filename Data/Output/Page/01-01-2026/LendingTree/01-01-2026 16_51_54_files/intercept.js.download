(function(){"use strict";try{if(typeof document!="undefined"){var e=document.createElement("style");e.id="intercept-stylesheet",e.appendChild(document.createTextNode('html body{margin:0!important}html body .frame-content{height:100%}html body .frame-content .header{box-sizing:border-box;display:flex;flex-direction:row-reverse;justify-content:space-between;align-items:center;width:100%}html body .frame-content .survey-loader{position:absolute;width:100%;height:100%;background-color:#fff;display:flex;justify-content:center;align-items:center}html body .frame-content .buttonContainer{display:flex;flex-direction:row;gap:6px}html body .frame-content .buttonContainer .button{display:flex;justify-content:center;align-items:center;gap:12px;min-width:36px;height:35px;border-radius:12px;border:0;font-family:Roboto,sans serif;font-style:normal;font-weight:400;font-size:14px;line-height:16px;cursor:pointer;background-color:#0a86ea}html body .frame-content .buttonContainer .button:hover{opacity:.7}html body .frame-content .widgetName{text-overflow:"ellipsis";white-space:"nowrap";overflow:"hidden"}html body .frame-content .surveyFrame{overflow:hidden;box-sizing:border-box}html body .frame-content .surveyFrame .launch-survey_container{padding:10px}html body .frame-content .surveyFrame .launch-survey_container-widgetDescription{width:100%}html body .frame-content .surveyFrame .launch-survey_container-launchSurvey{padding:8px 16px;border:none;border-radius:5px;font-size:16px;cursor:pointer}html body .frame-content .surveyFrame .widget-description-btn-content{width:100%;min-height:100%;display:flex;align-items:center;flex-direction:column;justify-content:center;text-align:center;overflow:visible}html body .frame-content .surveyFrame .widget-description-btn-content>div:first-child{margin:10px}')),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
var Bo=Object.defineProperty,jo=Object.defineProperties;var Wo=Object.getOwnPropertyDescriptors;var ir=Object.getOwnPropertySymbols;var Vo=Object.prototype.hasOwnProperty,Go=Object.prototype.propertyIsEnumerable;var sr=(W,v,Y)=>v in W?Bo(W,v,{enumerable:!0,configurable:!0,writable:!0,value:Y}):W[v]=Y,N=(W,v)=>{for(var Y in v||(v={}))Vo.call(v,Y)&&sr(W,Y,v[Y]);if(ir)for(var Y of ir(v))Go.call(v,Y)&&sr(W,Y,v[Y]);return W},J=(W,v)=>jo(W,Wo(v));(function(){"use strict";var W,v,Y,fe,It,Rt,xt,kt,Qe,qe,Ye,Lt,we={},At=[],cr=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ce=Array.isArray;function re(e,t){for(var n in t)e[n]=t[n];return e}function Ke(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function oe(e,t,n){var r,o,a,i={};for(a in t)a=="key"?r=t[a]:a=="ref"?o=t[a]:i[a]=t[a];if(arguments.length>2&&(i.children=arguments.length>3?W.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)i[a]===void 0&&(i[a]=e.defaultProps[a]);return Se(e,i,r,o,null)}function Se(e,t,n,r,o){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o==null?++Y:o,__i:-1,__u:0};return o==null&&v.vnode!=null&&v.vnode(a),a}function Dt(){return{current:null}}function X(e){return e.children}function ee(e,t){this.props=e,this.context=t}function me(e,t){if(t==null)return e.__?me(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?me(e):null}function Ot(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Ot(e)}}function Xe(e){(!e.__d&&(e.__d=!0)&&fe.push(e)&&!Oe.__r++||It!=v.debounceRendering)&&((It=v.debounceRendering)||Rt)(Oe)}function Oe(){for(var e,t,n,r,o,a,i,l=1;fe.length;)fe.length>l&&fe.sort(xt),e=fe.shift(),l=fe.length,e.__d&&(n=void 0,r=void 0,o=(r=(t=e).__v).__e,a=[],i=[],t.__P&&((n=re({},r)).__v=r.__v+1,v.vnode&&v.vnode(n),Ze(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,a,o==null?me(r):o,!!(32&r.__u),i),n.__v=r.__v,n.__.__k[n.__i]=n,Ht(a,n,i),r.__e=r.__=null,n.__e!=o&&Ot(n)));Oe.__r=0}function Pt(e,t,n,r,o,a,i,l,u,s,_){var c,p,f,E,b,g,m,y=r&&r.__k||At,R=t.length;for(u=ur(n,t,y,u,R),c=0;c<R;c++)(f=n.__k[c])!=null&&(p=f.__i==-1?we:y[f.__i]||we,f.__i=c,g=Ze(e,f,p,o,a,i,l,u,s,_),E=f.__e,f.ref&&p.ref!=f.ref&&(p.ref&&Je(p.ref,null,f),_.push(f.ref,f.__c||E,f)),b==null&&E!=null&&(b=E),(m=!!(4&f.__u))||p.__k===f.__k?u=Ft(f,u,e,m):typeof f.type=="function"&&g!==void 0?u=g:E&&(u=E.nextSibling),f.__u&=-7);return n.__e=b,u}function ur(e,t,n,r,o){var a,i,l,u,s,_=n.length,c=_,p=0;for(e.__k=new Array(o),a=0;a<o;a++)(i=t[a])!=null&&typeof i!="boolean"&&typeof i!="function"?(u=a+p,(i=e.__k[a]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?Se(null,i,null,null,null):Ce(i)?Se(X,{children:i},null,null,null):i.constructor==null&&i.__b>0?Se(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=e,i.__b=e.__b+1,l=null,(s=i.__i=lr(i,n,u,c))!=-1&&(c--,(l=n[s])&&(l.__u|=2)),l==null||l.__v==null?(s==-1&&(o>_?p--:o<_&&p++),typeof i.type!="function"&&(i.__u|=4)):s!=u&&(s==u-1?p--:s==u+1?p++:(s>u?p--:p++,i.__u|=4))):e.__k[a]=null;if(c)for(a=0;a<_;a++)(l=n[a])!=null&&!(2&l.__u)&&(l.__e==r&&(r=me(l)),Mt(l,l));return r}function Ft(e,t,n,r){var o,a;if(typeof e.type=="function"){for(o=e.__k,a=0;o&&a<o.length;a++)o[a]&&(o[a].__=e,t=Ft(o[a],t,n,r));return t}e.__e!=t&&(r&&(t&&e.type&&!t.parentNode&&(t=me(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function se(e,t){return t=t||[],e==null||typeof e=="boolean"||(Ce(e)?e.some(function(n){se(n,t)}):t.push(e)),t}function lr(e,t,n,r){var o,a,i,l=e.key,u=e.type,s=t[n],_=s!=null&&(2&s.__u)==0;if(s===null&&e.key==null||_&&l==s.key&&u==s.type)return n;if(r>(_?1:0)){for(o=n-1,a=n+1;o>=0||a<t.length;)if((s=t[i=o>=0?o--:a++])!=null&&!(2&s.__u)&&l==s.key&&u==s.type)return i}return-1}function Nt(e,t,n){t[0]=="-"?e.setProperty(t,n==null?"":n):e[t]=n==null?"":typeof n!="number"||cr.test(t)?n:n+"px"}function Pe(e,t,n,r,o){var a,i;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Nt(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||Nt(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")a=t!=(t=t.replace(kt,"$1")),i=t.toLowerCase(),t=i in e||t=="onFocusOut"||t=="onFocusIn"?i.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r?n.u=r.u:(n.u=Qe,e.addEventListener(t,a?Ye:qe,a)):e.removeEventListener(t,a?Ye:qe,a);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n==null?"":n;break e}catch(l){}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function Ut(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=Qe++;else if(t.t<n.u)return;return n(v.event?v.event(t):t)}}}function Ze(e,t,n,r,o,a,i,l,u,s){var _,c,p,f,E,b,g,m,y,R,O,B,G,V,Z,Q,z,P=t.type;if(t.constructor!=null)return null;128&n.__u&&(u=!!(32&n.__u),a=[l=t.__e=n.__e]),(_=v.__b)&&_(t);e:if(typeof P=="function")try{if(m=t.props,y="prototype"in P&&P.prototype.render,R=(_=P.contextType)&&r[_.__c],O=_?R?R.props.value:_.__:r,n.__c?g=(c=t.__c=n.__c).__=c.__E:(y?t.__c=c=new P(m,O):(t.__c=c=new ee(m,O),c.constructor=P,c.render=fr),R&&R.sub(c),c.props=m,c.state||(c.state={}),c.context=O,c.__n=r,p=c.__d=!0,c.__h=[],c._sb=[]),y&&c.__s==null&&(c.__s=c.state),y&&P.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=re({},c.__s)),re(c.__s,P.getDerivedStateFromProps(m,c.__s))),f=c.props,E=c.state,c.__v=t,p)y&&P.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),y&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(y&&P.getDerivedStateFromProps==null&&m!==f&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(m,O),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(m,c.__s,O)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(c.props=m,c.state=c.__s,c.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(M){M&&(M.__=t)}),B=0;B<c._sb.length;B++)c.__h.push(c._sb[B]);c._sb=[],c.__h.length&&i.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(m,c.__s,O),y&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(f,E,b)})}if(c.context=O,c.props=m,c.__P=e,c.__e=!1,G=v.__r,V=0,y){for(c.state=c.__s,c.__d=!1,G&&G(t),_=c.render(c.props,c.state,c.context),Z=0;Z<c._sb.length;Z++)c.__h.push(c._sb[Z]);c._sb=[]}else do c.__d=!1,G&&G(t),_=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++V<25);c.state=c.__s,c.getChildContext!=null&&(r=re(re({},r),c.getChildContext())),y&&!p&&c.getSnapshotBeforeUpdate!=null&&(b=c.getSnapshotBeforeUpdate(f,E)),Q=_,_!=null&&_.type===X&&_.key==null&&(Q=$t(_.props.children)),l=Pt(e,Ce(Q)?Q:[Q],t,n,r,o,a,i,l,u,s),c.base=t.__e,t.__u&=-161,c.__h.length&&i.push(c),g&&(c.__E=c.__=null)}catch(M){if(t.__v=null,u||a!=null)if(M.then){for(t.__u|=u?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,t.__e=l}else{for(z=a.length;z--;)Ke(a[z]);ze(t)}else t.__e=n.__e,t.__k=n.__k,M.then||ze(t);v.__e(M,t,n)}else a==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):l=t.__e=_r(n.__e,t,n,r,o,a,i,u,s);return(_=v.diffed)&&_(t),128&t.__u?void 0:l}function ze(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(ze)}function Ht(e,t,n){for(var r=0;r<n.length;r++)Je(n[r],n[++r],n[++r]);v.__c&&v.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(a){a.call(o)})}catch(a){v.__e(a,o.__v)}})}function $t(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Ce(e)?e.map($t):re({},e)}function _r(e,t,n,r,o,a,i,l,u){var s,_,c,p,f,E,b,g=n.props,m=t.props,y=t.type;if(y=="svg"?o="http://www.w3.org/2000/svg":y=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),a!=null){for(s=0;s<a.length;s++)if((f=a[s])&&"setAttribute"in f==!!y&&(y?f.localName==y:f.nodeType==3)){e=f,a[s]=null;break}}if(e==null){if(y==null)return document.createTextNode(m);e=document.createElementNS(o,y,m.is&&m),l&&(v.__m&&v.__m(t,a),l=!1),a=null}if(y==null)g===m||l&&e.data==m||(e.data=m);else{if(a=a&&W.call(e.childNodes),g=n.props||we,!l&&a!=null)for(g={},s=0;s<e.attributes.length;s++)g[(f=e.attributes[s]).name]=f.value;for(s in g)if(f=g[s],s!="children"){if(s=="dangerouslySetInnerHTML")c=f;else if(!(s in m)){if(s=="value"&&"defaultValue"in m||s=="checked"&&"defaultChecked"in m)continue;Pe(e,s,null,f,o)}}for(s in m)f=m[s],s=="children"?p=f:s=="dangerouslySetInnerHTML"?_=f:s=="value"?E=f:s=="checked"?b=f:l&&typeof f!="function"||g[s]===f||Pe(e,s,f,g[s],o);if(_)l||c&&(_.__html==c.__html||_.__html==e.innerHTML)||(e.innerHTML=_.__html),t.__k=[];else if(c&&(e.innerHTML=""),Pt(t.type=="template"?e.content:e,Ce(p)?p:[p],t,n,r,y=="foreignObject"?"http://www.w3.org/1999/xhtml":o,a,i,a?a[0]:n.__k&&me(n,0),l,u),a!=null)for(s=a.length;s--;)Ke(a[s]);l||(s="value",y=="progress"&&E==null?e.removeAttribute("value"):E!=null&&(E!==e[s]||y=="progress"&&!E||y=="option"&&E!=g[s])&&Pe(e,s,E,g[s],o),s="checked",b!=null&&b!=e[s]&&Pe(e,s,b,g[s],o))}return e}function Je(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(o){v.__e(o,n)}}function Mt(e,t,n){var r,o;if(v.unmount&&v.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||Je(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){v.__e(a,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&Mt(r[o],t,n||typeof e.type!="function");n||Ke(e.__e),e.__c=e.__=e.__e=void 0}function fr(e,t,n){return this.constructor(e,n)}function ye(e,t,n){var r,o,a,i;t==document&&(t=document.documentElement),v.__&&v.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,a=[],i=[],Ze(t,e=(!r&&n||t).__k=oe(X,null,[e]),o||we,we,t.namespaceURI,!r&&n?[n]:o?null:t.firstChild?W.call(t.childNodes):null,a,!r&&n?n:o?o.__e:t.firstChild,r,i),Ht(a,e,i)}function Bt(e,t){ye(e,t,Bt)}function dr(e,t,n){var r,o,a,i,l=re({},e.props);for(a in e.type&&e.type.defaultProps&&(i=e.type.defaultProps),t)a=="key"?r=t[a]:a=="ref"?o=t[a]:l[a]=t[a]===void 0&&i!=null?i[a]:t[a];return arguments.length>2&&(l.children=arguments.length>3?W.call(arguments,2):n),Se(e.type,l,r||e.key,o||e.ref,null)}function Ie(e){function t(n){var r,o;return this.getChildContext||(r=new Set,(o={})[t.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(a){this.props.value!=a.value&&r.forEach(function(i){i.__e=!0,Xe(i)})},this.sub=function(a){r.add(a);var i=a.componentWillUnmount;a.componentWillUnmount=function(){r&&r.delete(a),i&&i.call(a)}}),n.children}return t.__c="__cC"+Lt++,t.__=e,t.Provider=t.__l=(t.Consumer=function(n,r){return n.children(r)}).contextType=t,t}W=At.slice,v={__e:function(e,t,n,r){for(var o,a,i;t=t.__;)if((o=t.__c)&&!o.__)try{if((a=o.constructor)&&a.getDerivedStateFromError!=null&&(o.setState(a.getDerivedStateFromError(e)),i=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),i=o.__d),i)return o.__E=o}catch(l){e=l}throw e}},Y=0,ee.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=re({},this.state),typeof e=="function"&&(e=e(re({},n),this.props)),e&&re(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Xe(this))},ee.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Xe(this))},ee.prototype.render=X,fe=[],Rt=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,xt=function(e,t){return e.__v.__b-t.__v.__b},Oe.__r=0,kt=/(PointerCapture)$|Capture$/i,Qe=0,qe=Ut(!1),Ye=Ut(!0),Lt=0;var pr=0;function h(e,t,n,r,o,a){t||(t={});var i,l,u=t;if("ref"in u)for(l in u={},t)l=="ref"?i=t[l]:u[l]=t[l];var s={type:e,props:u,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--pr,__i:-1,__u:0,__source:o,__self:a};if(typeof e=="function"&&(i=e.defaultProps))for(l in i)u[l]===void 0&&(u[l]=i[l]);return v.vnode&&v.vnode(s),s}var ce,I,et,jt,ge=0,Wt=[],L=v,Vt=L.__b,Gt=L.__r,Qt=L.diffed,qt=L.__c,Yt=L.unmount,Kt=L.__;function de(e,t){L.__h&&L.__h(I,e,ge||t),ge=0;var n=I.__H||(I.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function U(e){return ge=1,Fe(Zt,e)}function Fe(e,t,n){var r=de(ce++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Zt(void 0,t),function(l){var u=r.__N?r.__N[0]:r.__[0],s=r.t(u,l);u!==s&&(r.__N=[s,r.__[1]],r.__c.setState({}))}],r.__c=I,!I.__f)){var o=function(l,u,s){if(!r.__c.__H)return!0;var _=r.__c.__H.__.filter(function(p){return!!p.__c});if(_.every(function(p){return!p.__N}))return!a||a.call(this,l,u,s);var c=r.__c.props!==l;return _.forEach(function(p){if(p.__N){var f=p.__[0];p.__=p.__N,p.__N=void 0,f!==p.__[0]&&(c=!0)}}),a&&a.call(this,l,u,s)||c};I.__f=!0;var a=I.shouldComponentUpdate,i=I.componentWillUpdate;I.componentWillUpdate=function(l,u,s){if(this.__e){var _=a;a=void 0,o(l,u,s),a=_}i&&i.call(this,l,u,s)},I.shouldComponentUpdate=o}return r.__N||r.__}function x(e,t){var n=de(ce++,3);!L.__s&&at(n.__H,t)&&(n.__=e,n.u=t,I.__H.__h.push(n))}function Te(e,t){var n=de(ce++,4);!L.__s&&at(n.__H,t)&&(n.__=e,n.u=t,I.__h.push(n))}function K(e){return ge=5,D(function(){return{current:e}},[])}function tt(e,t,n){ge=6,Te(function(){if(typeof e=="function"){var r=e(t());return function(){e(null),r&&typeof r=="function"&&r()}}if(e)return e.current=t(),function(){return e.current=null}},n==null?n:n.concat(e))}function D(e,t){var n=de(ce++,7);return at(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function A(e,t){return ge=8,D(function(){return e},t)}function Re(e){var t=I.context[e.__c],n=de(ce++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(I)),t.props.value):e.__}function nt(e,t){L.useDebugValue&&L.useDebugValue(t?t(e):e)}function hr(e){var t=de(ce++,10),n=U();return t.__=e,I.componentDidCatch||(I.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function rt(){var e=de(ce++,11);if(!e.__){for(var t=I.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function vr(){for(var e;e=Wt.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Ne),e.__H.__h.forEach(ot),e.__H.__h=[]}catch(t){e.__H.__h=[],L.__e(t,e.__v)}}L.__b=function(e){I=null,Vt&&Vt(e)},L.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Kt&&Kt(e,t)},L.__r=function(e){Gt&&Gt(e),ce=0;var t=(I=e.__c).__H;t&&(et===I?(t.__h=[],I.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(Ne),t.__h.forEach(ot),t.__h=[],ce=0)),et=I},L.diffed=function(e){Qt&&Qt(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Wt.push(t)!==1&&jt===L.requestAnimationFrame||((jt=L.requestAnimationFrame)||mr)(vr)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),et=I=null},L.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Ne),n.__h=n.__h.filter(function(r){return!r.__||ot(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],L.__e(r,n.__v)}}),qt&&qt(e,t)},L.unmount=function(e){Yt&&Yt(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Ne(r)}catch(o){t=o}}),n.__H=void 0,t&&L.__e(t,n.__v))};var Xt=typeof requestAnimationFrame=="function";function mr(e){var t,n=function(){clearTimeout(r),Xt&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);Xt&&(t=requestAnimationFrame(n))}function Ne(e){var t=I,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),I=t}function ot(e){var t=I;e.__c=e.__(),I=t}function at(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Zt(e,t){return typeof t=="function"?t(e):t}var pe=(e=>(e.MATCHED="MATCHED",e.LAUNCHED="LAUNCHED",e.EXCLUDED="EXCLUDED",e))(pe||{}),S=(e=>(e.TOP_LEFT="TOP_LEFT",e.TOP_CENTER="TOP_CENTER",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_CENTER="BOTTOM_CENTER",e.BOTTOM_RIGHT="BOTTOM_RIGHT",e.CENTER_LEFT="CENTER_LEFT",e.CENTER_CENTER="CENTER_CENTER",e.CENTER_RIGHT="CENTER_RIGHT",e))(S||{}),ae=(e=>(e.Feedback="FEEDBACK",e.Popup="POPUP",e.Exit="EXIT",e))(ae||{}),Ue=(e=>(e.Button="BUTTON",e.Logo="LOGO",e))(Ue||{});const zt={colors:{textColor:"",backgroundColor:"",iconColor:""},headerHeight:"",widgetName:"",widgetDescription:"",fontSize:20,position:null,fontFamily:"",feedbackBtnHeight:0,feedbackBtnWidth:0,widgetWindowHeight:0,widgetWindowWidth:0,imageKey:"",imageDetailsObject:null,descriptionDetailsObject:null,logoNameObject:{feedbackLogoKey:"",feedbackLogoName:"",isTransparent:!1,feedbackBtnType:Ue.Button},isAutoLaunchEnabled:!1,launchSurveyBtnObject:{name:""}},Jt=Ie(zt),yr=({children:e})=>{const[t,n]=U(zt),r=A(o=>{const a=o.widgetSettings;n({colors:{textColor:a.colors.textColor,backgroundColor:a.colors.backgroundColor,iconColor:a.colors.iconColor},fontSize:a.fontSize,headerHeight:`${a.headerHeight}px`,widgetName:a.widgetName,widgetDescription:a.widgetDescription,position:a.position,fontFamily:a.fontFamily,feedbackBtnHeight:a.feedbackBtnHeight,feedbackBtnWidth:a.feedbackBtnWidth,widgetWindowHeight:a==null?void 0:a.widgetWindowHeight,widgetWindowWidth:a==null?void 0:a.widgetWindowWidth,imageKey:a.imageKey||"",imageDetailsObject:a.imageDetailsObject||null,descriptionDetailsObject:a.descriptionDetailsObject||null,logoNameObject:a.logoNameObject,isAutoLaunchEnabled:a==null?void 0:a.isAutoLaunchEnabled,launchSurveyBtnObject:a==null?void 0:a.launchSurveyBtnObject})},[]);return h(Jt.Provider,{value:J(N({},t),{fetchWidgetSettings:r}),children:e})},en=()=>Re(Jt),he=(e,t,n)=>t===ae.Feedback||n?0:e,gr=(e,t,n,r)=>{if(!e)return null;if(t&&n!==ae.Feedback)return{bottom:0,right:r?0:12};switch(e){case S.BOTTOM_RIGHT:return{bottom:0,right:he(12,n,r)};case S.BOTTOM_CENTER:return{bottom:0,left:"50%",transform:"translateX(-50%)"};case S.BOTTOM_LEFT:return{bottom:0,left:he(12,n,r)};case S.CENTER_LEFT:return{top:"50%",left:he(12,n,r),transform:"translateY(-50%)"};case S.CENTER_CENTER:return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"};case S.CENTER_RIGHT:return{top:"50%",transform:"translateY(-50%)",right:he(12,n,r)};case S.TOP_LEFT:return{top:0,left:he(12,n,r)};case S.TOP_CENTER:return{top:0,left:"50%",transform:"translateX(-50%)"};case S.TOP_RIGHT:return{top:0,right:he(12,n,r)};default:return{bottom:0,right:he(12,n,r)}}},He=()=>{const[e,t]=U(!1);return x(()=>{const n=window.matchMedia("(max-width: 768px)");t(n.matches);const r=o=>t(o.matches);return n.addEventListener("change",r),()=>n.removeEventListener("change",r)},[]),e},Tr="https://intercept-api.questionpro.com",Er="https://d3aj4b240xfp71.cloudfront.net",tn=e=>e?`${Er}/${e}`:"";function br(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wr(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var nn={},xe={};function rn(e,t){for(var n in t)e[n]=t[n];return e}function it(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function st(e,t){var n=t(),r=U({t:{__:n,u:t}}),o=r[0].t,a=r[1];return Te(function(){o.__=n,o.u=t,ct(o)&&a({t:o})},[e,n,t]),x(function(){return ct(o)&&a({t:o}),e(function(){ct(o)&&a({t:o})})},[e]),n}function ct(e){var t,n,r=e.u,o=e.__;try{var a=r();return!((t=o)===(n=a)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch(i){return!0}}function ut(e){e()}function lt(e){return e}function _t(){return[!1,ut]}var ft=Te;function $e(e,t){this.props=e,this.context=t}function on(e,t){function n(o){var a=this.props.ref,i=a==o.ref;return!i&&a&&(a.call?a(null):a.current=null),t?!t(this.props,o)||!i:it(this.props,o)}function r(o){return this.shouldComponentUpdate=n,oe(e,o)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r.type=e,r}($e.prototype=new ee).isPureReactComponent=!0,$e.prototype.shouldComponentUpdate=function(e,t){return it(this.props,e)||it(this.state,t)};var an=v.__b;v.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),an&&an(e)};var Cr=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function sn(e){function t(n){var r=rn({},n);return delete r.ref,e(r,n.ref||null)}return t.$$typeof=Cr,t.render=e,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var cn=function(e,t){return e==null?null:se(se(e).map(t))},un={map:cn,forEach:cn,count:function(e){return e?se(e).length:0},only:function(e){var t=se(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:se},Sr=v.__e;v.__e=function(e,t,n,r){if(e.then){for(var o,a=t;a=a.__;)if((o=a.__c)&&o.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t)}Sr(e,t,n,r)};var ln=v.unmount;function _n(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=rn({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return _n(r,t,n)})),e}function fn(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return fn(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function ke(){this.__u=0,this.o=null,this.__b=null}function dn(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function pn(e){var t,n,r;function o(a){if(t||(t=e()).then(function(i){n=i.default||i},function(i){r=i}),r)throw r;if(!n)throw t;return oe(n,a)}return o.displayName="Lazy",o.__f=!0,o}function Ee(){this.i=null,this.l=null}v.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),ln&&ln(e)},(ke.prototype=new ee).__c=function(e,t){var n=t.__c,r=this;r.o==null&&(r.o=[]),r.o.push(n);var o=dn(r.__v),a=!1,i=function(){a||(a=!0,n.__R=null,o?o(l):l())};n.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var u=r.state.__a;r.__v.__k[0]=fn(u,u.__c.__P,u.__c.__O)}var s;for(r.setState({__a:r.__b=null});s=r.o.pop();)s.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(i,i)},ke.prototype.componentWillUnmount=function(){this.o=[]},ke.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=_n(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&oe(X,null,e.fallback);return o&&(o.__u&=-33),[oe(X,null,t.__a?null:e.children),o]};var hn=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function Ir(e){return this.getChildContext=function(){return e.context},e.children}function Rr(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){ye(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var r=t.__v;r!==null&&!r.__m&&r.__!==null;)r=r.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:r.__m},contains:function(){return!0},insertBefore:function(o,a){this.childNodes.push(o),t.h.insertBefore(o,a)},removeChild:function(o){this.childNodes.splice(this.childNodes.indexOf(o)>>>1,1),t.h.removeChild(o)}}}ye(oe(Ir,{context:t.context},e.__v),t.v)}function vn(e,t){var n=oe(Rr,{__v:e,h:t});return n.containerInfo=t,n}(Ee.prototype=new ee).__a=function(e){var t=this,n=dn(t.__v),r=t.l.get(e);return r[0]++,function(o){var a=function(){t.props.revealOrder?(r.push(o),hn(t,e,r)):o()};n?n(a):a()}},Ee.prototype.render=function(e){this.i=null,this.l=new Map;var t=se(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Ee.prototype.componentDidUpdate=Ee.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){hn(e,n,t)})};var mn=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,xr=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,kr=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Lr=/[A-Z0-9]/g,Ar=typeof document!="undefined",Dr=function(e){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function yn(e,t,n){return t.__k==null&&(t.textContent=""),ye(e,t),typeof n=="function"&&n(),e?e.__c:null}function gn(e,t,n){return Bt(e,t),typeof n=="function"&&n(),e?e.__c:null}ee.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(ee.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var Tn=v.event;function Or(){}function Pr(){return this.cancelBubble}function Fr(){return this.defaultPrevented}v.event=function(e){return Tn&&(e=Tn(e)),e.persist=Or,e.isPropagationStopped=Pr,e.isDefaultPrevented=Fr,e.nativeEvent=e};var dt,Nr={enumerable:!1,configurable:!0,get:function(){return this.class}},En=v.vnode;v.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,r=t.type,o={},a=r.indexOf("-")===-1;for(var i in n){var l=n[i];if(!(i==="value"&&"defaultValue"in n&&l==null||Ar&&i==="children"&&r==="noscript"||i==="class"||i==="className")){var u=i.toLowerCase();i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&l===!0?l="":u==="translate"&&l==="no"?l=!1:u[0]==="o"&&u[1]==="n"?u==="ondoubleclick"?i="ondblclick":u!=="onchange"||r!=="input"&&r!=="textarea"||Dr(n.type)?u==="onfocus"?i="onfocusin":u==="onblur"?i="onfocusout":kr.test(i)&&(i=u):u=i="oninput":a&&xr.test(i)?i=i.replace(Lr,"-$&").toLowerCase():l===null&&(l=void 0),u==="oninput"&&o[i=u]&&(i="oninputCapture"),o[i]=l}}r=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=se(n.children).forEach(function(s){s.props.selected=o.value.indexOf(s.props.value)!=-1})),r=="select"&&o.defaultValue!=null&&(o.value=se(n.children).forEach(function(s){s.props.selected=o.multiple?o.defaultValue.indexOf(s.props.value)!=-1:o.defaultValue==s.props.value})),n.class&&!n.className?(o.class=n.class,Object.defineProperty(o,"className",Nr)):(n.className&&!n.class||n.class&&n.className)&&(o.class=o.className=n.className),t.props=o}(e),e.$$typeof=mn,En&&En(e)};var bn=v.__r;v.__r=function(e){bn&&bn(e),dt=e.__c};var wn=v.diffed;v.diffed=function(e){wn&&wn(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),dt=null};var Cn={ReactCurrentDispatcher:{current:{readContext:function(e){return dt.__n[e.__c].props.value},useCallback:A,useContext:Re,useDebugValue:nt,useDeferredValue:lt,useEffect:x,useId:rt,useImperativeHandle:tt,useInsertionEffect:ft,useLayoutEffect:Te,useMemo:D,useReducer:Fe,useRef:K,useState:U,useSyncExternalStore:st,useTransition:_t}}},Ur="18.3.1";function Sn(e){return oe.bind(null,e)}function Le(e){return!!e&&e.$$typeof===mn}function In(e){return Le(e)&&e.type===X}function Rn(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function xn(e){return Le(e)?dr.apply(null,arguments):e}function kn(e){return!!e.__k&&(ye(null,e),!0)}function Ln(e){return e&&(e.base||e.nodeType===1&&e)||null}var An=function(e,t){return e(t)},Dn=function(e,t){return e(t)},On=X,Pn=Le,Hr={useState:U,useId:rt,useReducer:Fe,useEffect:x,useLayoutEffect:Te,useInsertionEffect:ft,useTransition:_t,useDeferredValue:lt,useSyncExternalStore:st,startTransition:ut,useRef:K,useImperativeHandle:tt,useMemo:D,useCallback:A,useContext:Re,useDebugValue:nt,version:"18.3.1",Children:un,render:yn,hydrate:gn,unmountComponentAtNode:kn,createPortal:vn,createElement:oe,createContext:Ie,createFactory:Sn,cloneElement:xn,createRef:Dt,Fragment:X,isValidElement:Le,isElement:Pn,isFragment:In,isMemo:Rn,findDOMNode:Ln,Component:ee,PureComponent:$e,memo:on,forwardRef:sn,flushSync:Dn,unstable_batchedUpdates:An,StrictMode:On,Suspense:ke,SuspenseList:Ee,lazy:pn,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Cn};const Me=wr(Object.freeze(Object.defineProperty({__proto__:null,Children:un,Component:ee,Fragment:X,PureComponent:$e,StrictMode:On,Suspense:ke,SuspenseList:Ee,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Cn,cloneElement:xn,createContext:Ie,createElement:oe,createFactory:Sn,createPortal:vn,createRef:Dt,default:Hr,findDOMNode:Ln,flushSync:Dn,forwardRef:sn,hydrate:gn,isElement:Pn,isFragment:In,isMemo:Rn,isValidElement:Le,lazy:pn,memo:on,render:yn,startTransition:ut,unmountComponentAtNode:kn,unstable_batchedUpdates:An,useCallback:A,useContext:Re,useDebugValue:nt,useDeferredValue:lt,useEffect:x,useErrorBoundary:hr,useId:rt,useImperativeHandle:tt,useInsertionEffect:ft,useLayoutEffect:Te,useMemo:D,useReducer:Fe,useRef:K,useState:U,useSyncExternalStore:st,useTransition:_t,version:Ur},Symbol.toStringTag,{value:"Module"})));var Fn={exports:{}},$r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Mr=$r,Br=Mr;function Nn(){}function Un(){}Un.resetWarningCache=Nn;var jr=function(){function e(r,o,a,i,l,u){if(u!==Br){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Un,resetWarningCache:Nn};return n.PropTypes=n,n};Fn.exports=jr();var Hn=Fn.exports,te={};Object.defineProperty(te,"__esModule",{value:!0}),te.FrameContextConsumer=te.FrameContextProvider=te.useFrame=te.FrameContext=void 0;var Wr=Me,$n=Vr(Wr);function Vr(e){return e&&e.__esModule?e:{default:e}}var Mn=void 0,Bn=void 0;typeof document!="undefined"&&(Mn=document),typeof window!="undefined"&&(Bn=window);var pt=te.FrameContext=$n.default.createContext({document:Mn,window:Bn});te.useFrame=function(){return $n.default.useContext(pt)};var Gr=pt.Provider,Qr=pt.Consumer;te.FrameContextProvider=Gr,te.FrameContextConsumer=Qr;var ht={};Object.defineProperty(ht,"__esModule",{value:!0});var qr=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),jn=Me,Yr=Hn,vt=Kr(Yr);function Kr(e){return e&&e.__esModule?e:{default:e}}function Xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function zr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Wn=function(e){zr(t,e);function t(){return Xr(this,t),Zr(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return qr(t,[{key:"componentDidMount",value:function(){this.props.contentDidMount()}},{key:"componentDidUpdate",value:function(){this.props.contentDidUpdate()}},{key:"render",value:function(){return jn.Children.only(this.props.children)}}]),t}(jn.Component);Wn.propTypes={children:vt.default.element.isRequired,contentDidMount:vt.default.func.isRequired,contentDidUpdate:vt.default.func.isRequired},ht.default=Wn,Object.defineProperty(xe,"__esModule",{value:!0}),xe.Frame=void 0;var mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jr=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Vn=Me,ve=Be(Vn),eo=Me,Gn=Be(eo),to=Hn,ie=Be(to),no=te,ro=ht,oo=Be(ro);function Be(e){return e&&e.__esModule?e:{default:e}}function ao(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function io(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function so(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var yt=xe.Frame=function(e){so(t,e);function t(n,r){ao(this,t);var o=io(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r));return o.setRef=function(a){o.nodeRef.current=a;var i=o.props.forwardedRef;typeof i=="function"?i(a):i&&(i.current=a)},o.handleLoad=function(){clearInterval(o.loadCheck),o.state.iframeLoaded||o.setState({iframeLoaded:!0})},o.loadCheck=function(){return setInterval(function(){o.handleLoad()},500)},o._isMounted=!1,o.nodeRef=ve.default.createRef(),o.state={iframeLoaded:!1},o}return Jr(t,[{key:"componentDidMount",value:function(){this._isMounted=!0;var r=this.getDoc();r&&this.nodeRef.current.contentWindow.addEventListener("DOMContentLoaded",this.handleLoad)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.nodeRef.current.removeEventListener("DOMContentLoaded",this.handleLoad)}},{key:"getDoc",value:function(){return this.nodeRef.current?this.nodeRef.current.contentDocument:null}},{key:"getMountTarget",value:function(){var r=this.getDoc();return this.props.mountTarget?r.querySelector(this.props.mountTarget):r.body.children[0]}},{key:"renderFrameContents",value:function(){if(!this._isMounted)return null;var r=this.getDoc();if(!r)return null;var o=this.props.contentDidMount,a=this.props.contentDidUpdate,i=r.defaultView||r.parentView,l=ve.default.createElement(oo.default,{contentDidMount:o,contentDidUpdate:a},ve.default.createElement(no.FrameContextProvider,{value:{document:r,window:i}},ve.default.createElement("div",{className:"frame-content"},this.props.children))),u=this.getMountTarget();return[Gn.default.createPortal(this.props.head,this.getDoc().head),Gn.default.createPortal(l,u)]}},{key:"render",value:function(){var r=mt({},this.props,{srcDoc:this.props.initialContent,children:void 0});return delete r.head,delete r.initialContent,delete r.mountTarget,delete r.contentDidMount,delete r.contentDidUpdate,delete r.forwardedRef,ve.default.createElement("iframe",mt({},r,{ref:this.setRef,onLoad:this.handleLoad}),this.state.iframeLoaded&&this.renderFrameContents())}}]),t}(Vn.Component);yt.propTypes={style:ie.default.object,head:ie.default.node,initialContent:ie.default.string,mountTarget:ie.default.string,contentDidMount:ie.default.func,contentDidUpdate:ie.default.func,children:ie.default.oneOfType([ie.default.element,ie.default.arrayOf(ie.default.element)])},yt.defaultProps={style:{},head:null,children:void 0,mountTarget:void 0,contentDidMount:function(){},contentDidUpdate:function(){},initialContent:'<!DOCTYPE html><html><head></head><body><div class="frame-root"></div></body></html>'},xe.default=ve.default.forwardRef(function(e,t){return ve.default.createElement(yt,mt({},e,{forwardedRef:t}))}),function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=xe;Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r(t).default}});var n=te;Object.defineProperty(e,"FrameContext",{enumerable:!0,get:function(){return n.FrameContext}}),Object.defineProperty(e,"FrameContextConsumer",{enumerable:!0,get:function(){return n.FrameContextConsumer}}),Object.defineProperty(e,"useFrame",{enumerable:!0,get:function(){return n.useFrame}});function r(o){return o&&o.__esModule?o:{default:o}}}(nn);const gt=br(nn),Qn="tabId",qn="allTabIds",Tt=55,Yn=3e3,co="Maximize",uo="Minimize";var ue=(e=>(e.EQUAL="EQUAL",e.NOT_EQUAL="NOT_EQUAL",e.CONTAINS="CONTAINS",e.NOT_CONTAINS="NOT_CONTAINS",e.STARTS_WITH="STARTS_WITH",e.ENDS_WITH="ENDS_WITH",e.GREATER_THAN="GREATER_THAN",e.LESS_THAN="LESS_THAN",e.BETWEEN="BETWEEN",e.EXISTS="EXISTS",e))(ue||{});const lo={REQUEST_TIMEOUT:"Request timeout"},_o=({iconColor:e="#ffffff",height:t="24px",width:n="24px"})=>h("svg",{xmlns:"http://www.w3.org/2000/svg",height:t,viewBox:"0 -960 960 960",width:n,fill:e,children:h("path",{d:"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"})}),fo=({iconColor:e="#ffffff",height:t="24px",width:n="24px"})=>h("svg",{xmlns:"http://www.w3.org/2000/svg",height:t,viewBox:"0 0 24 24",width:n,fill:e,children:[h("path",{d:"M0 0h24v24H0V0z",fill:"none"}),h("path",{d:"M6 19h12v2H6v-2z"})]}),po=({iconColor:e="#ffffff",height:t="24px",width:n="24px"})=>h("svg",{xmlns:"http://www.w3.org/2000/svg",height:t,viewBox:"0 -960 960 960",width:n,fill:e,children:h("path",{d:"M160-760v-80h640v80H160Z"})}),Kn=({onDone:e,onMinimize:t,isMinimized:n})=>{const{colors:{textColor:r,backgroundColor:o,iconColor:a},headerHeight:i,widgetName:l,fontFamily:u}=en();return h("div",{className:"header","data-testid":"header",style:{height:i,alignItems:parseInt(i,10)<Tt?"center":"flex-start",backgroundColor:o},children:[h("div",{className:"buttonContainer",children:[h("button",{className:"button","data-testid":"minimize-button",style:{backgroundColor:o,alignItems:parseInt(i,10)<Tt?"center":"flex-start"},onClick:t,title:n?co:uo,children:n?h(po,{iconColor:a}):h(fo,{iconColor:a})}),h("button",{style:{backgroundColor:o,alignItems:parseInt(i,10)<Tt?"center":"flex-start"},className:"button done","data-testid":"done-button",onClick:e,title:"Close",children:h(_o,{iconColor:a})})]}),h("span",{className:"widgetName",style:{color:r,fontFamily:`'${u}', sans-serif`,marginLeft:"10px"},children:l})]})},ho=({head:e,isMinimized:t,surveyPosition:n,onDone:r,onMinimize:o,children:a,widgetWindowHeight:i,widgetWindowWidth:l,showSurvey:u,setShowSurvey:s,handleSurveyCompletion:_})=>{const c=He(),p=K(null);x(()=>{var R,O;if(!u)return;const g=(O=(R=p.current)==null?void 0:R.contentWindow)==null?void 0:O.frameElement,m=g==null?void 0:g.contentWindow;if(!m)return;const y=B=>{B.data==="Responded"&&_()};return m.addEventListener("message",y),()=>{m.removeEventListener("message",y)}},[_,u]);const f=D(()=>J(N({position:"fixed"},n),{backgroundColor:"#ffffff",borderRadius:c||t?0:12,zIndex:1e5,overflow:c?"auto":"hidden",width:t?"335px":c?"100%":l,height:t?"35px":c?"100%":i,boxShadow:t?"0 4px 10px rgba(0, 0, 0, 0.4)":"#00000050 0px 7px 29px 5000px",border:"none"}),[c,n,t,l,i]),E=A(g=>{if(u)return;const m=g.clientY<=0,y=g.relatedTarget===null;m&&y&&s(!0)},[s,u]),b=A(()=>{u||document.hidden&&s(!0)},[s,u]);return x(()=>{if(!(c||u))return document.addEventListener("mouseout",E),document.addEventListener("visibilitychange",b),()=>{document.removeEventListener("mouseout",E),document.removeEventListener("visibilitychange",b)}},[E,b,c,u]),h(X,{children:u?h(gt,{"data-testid":"iframe",head:e,style:f,ref:p,children:h("div",{className:t?"":"surveyFrame",style:{height:t?"35px":c?"100%":"100vh"},children:[h(Kn,{onDone:r,onMinimize:o,isMinimized:t}),a]})}):null})},vo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAABCFBMVEUAAADFQTjFQTjFQTjFQTjFQTjFQTjFQTjFQTjFQTjFQTjFQTjFQTjFQTjFQTjFQTjFQTjFQTjFQTjFQTju7u7m1NLm09Lo0M/mz87mz83lz87nzcvnzMvny8nkysjmyMblyMfjycflyMbjyMbmxsTkxsTkxcPnwr/nwb7mwL7mwL3mvrvmvLnde3TdeXLWY1vWYlrWYVnWYVjPX1fVXFTPXlXVWlHPXFPIXFTIW1TOWFDIWFHNVEvhSj/gSj/fST7eST7dST7GUkrGUkncSD7bSD3ZRz3XRzzWRzzWRjzURjzTRjzTRTvRRTvQRTrQRDvQRDrPRDrORDrJQjjIQjnIQjjHQjjGQTjuK3fqAAAAFHRSTlMADBIYGzM2UVp+gYSKjZCWmZyfokeCul8AAAFJSURBVHjafZLZcoIwFIaj1n0B9LS2ttrVahe1drNVk0AFAiKggvr+b9IMwlSnM/4X5yLf5D8rihRLZ0Uxm46hfSWlzXJmmrPlRkqiHRV9g+BAxPCLKFJCcIPnELlCIgSCRQiVKeWRyjxaQujjEqqomqZy8ahQ4gZuKZ8QRdNZKF1TCPFTHJQNTFW989h35nPn5aGjqxQbZYTia4xljT3Bxcdq9XYOz0yTMVnHUWaBMdXY+yWcfX+dwt0n4z/wIoMKUw5UZo+bcHIM92M7ANMCqjCMCQfezzXA7cTjgGDMKkgyAuB4oxpAbeQ5ATAklLO2VoMraDTgZrC1snJR8l4VmpNJE6o9pgXJo3LbUB963rAO7bDcqMFu69V2HLvf6oYNHhgJKrlE3h2iTNzS4bGjo/+LOrza6Bgs07SWm3IK7SuWzoti/u98fgGMv2Ka6B/JVwAAAABJRU5ErkJggg==";var je=(e=>(e.HTML_ELEMENT="HTML_ELEMENT",e.DATA_LAYER="DATA_LAYER",e.URL_PARAM="URL_PARAM",e))(je||{}),be=(e=>(e.PROCEED="PROCEED",e.SKIP="SKIP",e.EXCLUDE="EXCLUDE",e))(be||{}),Xn=(e=>(e.ltr="ltr",e.rtl="rtl",e))(Xn||{});const mo=({feedbackBtnHeight:e,feedbackBtnWidth:t,color:n,backgroundColor:r,head:o,isMinimized:a,children:i,onMinimize:l,logoNameObject:u,surveyPosition:s,position:_,widgetWindowHeight:c,widgetWindowWidth:p,onDone:f,handleSurveyCompletion:E})=>{const b=K(null),g=He();x(()=>{var w,C;const H=(C=(w=b.current)==null?void 0:w.contentWindow)==null?void 0:C.frameElement,d=H==null?void 0:H.contentWindow;if(!d)return;const T=$=>{$.data==="Responded"&&E()};return d.addEventListener("message",T),()=>{d.removeEventListener("message",T)}},[E]);const m=D(()=>u.feedbackBtnType===Ue.Logo,[u.feedbackBtnType]),y=D(()=>m?45:t,[t,m]),R=D(()=>{switch(_){case S.CENTER_LEFT:case S.CENTER_RIGHT:return!0;default:return!1}},[_]),O=D(()=>{var H;return typeof document=="undefined"?!1:((H=document==null?void 0:document.documentElement)==null?void 0:H.dir)===Xn.rtl},[]),B=D(()=>{switch(_){case S.TOP_CENTER:return{flexDirection:"column-reverse",transform:a?`translate(-50%,calc(-100% + ${y}px))`:"translate(-50%,0%)"};case S.TOP_LEFT:return{flexDirection:"column-reverse",transform:a?`translate(0,calc(-100% + ${y}px))`:"translate(0,0)"};case S.TOP_RIGHT:return{flexDirection:"column-reverse",transform:a?`translate(0,calc(-100% + ${y}px))`:"translate(0,0)"};case S.BOTTOM_LEFT:return{flexDirection:"column",transform:a?`translate(0%,calc(100% - ${y}px))`:"translate(0%,0%)"};case S.BOTTOM_CENTER:return{flexDirection:"column",transform:a?`translate(-50%,calc(100% - ${y}px))`:"translate(-50%,0%)"};case S.BOTTOM_RIGHT:return{flexDirection:"column",transform:a?`translate(0%,calc(100% - ${y}px))`:"translate(0%,0%)"};case S.CENTER_LEFT:return{transform:a?`translate(calc(-100% + ${y}px),-50%)`:"translateY(-50%)",flexDirection:O?"row":"row-reverse"};case S.CENTER_RIGHT:default:return{transform:a?`translate(calc(100% - ${y}px), -50%)`:"translateY(-50%)",flexDirection:O?"row-reverse":"row"}}},[y,O,a,_]),G=D(()=>{switch(_){case S.CENTER_LEFT:case S.CENTER_RIGHT:return g?"95%":p+y;default:return g?a?"auto":"95%":p}},[g,_,y,a,p]),V=D(()=>{switch(_){case S.BOTTOM_CENTER:case S.BOTTOM_LEFT:case S.TOP_CENTER:case S.TOP_LEFT:return"flex-end";default:return"flex-start"}},[_]),Z=D(()=>J(N(J(N({position:"fixed"},s),{zIndex:1e8}),B),{transition:"transform 0.3s",display:"flex",alignItems:a?"center":V,width:G,height:g&&(R&&a?"auto":"95%"),boxShadow:a?"none":"#00000050 0px 7px 29px 5000px",backgroundColor:a?"transparent":"#00000050"}),[B,s,G,a,V,R,g]),Q=D(()=>{switch(_){case S.CENTER_LEFT:case S.CENTER_RIGHT:return{height:e,width:t};default:return{height:t,width:e}}},[e,t,_]),z=D(()=>N(J(N(N({},Q),(u==null?void 0:u.feedbackBtnType)===Ue.Logo?{width:45,height:50,borderRadius:"50%"}:{}),{backgroundColor:r,color:n,fontSize:14,cursor:"pointer",position:"relative",fontFamily:"FiraSans-Regular, sans-serif"}),u.isTransparent?{backgroundColor:"transparent"}:{}),[r,n,Q,u==null?void 0:u.feedbackBtnType,u.isTransparent]),P=D(()=>{const H={background:"transparent",border:"none",cursor:"pointer",position:"absolute",zIndex:"1000",padding:0};switch(_){case S.CENTER_RIGHT:case S.BOTTOM_RIGHT:return J(N({},H),{top:"-12px",left:"-12px"});case S.TOP_CENTER:case S.TOP_LEFT:return J(N({},H),{bottom:"-12px",right:"-12px"});case S.TOP_RIGHT:return J(N({},H),{bottom:"-12px",left:"-12px"});default:return J(N({},H),{top:"-12px",right:"-12px"})}},[_]),M=A(()=>h("button",{style:P,className:"button done","data-testid":"done-button",onClick:l,children:h("img",{src:vo})}),[P,l]);return h("div",{style:Z,onClick:H=>{a||H.target.id!=="intercept-feedback-container"||l()},id:"intercept-feedback-container",children:[h("div",{style:{display:"inline-block",position:"relative"},children:[!a&&M(),h("div",{style:z,onClick:l,"data-testid":"feedback-frame-btn",children:h("div",{style:N({width:"30px",display:"flex",flexDirection:R?"column-reverse":"row",justifyContent:"center",height:"100%",gap:10,margin:"auto"},R?{}:{alignItems:"center"}),children:[(u==null?void 0:u.feedbackLogoKey)&&h("img",{src:tn(u.feedbackLogoKey),alt:"logo",style:{width:"100%"}}),!m&&h("div",{style:{transform:R?"rotate(-90deg)":"rotate(0deg)"},children:h("span",{style:{whiteSpace:"nowrap",display:"flex",justifyContent:"center",alignItems:"center"},children:u==null?void 0:u.feedbackLogoName})})]})})]}),h(gt,{head:o,"data-testid":"feedback-iframe",height:g?"100%":c,width:g?"100%":p,style:{backgroundColor:"#ffffff",zIndex:1e5,border:"none"},ref:b,children:h("div",{className:a?"":"surveyFrame",style:{height:g?"100%":"100vh"},children:i})})]})},yo=({head:e,isMinimized:t,surveyPosition:n,onDone:r,onMinimize:o,widgetWindowHeight:a,widgetWindowWidth:i,children:l,handleSurveyCompletion:u})=>{const s=He(),_=K(null);x(()=>{var b,g;const p=(g=(b=_.current)==null?void 0:b.contentWindow)==null?void 0:g.frameElement,f=p==null?void 0:p.contentWindow;if(!f)return;const E=m=>{m.data==="Responded"&&u()};return f.addEventListener("message",E),()=>{f.removeEventListener("message",E)}},[u]);const c=J(N({position:"fixed"},n),{backgroundColor:"#ffffff",borderRadius:s||t?0:12,zIndex:1e5,overflow:"auto",width:t?"335px":s?"100%":i,height:t?"35px":s?"100%":a,boxShadow:t?"0 4px 10px rgba(0, 0, 0, 0.4)":"#00000050 0px 7px 29px 5000px",border:"none"});return h(gt,{"data-testid":"popup-frame",head:e,style:c,ref:_,children:h("div",{className:t?"":"surveyFrame",style:{height:t?"35px":s?"100%":"100vh"},children:[h(Kn,{onDone:r,onMinimize:o,isMinimized:t}),l]})})};/*! js-cookie v3.0.5 | MIT */function We(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var go={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Et(e,t){function n(o,a,i){if(typeof document!="undefined"){i=We({},t,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var u in i)i[u]&&(l+="; "+u,i[u]!==!0&&(l+="="+i[u].split(";")[0]));return document.cookie=o+"="+e.write(a,o)+l}}function r(o){if(!(typeof document=="undefined"||arguments.length&&!o)){for(var a=document.cookie?document.cookie.split("; "):[],i={},l=0;l<a.length;l++){var u=a[l].split("="),s=u.slice(1).join("=");try{var _=decodeURIComponent(u[0]);if(i[_]=e.read(s,_),o===_)break}catch(c){}}return o?i[o]:i}}return Object.create({set:n,get:r,remove:function(o,a){n(o,"",We({},a,{expires:-1}))},withAttributes:function(o){return Et(this.converter,We({},this.attributes,o))},withConverter:function(o){return Et(We({},this.converter,o),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var ne=Et(go,{path:"/"});class To{constructor(t={}){this.baseURL=t.baseURL||"",this.defaultHeaders=t.headers||{},this.timeout=t.timeout||1e4}async request(t,n,r,o={}){const a=n.startsWith("http")?n:`${this.baseURL}${n}`,i=N(N({"Content-Type":"application/json"},this.defaultHeaders),o.headers),l=new AbortController,u=setTimeout(()=>l.abort(),this.timeout);try{const s=await fetch(a,{method:t,headers:i,body:r?JSON.stringify(r):void 0,signal:l.signal});if(clearTimeout(u),!s.ok){const c=new Error(`HTTP ${s.status}: ${s.statusText}`);throw c.response={status:s.status,statusText:s.statusText,headers:s.headers},c}return{data:await s.json(),status:s.status,statusText:s.statusText,headers:s.headers}}catch(s){throw clearTimeout(u),s instanceof Error&&s.name==="AbortError"?new Error(lo.REQUEST_TIMEOUT):s}}async get(t,n){return this.request("GET",t,void 0,n)}async post(t,n,r){return this.request("POST",t,n,r)}async put(t,n,r){return this.request("PUT",t,n,r)}async delete(t,n){return this.request("DELETE",t,void 0,n)}}const Ae=(e=>new To(e))({baseURL:Tr}),Eo=e=>{const t={};return e&&(t["visitor-id"]=e),Ae.get("/api/v1/visitor",{headers:N({"x-app-key":window.Intercept.apiKey},t)})},bo=(e,t,n,r,o)=>Ae.post(`/api/v1/data-mapping/intercept/${e}/survey/${t}`,{data:n,visitedUserId:o,websiteDetails:r},{headers:{"x-app-key":window.Intercept.apiKey,"x-screen-resolution":`${window.screen.width}x${window.screen.height}`,"x-browser-language":navigator.language}}).then(a=>a).catch(a=>{throw a}),wo=e=>{const t={"x-app-key":window.Intercept.apiKey},n=ne.get("visitorId");return n&&(t["visitor-id"]=n),Ae.post("/api/v1/visitor/survey-feedback",e,{headers:t})},Co=e=>{const t={"x-app-key":window.Intercept.apiKey},n=ne.get("visitorId");return n&&(t["visitor-id"]=n),Ae.post("/api/v1/visitor/excluded-feedback",e,{headers:t})},So=(e,t)=>{const n=ne.get("visitorId"),r={"x-app-key":window.Intercept.apiKey};return n&&(r["visitor-id"]=n),Ae.post("/api/v1/visitor/survey/clicked-x",{surveyId:e,ruleGroupId:t,visitorId:n},{headers:r})};var Ve=(e=>(e.SERVER="server",e.CLIENT="client",e))(Ve||{}),bt=(e=>(e.AND="AND",e.OR="OR",e))(bt||{}),wt=(e=>(e.COUNTRY="COUNTRY",e.WEBSITE_LANGUAGE="WEBSITE_LANGUAGE",e.BROWSER_TYPE="BROWSER_TYPE",e.BROWSER_ENGINE="BROWSER_ENGINE",e.USER_TYPE="USER_TYPE",e.DEVICE_TYPE="DEVICE_TYPE",e.OS="OS",e.PAGE_VISITS="PAGE_VISITS",e.PAGE_TITLE="PAGE_TITLE",e.PAGE_URL="PAGE_URL",e.VISITS_COUNT="VISITS_COUNT",e.PAGE_VISITED="PAGE_VISITED",e.BUTTON="BUTTON",e.SESSION_DURATION="SESSION_DURATION",e.JAVASCRIPT_EXCEPTION="JAVASCRIPT_EXCEPTION",e.QUERY_PARAM="QUERY_PARAM",e.DATA_LAYER="DATA_LAYER",e.IP="IP",e))(wt||{});const Zn=e=>{if(!e)return window;const t=e.split(".");let n=window;for(const r of t){if(!n||typeof n!="object"||!(r in n))return;n=typeof n[r]=="function"?n[r]():n[r]}return n},zn="intercept_visited_count",Jn="intercept_last_page",Io=()=>{const e=localStorage.getItem(zn);return e?parseInt(e,10):0},Ro=()=>localStorage.getItem(Jn)||"",xo=e=>{const t=Ro();let n=Io();return e!==t&&(n+=1,localStorage.setItem(zn,n.toString()),localStorage.setItem(Jn,e)),n};function Ct(e,t){(!ne.get("startTime")||e)&&ne.set("startTime",e||Date.now().toString(),{expires:t||365})}function er(){return ne.get("startTime")||Ct(),ne.get("startTime")}function ko(){const e=er(),t=(Date.now()-Number(e))/1e3;return parseFloat(t.toFixed(0))}function tr(e){const[t,n]=e.split("."),r=parseInt(t,10)||0,o=parseInt(n,10)||0;return r*60+o}function Lo(e){var t;try{if(!e)return{element:null,text:"",exists:!1};let n=document.querySelector(e);return n||(n=nr(document,e)),{element:n,text:((t=n==null?void 0:n.textContent)==null?void 0:t.trim())||"",exists:!!n}}catch(n){return console.error("Error finding element:",n),{element:null,text:"",exists:!1}}}function nr(e,t){try{const n=e.querySelector(t);if(n)return n;const r=e.querySelectorAll("*");for(let o=0;o<r.length;o++){const a=r[o];if(a.shadowRoot){const i=nr(a.shadowRoot,t);if(i)return i}}}catch(n){}return null}function le(e,t,n){switch(e){case ue.EQUAL:return t===n;case ue.NOT_EQUAL:return t!==n;case ue.CONTAINS:return t==null?void 0:t.includes(n);case ue.NOT_CONTAINS:return!(t!=null&&t.includes(n));case ue.GREATER_THAN:return parseFloat(t)>parseFloat(n);case ue.LESS_THAN:return parseFloat(t)<parseFloat(n);default:return!1}}const Ao={BUTTON:(e,t)=>{if(!t)return!1;if(le(e==null?void 0:e.operand,t.id,e==null?void 0:e.value))return!0;const n=t.closest("button"),r=t.closest("a"),o=n||r;return o?le(e==null?void 0:e.operand,o.id,e==null?void 0:e.value):!1},PAGE_URL:e=>{const t=window.location.href;return le(e==null?void 0:e.operand,t,e==null?void 0:e.value)},SESSION_DURATION:e=>{const t=ko().toString(),n=tr(e==null?void 0:e.value);return le(e.operand,t,n.toString())},QUERY_PARAM:e=>{const t=new URLSearchParams(window.location.search),n=e!=null&&e.key?t.get(e==null?void 0:e.key):"";return n?le(e==null?void 0:e.operand,n,e==null?void 0:e.value):!1},DATA_LAYER:e=>{const t=(e==null?void 0:e.key)&&Zn(e==null?void 0:e.key);return t==null?!1:le(e.operand,t.toString(),e.value)},PAGE_VISITED:e=>{const t=window.location.pathname,n=xo(t);return le(e.operand,n.toString(),e.value)},HTML_SELECTOR:e=>{const t=e==null?void 0:e.key;if(!t)return!1;try{const{element:n,text:r}=Lo(t);return(e==null?void 0:e.operand)===ue.EXISTS?!!n:!n||!(e!=null&&e.value)||e.value.trim()===""?!1:le(e.operand,r,e.value)}catch(n){return console.error("Error evaluating HTML_SELECTOR:",n),!1}}};function Do(e,t){if(!e.name)return!1;const n=Ao[e.name];return typeof n!="function"?!1:n(e,t)}function Oo(e,t){return e.type.toLowerCase()===Ve.SERVER?!!e.isMatching:Do(e,t)}function Po(e,t){var r;if(((r=e==null?void 0:e.rules)==null?void 0:r.length)==0)return!0;const n=e.rules.map(o=>Oo(o,t));return e.condition===bt.AND?n.every(Boolean):e.condition===bt.OR?n.some(Boolean):!1}const Fo=({visitorData:e,resetInterceptShown:t,setIsPageChanged:n,handleInterceptChecks:r,onPathChange:o,lastPathRef:a,interceptShownRef:i,setSurveyUrl:l,setMatchedIntercept:u,resetPageState:s})=>{const _=K(e);x(()=>{_.current=e},[e]);const c=A(async()=>{const p=window.location.pathname,f=_.current;p!==a.current&&f&&(a.current=p,s?s():(i.current=!1,l(""),u(null)),n&&n(!0),r&&setTimeout(()=>{r(f)},100),t&&t(),o&&o(p))},[t,o,n,a,i,l,u,r,s]);return x(()=>{if(!e)return;const p=window.history.pushState,f=window.history.replaceState;window.history.pushState=function(...b){p.apply(this,b),c()},window.history.replaceState=function(...b){f.apply(this,b),c()};const E=()=>{c()};return window.addEventListener("popstate",E),()=>{window.history.pushState=p,window.history.replaceState=f,window.removeEventListener("popstate",E)}},[e,c]),{currentPath:a.current}},rr=Ie({}),No=({children:e})=>{const[t,n]=U(""),[r,o]=U(null),[a,i]=U(null),l=K(!1),[u,s]=U(null),_=K(window.location.pathname),[c,p]=U(!1),[f,E]=U([]),b=K(new Set),g=K(new Set),m=K([]),y=A(d=>d.map(({type:w,value:C,variable:$})=>{if(w===je.HTML_ELEMENT){const k=document.getElementById(C);return k?{value:k.innerHTML,variableName:$}:null}if(w===je.DATA_LAYER){const k=Zn(C);return k?{value:k,variableName:$}:null}if(w===je.URL_PARAM){const k=new URLSearchParams(window.location.search).get(C);return k?{value:k,variableName:$}:null}return null}).filter(Boolean),[]),R=A(async()=>{if(m.current.length!==0)try{await Co(m.current),m.current=[]}catch(d){console.error("Failed to send batch excluded feedback:",d)}},[]),O=d=>{var T;return(T=d==null?void 0:d.rules)==null?void 0:T.some(w=>(w==null?void 0:w.type)===Ve.CLIENT&&(w==null?void 0:w.name)===wt.SESSION_DURATION)},B=(d,T)=>{o({surveyId:d.surveyId,surveyUrl:T.surveyURL,type:d.type,interceptId:d.id,ruleGroupId:d.ruleGroupId}),n(T.surveyURL)},G=A(d=>{var k,q,F;const T=(k=d.settings)==null?void 0:k.samplingRate;if(!T||T>=100)return!0;if(T<=0)return!1;const w=((q=d.meta)==null?void 0:q.matchedCount)||0,C=((F=d.meta)==null?void 0:F.excludedCount)||0;return w*100/(w+C+1)<T},[]),V=A(async(d,T)=>{var k,q;const{project:w}=d,C=window.location.pathname;if(l.current&&!c)return;m.current=[];const $=w.intercepts.filter(F=>!f.includes(F.surveyId));for(const F of $){const ar=`${F.id}-${C}`;if(!Po(F,T))continue;const j=(k=F.meta)==null?void 0:k.visitorStatus;if(Z(F,j,m.current)!==be.SKIP){if(b.current.add(ar),(q=F==null?void 0:F.settings)!=null&&q.triggerDelayInSeconds){const Ge=setTimeout(()=>{g.current.delete(Ge),!l.current&&Q(F)},F.settings.triggerDelayInSeconds*1e3);g.current.add(Ge)}else Q(F);return}}await R()},[G,R,c,f]),Z=(d,T,w)=>{var q;const C=(q=d.settings)==null?void 0:q.samplingRate;return C&&C<100?T===pe.EXCLUDED?be.SKIP:T===pe.MATCHED||T===pe.LAUNCHED||G(d)?be.PROCEED:(w.push({surveyId:d.surveyId,ruleGroupId:d.ruleGroupId,surveyType:pe.EXCLUDED,interceptId:d.id}),be.SKIP):be.PROCEED},Q=async d=>{var $;l.current=!0,i(d),p(!1);const T=y(d.dataMappings),w={websiteUrl:window.location.href,websiteLanguage:($=d==null?void 0:d.settings)!=null&&$.autoLanguageSelection?document.documentElement.lang:""},C=ne.get("visitorId");try{const{data:k}=await bo(d.id,d.surveyId,T,w,C);O(d)?setTimeout(()=>{B(d,k)},Yn):B(d,k),C&&m.current.length>0&&await R()}catch(k){console.error("Failed to execute API call:",k),l.current=!1,i(null)}},z=A(d=>{u&&V(u,d)},[u,V]),P=A(async(d,T)=>{if(!T)return;const w=window.location.pathname,C=`${d}-${T.surveyId}-${w}`;if(!b.current.has(C))try{await wo({surveyId:T.surveyId,ruleGroupId:T.ruleGroupId,surveyType:d,interceptId:T.interceptId}),b.current.add(C)}catch($){console.error("Failed to send survey feedback:",$)}},[]),M=A(()=>{P(pe.LAUNCHED,r)},[r,P]);x(()=>{r&&P(pe.MATCHED,r)},[r,P]),x(()=>{(async()=>{const d=ne.get("visitorId")||"",{data:T}=await Eo(d),w=er(),C=T.project.settings&&T.project.settings[0].value?T.project.settings[0].value:365;ne.set("visitorId",T.visitor.uuid||"",{expires:C}),Ct(w,C),s(T),V(T)})()},[]),x(()=>{const d=T=>{const w=T.target;z(w)};return document.addEventListener("click",d),()=>{document.removeEventListener("click",d)}},[z]),x(()=>{var T;if(!u)return;let d=!1;(T=u==null?void 0:u.project)==null||T.intercepts.forEach(w=>{if(d=O(w),d)for(let C of w.rules)C.type===Ve.CLIENT&&(C==null?void 0:C.name)===wt.SESSION_DURATION&&setTimeout(()=>{V(u)},1e3*tr(C==null?void 0:C.value)+Yn)}),d||ne.remove("startTime")},[u,V]);const _e=A(()=>{var d;r&&So(r.surveyId,r.ruleGroupId),r!=null&&r.surveyId&&!((d=a==null?void 0:a.settings)!=null&&d.allowMultipleResponse)&&E(T=>[...T,r.surveyId]),l.current=!1,n(""),o(null),i(null)},[r,a]),H=A(()=>{l.current=!1,n(""),o(null),i(null),b.current.clear(),g.current.forEach(d=>clearTimeout(d)),g.current.clear(),m.current=[]},[]);return x(()=>{Ct()},[]),x(()=>()=>{g.current.forEach(d=>clearTimeout(d)),g.current.clear()},[]),Fo({visitorData:u,lastPathRef:_,interceptShownRef:l,setSurveyUrl:n,setMatchedIntercept:i,setIsPageChanged:p,handleInterceptChecks:V,resetPageState:H}),h(rr.Provider,{value:{surveyUrl:t,survey:r,matchedIntercept:a,closeSurvey:_e,launchSurveyForVisitor:M,isPageChange:c},children:e})},or=()=>Re(rr),Uo=({survey:e,styles:t,surveyUrl:n})=>{const[r,o]=U(e.type===ae.Feedback),{closeSurvey:a,launchSurveyForVisitor:i,isPageChange:l,matchedIntercept:u}=or(),[s,_]=U(!1),[c,p]=U(e.type!==ae.Exit),f=He(),E=500,{widgetDescription:b,colors:{backgroundColor:g,textColor:m},position:y,fontFamily:R,headerHeight:O,fetchWidgetSettings:B,feedbackBtnHeight:G,feedbackBtnWidth:V,imageKey:Z,imageDetailsObject:Q,descriptionDetailsObject:z,logoNameObject:P,widgetWindowHeight:M,widgetWindowWidth:_e,isAutoLaunchEnabled:H,launchSurveyBtnObject:d}=en();x(()=>{e!=null&&e.interceptId&&B&&(l||!b)&&u&&B(u)},[B,e==null?void 0:e.interceptId,b,l,u]);const T=A(()=>o(j=>!j),[]),w=D(()=>h("iframe",{id:"survey",src:n,allowFullScreen:!0,height:f?"100%":M,width:f?"100%":_e,style:{position:"fixed",border:"none "}}),[f,n,M,_e]),C=A(()=>{_(!0),i()},[i]),$=A(()=>{var j;(j=u==null?void 0:u.settings)!=null&&j.autoCloseOnCompletion&&a()},[a,u]);x(()=>{H&&C()},[H]),x(()=>{const j=document.getElementById("intercept-app"),St=Ge=>{e.type===ae.Feedback&&!(j!=null&&j.contains(Ge.target))&&o(!0)};return document.addEventListener("click",St),()=>{document.removeEventListener("click",St)}},[]);const k=D(()=>{if(s)return w;if(r)return null;const j={backgroundColor:g,color:m,fontFamily:`'${R}', sans-serif`};return h("div",{className:"launch-survey_container",style:{position:"relative",overflow:"auto",height:e.type===ae.Feedback?f?E:M:f?E:`calc(100vh - ${O})`},children:[Z&&h("div",{style:J(N({},Q),{position:"absolute"}),children:h("img",{src:tn(Z),alt:"intercept_widget_image",style:{width:"100%",height:"100%",objectFit:"cover"}})}),h("div",{className:"widget-description-btn-content",style:N({},z?N({position:"absolute"},z):{}),children:[h("div",{dangerouslySetInnerHTML:{__html:b}}),h("div",{children:h("button",{className:"launch-survey_container-launchSurvey",onClick:C,style:j,children:d==null?void 0:d.name})})]})]})},[s,r,g,m,R,e.type,O,Z,Q,z,b,C,w]),q=D(()=>gr(y,r,e.type,f),[y,r,e.type,f]);x(()=>{if(c&&!r){const j=document.createElement("style");return j.textContent=`
        body:not(iframe body) {
          position: relative;
          height: 100vh;
          z-index: -1;
          overflow: auto;
          user-select: none;
        }
        body:before {
          position: fixed;
          content: '';
          left: 0;
          right: 0; 
          top: 0;
          bottom: 0;
          z-index: 200;
        }
      `,document.head.appendChild(j),()=>{document.body.style.backgroundColor="",document.head.removeChild(j)}}},[r,c]);const F=D(()=>h(X,{children:[h("style",{children:t}),h("link",{href:`https://fonts.googleapis.com/css2?family=${R.replaceAll(" ","+")}:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap`,rel:"stylesheet"})]}),[R,t]);return D(()=>{if(!(q||y))return null;switch(e.type){case ae.Feedback:return h(mo,{onDone:a,isMinimized:r,feedbackBtnHeight:G,feedbackBtnWidth:V,backgroundColor:g,color:m,onMinimize:T,logoNameObject:P,surveyPosition:q,position:y,head:F,widgetWindowHeight:M,widgetWindowWidth:_e,handleSurveyCompletion:$,children:k});case ae.Popup:return h(yo,{head:F,isMinimized:r,surveyPosition:q,onDone:a,onMinimize:T,widgetWindowHeight:M,widgetWindowWidth:_e,handleSurveyCompletion:$,children:k});case ae.Exit:return h(ho,{head:F,isMinimized:r,surveyPosition:q,onDone:a,onMinimize:T,widgetWindowHeight:M,widgetWindowWidth:_e,showSurvey:c,setShowSurvey:p,handleSurveyCompletion:$,children:k})}},[g,m,k,G,V,F,r,P,a,T,y,e.type,q,c])},Ho=()=>{const{survey:e,surveyUrl:t}=or(),n=K(),[r,o]=U(!0),[a,i]=U(null),l=A(()=>JSON.parse(localStorage.getItem(qn)||"[]"),[]);x(()=>{const s=l();let _=sessionStorage.getItem(Qn);_||(_=Date.now().toString(),sessionStorage.setItem(Qn,_),i(_)),s&&(s.push(_),localStorage.setItem(qn,JSON.stringify(s))),i(_)},[l]);const u=A(()=>{let s=l();s[(s==null?void 0:s.length)-1]!==a&&o(!1)},[a]);return x(()=>(document.addEventListener("visibilitychange",u),()=>document.removeEventListener("visibilitychange",u)),[a]),x(()=>{var s;n.current=(s=document.getElementById("intercept-stylesheet"))==null?void 0:s.innerHTML},[e==null?void 0:e.interceptId]),t&&e&&r&&h(Uo,{survey:e,styles:n.current,surveyUrl:t,"data-testid":"survey-frame"})||null},$o=Ie({}),Mo=({children:e})=>{const[t,n]=U(null),r=A(o=>{n({title:o.target.title,url:o.target.URL})},[]);return x(()=>(window.addEventListener("load",r),()=>{window.removeEventListener("load",r)}),[r]),h($o.Provider,{value:{info:t},children:e})};let De=document.getElementById("intercept-app");De||(De=document.createElement("div"),De.setAttribute("id","intercept-app"),document.body.appendChild(De)),ye(h(No,{children:h(yr,{children:h(Mo,{children:h(Ho,{})})})}),De)})();
