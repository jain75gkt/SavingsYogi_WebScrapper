(function() {
        function Dt(){return window.location.href.startsWith("file://")}const _={noOfErrors:0,noOfSecondsWaitingForNR:0,stoppedWaitingForNR:!1,logs:[],secondsToWaitForNR:10},m=(e,t,n,o=()=>{})=>{try{return e()}catch(r){_.noOfErrors=_.noOfErrors+1,Re(r,{code:t,message:n}),o()}},xn=async(e,t,n,o=()=>{})=>{try{return await e()}catch(r){_.noOfErrors=_.noOfErrors+1,Re(r,{code:t,message:n}),o()}},rt=()=>_.noOfErrors;var p=(e=>(e.MissingData="ECOM:MISSING_DATA",e.UnableToInit="ECOM:UNABLE_TO_INITALISE",e.QueueAction="ECOM:QUEUE_ACTION",e.QueueEvent="ECOM:QUEUE_EVENT",e.UnableToSend="ECOM:UNABLE_TO_SEND",e))(p||{});const Re=(e,t)=>{const n=window.newrelic;if(n){_.logs.forEach(o=>n.noticeError(o.message,o.properties)),_.logs=[],n.noticeError(e,t);return}if(_.stoppedWaitingForNR){De(`LibraryError|Code:${t.code}|${t.message}|${e.message}`);return}if(_.logs.push({message:e,properties:t}),_.logs.length==1){const o=setInterval(()=>{if(_.noOfSecondsWaitingForNR>=_.secondsToWaitForNR||window.newrelic){_.stoppedWaitingForNR=!0,clearInterval(o),_.logs.forEach(r=>Re(r.message,r.properties));return}_.noOfSecondsWaitingForNR=_.noOfSecondsWaitingForNR+1},1e3);return}},De=e=>{Dt()||(window.dataLayer=window.dataLayer||[],(window.gtag=window.gtag??function(){window.dataLayer.push(arguments)})("event","ecomt",{ReferenceText:e}))},Ft="hook:tracking",Un="hook:remove";var l=(e=>(e.ActionGenerateConversionUrl="action:generate-conversion-url",e.ActionGenerateTid="action:generate-tid",e.ActionUpdateConsent="action:update-consent",e.ActionSetLoggedInUserId="action:set-logged-in-user-id",e.ActionExtension="action:extension",e.Conversion="event:conversion",e.TidFocus="event:tid-focus",e.MiscClick="event:misc-click",e.LinkClick="event:link-click",e.FormStart="event:form-start",e.FormProgression="event:form-progression",e.FormSubmission="event:form-submission",e.AddToCart="event:add-to-cart",e.ProductView="event:product-view",e.ProductListView="event:product-list-view",e.BeginCheckout="event:begin-checkout",e.Purchase="event:purchase",e.AccountSignUp="event:account-sign-up",e.SelectContent="event:select-content",e.RequoteSubmission="event:requote-submission",e.ExternalWidgetRender="event:external-widget-render",e.ExternalWidgetInteraction="event:external-widget-interaction",e.PageView="event:page-view",e.InternalAction="action:internal",e.ScrollDepth="event:scroll-depth",e[e.Hook=Ft]="Hook",e[e.HookRemove=Un]="HookRemove",e.ActionSetFacebookPixelId="action:set-facebook-pixel-id",e.ActionDisableJourneyLead="action:disable-journey-lead",e.ActionSetNetworkPixel="action:set-network-pixel",e.ActionEcomBaseTable="action:ecom-base-table",e))(l||{});function Pn(e,t){window.ecomtq=window.ecomtq??[],window.ecomtq.push({name:l.ActionUpdateConsent,properties:{onetrust:e,consentObj:t}})}function ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}var Ln={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Ae(e,t){function n(r,i,s){if(!(typeof document>"u")){s=ae({},t,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var c in s)s[c]&&(a+="; "+c,s[c]!==!0&&(a+="="+s[c].split(";")[0]));return document.cookie=r+"="+e.write(i,r)+a}}function o(r){if(!(typeof document>"u"||arguments.length&&!r)){for(var i=document.cookie?document.cookie.split("; "):[],s={},a=0;a<i.length;a++){var c=i[a].split("="),d=c.slice(1).join("=");try{var u=decodeURIComponent(c[0]);if(s[u]=e.read(d,u),r===u)break}catch{}}return r?s[r]:s}}return Object.create({set:n,get:o,remove:function(r,i){n(r,"",ae({},i,{expires:-1}))},withAttributes:function(r){return Ae(this.converter,ae({},this.attributes,r))},withConverter:function(r){return Ae(ae({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Ot=Ae(Ln,{path:"/"});function Nn(e){if(e==="localhost"||e==="127.0.0.1")return e;const t=e.match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:/\n]+)/)?.[1];if(!t)return"";const[n,o]=t.split(".").reverse();return o?`.${o}.${n}`:`.${t}`}var it={};let O={};try{typeof window<"u"&&window.addEventListener("ecomBaseInitialized",()=>{O={}})}catch{}const q=function(e,t){return Rn()?()=>t():()=>(O[e]||(O[e]=t),typeof O[e]=="function"&&(O[e]=O[e]()),O[e])};function Rn(){try{return it?.VITEST=="true"&&it?.VITESTSINGLETON!="true"}catch{}return!1}const b=q("settings",Dn);function Dn(){const e={tenantPrefix:y().tenantPrefix??y().tidPrefix??"NA",partnerNameByUrl:y().table=y().table||(y().table=T()),dimensionLevelValues:y().dimensionLevelValues||y().pageLevelValues||window.pageLevelDataValues||{...window.pageLevelDatalayer},page:y().page||void 0},t=()=>e.tenantPrefix,n=()=>window.gtm_link_table??e.partnerNameByUrl,o=()=>{const E=y().trafficSource;return E||"internal"},r=()=>e.dimensionLevelValues||{},i=()=>e.page,s=()=>y().conversionEventName||"Conversion",a=()=>y().consent,c=()=>d()[0],d=()=>y().gaIds||[y().gaId],u=()=>y().ssgtmUrl?.replace(/\/$/,""),g=()=>y().ssgtmPreview,f=()=>15e3,w=()=>y().itemType=="embed",I=()=>{const{loggedInUserId:E}=y();return(E||"").length>5?E:void 0},S=()=>y().trustArcConsent;function T(){const{blob:E}=y();if(!E)return;return m(()=>vn(E),p.MissingData,"unable to decrypt blob");function vn(ke){return JSON.parse(atob(An(ke)))}function An(ke){return ke.split("").reverse().join("")}}function Sn(){return y().version||"latest"}function En(){return{path:y().cookiePath,cookieDomainIsHostname:y().cookieDomainIsHostname===!0}}function Tn(){const E=y();return E.locationDetectionPixelUrl??E.trustArcConsent?.locationDetectionPixelUrl}return{tenantPrefix:t,partnerRules:n,trafficSource:o,conversionEventName:s,consentDefault:a,primaryGaId:c,gaIds:d,ssgtmUrl:u,gaLoadingTimeout:f,dimensions:r,isCrossDomainIframeWidget:w,version:Sn,ssgtmPreview:g,loggedInUserId:I,cookies:En,trustArcConsent:S,locationDetectionPixelUrl:Tn,storePartnerRules:E=>{e.partnerNameByUrl=E,window.ecomBase.table=E},page:i}}function y(){return window.ecomBase||{}}var Fn={};const D=(e,t,n)=>{const o=[e],r=b().cookies();o.forEach(i=>{const s={expires:n,sameSite:"Lax",secure:qn(),path:r.path||"/"};m(()=>{r.cookieDomainIsHostname||(s.domain=Nn(window.location.hostname)??""),Ot.set(i,t,s)},p.MissingData,"cookie saving")})},On=e=>m(()=>{const t=window.location.search;return new URLSearchParams(t).get(e)},p.MissingData,"from queryString")||"",v=e=>m(()=>Ot.get(e),p.MissingData,"cookie"),Bn=(e,t)=>{const n=v(e);return n&&D(e,n,t),n};function qn(){let e=!1;try{e=Fn?.VITEST=="true"}catch{}return!("STORIES"in window)&&!e}let Vn=e=>crypto.getRandomValues(new Uint8Array(e)),$n=(e,t,n)=>{let o=(2<<Math.log2(e.length-1))-1,r=-~(1.6*o*t/e.length);return(i=t)=>{let s="";for(;;){let a=n(r),c=r|0;for(;c--;)if(s+=e[a[c]&o]||"",s.length>=i)return s}}},Bt=(e,t=21)=>$n(e,t|0,Vn);const U=q("user",Gn);function Gn(){const e={isNewClientId:!1},t=z("ga_sessionId",1/48),n=z("ga_clientId"),o=z("ecom_sessionId",1/48),r=z("ecom_clientId",400,c),i=z("ecom_sstSessionCount"),s=()=>{const u=r.getAndExtend();return{userId:On("ecom_userid")||v("ecom_userid"),gaSessionId:t.get(),gaClientId:n.getAndExtend(),sessionId:o.get(),isNewClientId:e.isNewClientId,clientId:u,sstSessionCount:Number(i.getAndExtend()),loggedInUserId:e.loggedInUserId}},a=()=>{const g=Number(i.get()??0)+1;return i.store(g.toString()),g};function c(u){const g=b().tenantPrefix();if(!u||u.length!=22||!u.startsWith(g)){const f=`${g}${Bt("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",20)()}`;return r.store(f),e.isNewClientId=!0,f}return u}function d(u){e.loggedInUserId=u}return{getUserState:s,storeGaClientId:n.store,storeGaSessionId:t.store,storeClientId:r.store,storeSessionId:o.store,storeLoggedInUserId:d,incrementSessionCount:a}}function z(e,t=400,n=void 0){return{get:()=>{const o=v(e);return n?.(o)||o},getAndExtend:()=>{const o=Bn(e,t);return n?.(o)||o},store:o=>{D(e,o,t)}}}function jn(e,t){U().storeSessionId(e),t&&(D("mktp_sslt","false",1/48),D("mktp_session_new","yes",1/48))}const Fe=490,qt=()=>new Date().toISOString(),j=typeof Buffer=="function",st=typeof TextDecoder=="function"?new TextDecoder:void 0,at=typeof TextEncoder=="function"?new TextEncoder:void 0,Mn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",J=Array.prototype.slice.call(Mn),ce=(e=>{let t={};return e.forEach((n,o)=>t[n]=o),t})(J),Wn=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,C=String.fromCharCode.bind(String),ct=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Hn=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),Vt=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),zn=e=>{let t,n,o,r,i="";const s=e.length%3;for(let a=0;a<e.length;){if((n=e.charCodeAt(a++))>255||(o=e.charCodeAt(a++))>255||(r=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");t=n<<16|o<<8|r,i+=J[t>>18&63]+J[t>>12&63]+J[t>>6&63]+J[t&63]}return s?i.slice(0,s-3)+"===".substring(s):i},$t=typeof btoa=="function"?e=>btoa(e):j?e=>Buffer.from(e,"binary").toString("base64"):zn,Jn=j?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let o=0,r=e.length;o<r;o+=4096)n.push(C.apply(null,e.subarray(o,o+4096)));return $t(n.join(""))},Zn=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?C(192|t>>>6)+C(128|t&63):C(224|t>>>12&15)+C(128|t>>>6&63)+C(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return C(240|t>>>18&7)+C(128|t>>>12&63)+C(128|t>>>6&63)+C(128|t&63)}},Xn=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Yn=e=>e.replace(Xn,Zn),dt=j?e=>Buffer.from(e,"utf8").toString("base64"):at?e=>Jn(at.encode(e)):e=>$t(Yn(e)),be=(e,t=!1)=>t?Hn(dt(e)):dt(e),Kn=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Qn=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return C((n>>>10)+55296)+C((n&1023)+56320);case 3:return C((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return C((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},eo=e=>e.replace(Kn,Qn),to=e=>{if(e=e.replace(/\s+/g,""),!Wn.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n,o,r=[];for(let i=0;i<e.length;)t=ce[e.charAt(i++)]<<18|ce[e.charAt(i++)]<<12|(n=ce[e.charAt(i++)])<<6|(o=ce[e.charAt(i++)]),n===64?r.push(C(t>>16&255)):o===64?r.push(C(t>>16&255,t>>8&255)):r.push(C(t>>16&255,t>>8&255,t&255));return r.join("")},Gt=typeof atob=="function"?e=>atob(Vt(e)):j?e=>Buffer.from(e,"base64").toString("binary"):to,no=j?e=>ct(Buffer.from(e,"base64")):e=>ct(Gt(e).split("").map(t=>t.charCodeAt(0))),oo=j?e=>Buffer.from(e,"base64").toString("utf8"):st?e=>st.decode(no(e)):e=>eo(Gt(e)),ro=e=>Vt(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),io=e=>oo(ro(e)),ye=q("adnetworks",so),B="ecom_networks_v2",fe={taboola:{limit:30,qs:["tcid"]},facebook:{limit:7,qs:["fbclid"],cookies:["_fbc","_fbp"]},google:{limit:90,qs:["gclid","gbraid","wbraid"]},reddit:{limit:28,qs:["rdt_cid"],cookies:["_rdt_cid","_rdt_em","_rdt_uuid"]},tiktok:{limit:28,qs:["ttclid"],cookies:["_ttp"]},microsoft:{limit:28,qs:["msclkid"]},"media.net":{limit:28,qs:["MaxclickID","mcid"],qsValidation:/^\d{29}$/}};function so(){let e=!1;function t(){try{if(v(B)){window.localStorage.removeItem(B);return}const c=window.localStorage.getItem(B);c&&(D(B,c,365),window.localStorage.removeItem(B))}catch{}}function n(){try{const a=v(B),c=a?{...Ie(),...JSON.parse(io(a))}:Ie();return co(c)}catch{return Ie()}}function o(){t();const a=n(),c=new URL(window.location.href);Object.entries(fe).forEach(([d,u])=>{const g=d,f=u.qs.find(S=>{const T=c.searchParams.get(S)||"";return u.qsValidation?T.match(u.qsValidation):T.length>10}),w=f?c.searchParams.get(f):"",I=a[g];w&&!I.find(S=>S.clickoutId==w)&&(e=!0,I.push({clickoutId:w,clickoutQS:f||"",timestamp:qt(),landingUrl:window.location.href}))});try{jt(a)}catch{ao(a)}}function r(){const a=[];return Object.entries(n()).reduce((c,[d,u])=>{const g=u[u.length-1];return g&&c.push({name:d,clickId:g.clickoutId,timeStamp:g.timestamp}),c},a).sort(function(c,d){return new Date(c.timeStamp).getTime()-new Date(d.timeStamp).getTime()})}function i(){const a=n();return Object.entries(a).reduce((d,[u,g])=>{const f=u,{cookies:w}=fe[f]||{};return d[f]={values:g,cookies:g.length==0||!w?{}:w.reduce((I,S)=>(I[S]=v(S),I),{})},d},{})}function s(){return e}return{initialize:o,getState:i,timeline:r,isLandingPage:s}}function jt(e){D(B,be(JSON.stringify(e)),90)}function ao(e){const t={...e};Object.entries(t).forEach(([n,o])=>{const r=n;t[r]=[o[0],o[o.length-1]].filter(i=>i)});try{jt(t)}catch{}}function Ie(){return Object.keys(fe).reduce((e,t)=>(e[t]=[],e),{})}function co(e){const t={...e};return Object.entries(t).forEach(([n,o])=>{const r=n;t[r]=o.filter(i=>uo(qt(),i.timestamp)<fe[r].limit)}),t}function uo(e,t){const n=new Date(e),o=new Date(t);return Math.abs(o.getTime()-n.getTime())/(1e3*60*60*24)}const Q=q("userLocation",lo);function lo(){const e=window?.ecomBase?.location,t={postalCode:e?.postalCode,countryCode:e?.countryCode,subscribers:[],enabled:!1};return{unsafeState(){return t},userLocation:()=>new Promise(n=>{if(t.countryCode!==void 0||t.postalCode!==void 0)return n({countryCode:t.countryCode,postalCode:t.postalCode});if(!t.enabled)return n({countryCode:void 0,postalCode:void 0});t.subscribers.push(o=>n({countryCode:o.countryCode,postalCode:o.postalCode}))}),initialize:()=>{const n=b().locationDetectionPixelUrl();t.enabled=!!n,!(!t.enabled||t.postalCode&&t.countryCode)&&fetch(n).then(o=>{t.countryCode=o.headers.get("x-country-code"),t.postalCode=o.headers.get("x-postal-code")}).catch(o=>{}).finally(()=>{t.subscribers.forEach(o=>o(t))})}}}const fo=["at","be","bg","hr","cy","cz","dk","ee","fi","fr","de","gr","hu","ie","it","lv","lt","lu","mt","nl","pl","pt","ro","sk","si","es","se","eu","gb"],go=async()=>{const t=(await Q().userLocation())?.countryCode?.toLowerCase(),n=fo.includes(t??"");return!b().locationDetectionPixelUrl()&&!t?!1:n},mo=e=>{const t=b().trustArcConsent(),n=t?.forceCountryCode?`&country=${t.forceCountryCode}`:"",o=t?`&privacypolicylink=${encodeURIComponent(t.privacyUrl)}`:"",r=t?.language?`&language=${t.language}`:"",i="consent_preferences_container",s=document.createElement("script");s.async=!0,s.crossOrigin="true",s.type="text/javascript",s.src=`https://consent.trustarc.com/notice?domain=${e}&c=${i}&js=nj&noticeType=bb&text=true&gtm=1${n}${o}${r}`;const a=document.createElement("div");a.id="consent_blackbar",a.className=i,a.style.fontSynthesis="weight",document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{document.body.appendChild(a),document.body.appendChild(s)}):(document.body.appendChild(a),document.body.appendChild(s))},po=()=>{(function(){(function(){const t="__tcfapiLocator",n=[],o=window;let r=o,i,s;function a(){const u=o.document,g=!!o.frames[t];if(!g)if(u.body){const f=u.createElement("iframe");f.style.cssText="display:none",f.name=t,u.body.appendChild(f)}else setTimeout(a,5);return!g}function c(){if(arguments.length)arguments[0]==="setGdprApplies"?arguments.length>3&&parseInt(arguments[1],10)===2&&typeof arguments[3]=="boolean"&&(s=arguments[3],typeof arguments[2]=="function"&&arguments[2]("set",!0)):arguments[0]==="ping"?typeof arguments[2]=="function"&&arguments[2]({gdprApplies:s,cmpLoaded:!1,cmpStatus:"stub"}):n.push(arguments);else return n}function d(u){const g=typeof u.data=="string";let f={};if(g)try{f=JSON.parse(u.data)}catch{}else f=u.data;const w=typeof f=="object"&&f!==null?f.__tcfapiCall:null;w&&window.__tcfapi(w.command,w.version,function(I,S){const T={__tcfapiReturn:{returnValue:I,success:S,callId:w.callId}};u&&u.source&&u.source.postMessage&&u.source.postMessage(g?JSON.stringify(T):T,"*")},w.parameter)}for(;r;){try{if(r.frames[t]){i=r;break}}catch{}if(r===o.top)break;r=r.parent}i||(a(),o.__tcfapi=c,o.addEventListener("message",d,!1))})()})()},ho="cmapi_cookie_privacy";let ge;const wo=async()=>{clearInterval(ge),window.removeEventListener("message",Mt),bo();const e=b().trustArcConsent();let t=e?.domain??"";e?.euDomain&&await go()&&(t=e.euDomain,po()),mo(t)},bo=()=>{const{updateTrustArcPreferences:e}=N();ut(xe())||(ge=window.setInterval(()=>{const t=xe();ut(t)&&(clearInterval(ge),e(t))},100)),window.addEventListener("message",Mt)},yo=e=>{try{return JSON.parse(e)}catch{return null}},xe=()=>Wt(v(ho));function Mt(e){const t=yo(e.data);if(t&&t.source==="preference_manager"&&t.message==="submit_preferences"){const{updateTrustArcPreferences:n}=N();clearInterval(ge),n((Wt(t.data?.value??t.data)??[]).map(o=>o+1))}}function Wt(e){return m(()=>{if(e)return e.match(/\d+/g)?.map(Number)},p.MissingData,"consentTrustArc")}function ut(e){return e!==void 0&&e.length>0}const N=q("consent",Co),ko=2,Io=3,lt="ecom_adv_consent";function Co(){const e={onChange:[],consentData:void 0},t=d=>{e.onChange.includes(d)||e.onChange.push(d);const u=i();u&&d(u)},n=d=>{const u=r(d);u&&o(u)},o=d=>{e.consentData=d,e.onChange.forEach(u=>u(e.consentData))},r=d=>{if(d)return{analytics_storage:d.includes(ko)?"granted":"denied",ads:d.includes(Io)?"granted":"denied"}},i=()=>{const d=b();return e.consentData=d?.trustArcConsent()?.enabled?r(xe()):s()},s=()=>{const d=v(lt);if(d?.indexOf("{")===0)return m(()=>{const u=JSON.parse(d);if("analytics_storage"in u)return u},p.MissingData,"consentManual")},a=({onetrust:d,consentObj:u})=>{let g={analytics_storage:"denied",ads:"denied"};d?(g.analytics_storage=d.includes(",2,")?"granted":"denied",g.ads=d.includes(",3,")?"granted":"denied"):u&&(g=u),D(lt,JSON.stringify(g),400),o(g)};function c(){return!e.consentData||Object.keys(e.consentData).length===0?"default":Object.entries(e.consentData||{}).filter(([,d])=>d==="granted").map(([d])=>d).join("|")||"all_denied"}return{subscribe:t,updateTrustArcPreferences:n,storeManualPreferences:a,getConsentValue:c}}const ft=q("optimizely",_o);function _o(){function e(){const n=window.optimizely,o=n?Array.isArray(n)?"array":typeof n.get:"nothing";let r={};if(o==="function"){const a=n.get("state");r=a?a.getExperimentStates():{}}const i=Object.entries(r||{}).filter(([,{isActive:s}])=>s).map(([s,{isActive:a,variation:c,isInExperimentHoldback:d}])=>`${s}:${a}:${a?c.id:""}:${d}`);return{snippet:o,experimentStates:r,activeExperiments:i}}return{experiments:()=>{const{snippet:n,activeExperiments:o}=e();return n=="function"?o.join("|"):void 0},debug:()=>{const n=e();return`${"ecomOptimizely"in window?`${window.ecomOptimizely}|`:""}${n.snippet}|${n.activeExperiments.join("|")}|${JSON.stringify(n.experimentStates)}`.substring(0,Fe)}}}const So=()=>{const e=ye().timeline(),t=e[0];if(!t)return{};const n=e[e.length-1];return{FirstNetworkName:t.name,FirstNetworkClickoutId:gt(t.clickId),FirstNetworkTimestamp:t.timeStamp,LatestNetworkName:n.name,LatestNetworkClickoutId:gt(n.clickId),LatestNetworkTimestamp:n.timeStamp}};function gt(e){return e?.substring(0,Fe)||""}const ee=()=>{const e=b(),t=U().getUserState(),n={user_id:t.loggedInUserId||e.loggedInUserId()},o=window.navigator.userAgent,r="mktp_",i=window.mktp_traffic_type?r+"device":o.match(/FAbot-|Forbes/i)?r+"bot":o.match(/bot/i)?"external_bot":void 0,s=e.dimensions()||{};return{...Object.entries({...Eo(e.page()),...s,googlebot:void 0,robots:void 0}).reduce((c,[d,u])=>(u!==void 0&&(c[d]=u),c),{}),MarketplaceClientId:t.clientId,MarketplaceSessionId:t.sessionId,traffic_type:e.trafficSource(),UserId:t.userId||t?.clientId,ExperimentInfo:ft().experiments(),UserAgent:window.navigator.userAgent,...So(),...n.user_id?n:{},CookiePreferences:N().getConsentValue(),...i?{MarketplaceTrafficType:i}:{},ecomt:ft().debug()}};function Eo(e){return e?{AuthorName:e.authors?.[0]?.name,AuthorRole:e.authors?.[0]?.role,PrimaryCategory:e.primaryCategory,SecondaryCategory:e.secondaryCategory,TertiaryCategory:e.tertiaryCategory,PublishedDate:e.publishedDate,UpdatedDate:e.updatedDate,SubId1:e.subId1,SubId2:e.subId2,SubId3:e.subId3,SubId4:e.subId4}:{}}function To(e,t){let n=!1;t!==e&&(n=!0);const o=n?String(new Date().getTime()):v("ecom_sessionId")||String(new Date().getTime());jn(o,n),window.ecomBase.gaLoaded||(window.ecomBase.gaLoaded=!0)}function vo(){window.gtag("set",ee())}function Ao(){const e=b().primaryGaId();vo();const t=v("ga_sessionId");e&&window.gtag("get",e,"session_id",n=>To(n,t))}window.consentUpdate=Pn;const xo={init:function(){window.ecomBase=window.ecomBase||{},window.pageLevelDataValues={...window.pageLevelDatalayer},window.ecomBase.gaLoaded=!1,Ao()}},Uo=()=>{let e;function t(){e&&clearTimeout(e),e=setTimeout(()=>{Yt(),e=null},1200)}const n=document.body||document.querySelector("body");if(!(n instanceof Node)){m(()=>new Error("Body not found"),p.UnableToInit,"MutationObserver");return}const o={childList:!0,subtree:!0},r=function(s){for(const a of s)a.type==="childList"&&a.addedNodes.length>0&&t()};new MutationObserver(r).observe(n,o)};var h=(e=>(e.TrackPage="data-ecom-page",e.TrackContainer="data-ecom-container",e.TrackMiscClick="data-ecom-misc-click",e.TrackLinkClick="data-ecom-link",e.TrackProduct="data-ecom-product",e.TrackCart="data-ecom-cart",e.TrackConversion="data-ecom-conversion",e.TrackList="data-ecom-list",e.TrackTID="data-ecom-tid",e.TrackImpression="data-ecom-impression",e.Form="data-ecom-form",e.TrackFormAddToCart="data-ecom-form-add-to-cart",e.TrackClickAddToCart="data-ecom-click-add-to-cart",e.TrackFormBeginCheckout="data-ecom-form-begin-checkout",e.TrackClickBeginCheckout="data-ecom-click-begin-checkout",e.TrackFormPurchase="data-ecom-form-purchase",e.TrackExternalWidget="data-ecom-external-widget",e.FormFieldNonSensitive="data-ecom-form-field-non-sensitive",e.FormFieldSensitive="data-ecom-form-field-sensitive",e.FormFieldSensitivePartial="data-ecom-form-field-sensitive-partial",e.Interacted="data-ecom-interacted",e))(h||{}),Ue=(e=>(e.DisablePassive="data-ecom-disable-passive",e))(Ue||{});const mt=(e,t=document)=>t.cookie.split("; ").find(n=>n.startsWith(`${e}=`))?.split("=")[1],Oe=e=>({...Be(e),...Po(e)}),Be=e=>W(h.TrackContainer,e),Po=e=>{const t=W(h.TrackProduct,e),n=t.index??Lo(e);return n!=null&&(t.index=n),t},M=e=>{const t=W(h.TrackPage,e);return t&&Object.keys(t).length===0&&t.constructor===Object?{}:t},Lo=e=>{const t=Z(e,[h.TrackList])||Z(e,[h.TrackContainer]),n=Z(e,h.TrackProduct);if(t&&n){const o=t.querySelectorAll(Ge(h.TrackProduct));return Array.from(o).indexOf(n)+1}},Z=(e,t)=>e?.closest(Ge(t)),L=(e,t)=>{if(t==null)return{};try{return JSON.parse(t?.getAttribute(e)??t?.getAttribute(X(e))??"{}")}catch{return{}}},W=(e,t)=>L(e,m(()=>Ht(e,t),p.MissingData,e));function Ht(e,t,n=0){if(n==100||!t||t===document||t===window)return null;const o=Z(t,e);return o||Ht(e,t.getRootNode()?.host,n+1)}const qe=(e,t)=>t?.clickTextOverride||(("value"in e?e.querySelector(`[value='${e.value}']`)?.textContent??e.value:"")||e.innerText||e.textContent||"").trim()||t?.clickText||"",me=(e,t)=>(qo(e.tagName)==="a"?e:e.querySelector("a"))?.getAttribute("href")||t?.clickUrl||"",Ve=(e,t)=>{const n=me(e,void 0);if(!n)return"NA";if(t?.tid&&n&&n.includes(t.tid))return t.tid;const o=Fo(),r=Do(n,o),i=r.split("_");return o&&i[1]?`${i[0].substring(i[0].indexOf(o))}_${i[1]}`:r},No=e=>{const{provider:t}=$e(e);return t?{affiliation:t}:{}},$e=e=>{window.ecomBase=window.ecomBase||{};const t=window.ecomBase?.sameSiteIframe?window.parent:window,n=t?.gtm_link_table??t.ecomBase?.table;return Ro(e,n)};function Ro(e,t){if(Array.isArray(t)){for(const n of t)if(new RegExp(n[0]).test(e)&&typeof n[1]=="object")return n[1]}return{provider:"",TID:"",PageUrl:"",static:{}}}function Do(e,t){const n=new URL(e,"https://www.mktptgenerateconversionurl.internal"),{TID:o}=$e(e)||{};if(o){const d=n.searchParams.get(o);if(d)return d}if(!t)return"NA";const r=`(${t}_)(.+?)(?=[^a-zA-Z0-9]|$)`,i=new RegExp(r);for(const[,d]of n.searchParams)if(d.includes(t+"_"))return d.match(i)?.[0]??d;const s=n.pathname.match(i);if(s&&s[1])return s[0].replace("/","");const a=n.hash.match(i);if(a&&a[1])return a[0];const c=n.searchParams.toString().match(i);return c&&c[1]?c[0]:"NA"}function Fo(){return[mt("mktp_clientId"),mt("ecom_clientId")].find(e=>e)}function Ge(e){const t=Array.isArray(e)?e:[e];return t.forEach(o=>{t.push(X(o))}),t.map(o=>`[${o}]`).join(", ")}const X=e=>e.replace("ecom-","mktp-");function Oo(e,t){return[t,X(t)].find(n=>e.hasAttribute(n))}function Bo(e,t){return e.querySelectorAll(Ge(t))}function qo(e){return e.toLowerCase()}function A(e){Vo().push(e)}function zt(e){A({name:Ft,properties:e})}const Vo=()=>{const e=window.ecomBase?.sameSiteIframe?window.parent:window;return e.ecomtq=e.ecomtq??[]},Y=e=>{const t=L(h.TrackConversion,e),n=Oe(e),o=me(e,t),r=n?.affiliation?{}:m(()=>No(o),p.MissingData,"partnerName");return{...W(h.TrackList,e),...n,...r,...t,clickText:qe(e,t),clickUrl:me(e,t),tid:Ve(e,L(h.TrackTID,e)),...M(e)}},$o=e=>{const t=L(h.TrackLinkClick,e);A({name:l.LinkClick,properties:{...Oe(e),...t,clickText:qe(e,t),clickUrl:me(e,t),...M(e)}})},Go=e=>{const t=L(h.TrackMiscClick,e);A({name:l.MiscClick,properties:{...Oe(e),...t,clickText:qe(e,t),clickType:t.componentType??t.clickType??"",...M(e),...W(h.TrackList,e)}})},jo=e=>{A({name:l.Conversion,properties:Y(e)})};var je=(e=>(e.success="Success",e.fail="Fail",e))(je||{});const Pe={},Ce=(e,t=2e4)=>{const{tid:n}=Y(e);n in Pe||(Mo(n,t),A({name:l.TidFocus,properties:Y(e)}))};function Mo(e,t){t<1||(Pe[e]=setTimeout(()=>{delete Pe[e]},t))}const Jt=({url:e,productId:t},n)=>{const o=M(document.body).position1ProductId||window.ecomBase?.page?.position1ProductId,r=o&&t==o?1:void 0;A({name:l.ActionGenerateConversionUrl,properties:{url:e,position:r},cb:(i,s)=>n({convertedUrl:i,tid:s})})},Wo=(e,t=()=>!0)=>{["click","auxclick"].forEach(n=>{e.addEventListener(n,o=>{o.ecomTrackingHandled=!0,t(e)&&jo(e),Ce(e)})},{passive:!0}),["touchstart"].forEach(n=>{e.addEventListener(n,()=>Ce(e))},{passive:!0}),["focus","contextmenu"].forEach(n=>{e.addEventListener(n,()=>Ce(e))},{passive:!0})},Ho=e=>{e.addEventListener("click",t=>{t.ecomTrackingHandled=!0,Go(e)},{passive:!0})},zo=e=>{["click","auxclick"].forEach(t=>{e.addEventListener(t,n=>{n.ecomTrackingHandled=!0,$o(e)},{passive:!0})})},de=(e,t)=>{Bo(document,e).forEach(n=>{const o=window.ecomDomNodes=window.ecomDomNodes??new Map;o.has(n)||(o.set(n,!0),m(()=>t(n),p.UnableToInit,"attachEventListener"))})},Jo=(e,t)=>{const n=L(h.TrackExternalWidget,t),o=Zo(e,n);return{...n,tid:o}},Zo=(e,t)=>{const o=$e(e.src)?.TID;if(o){const a=new URL(e.src).searchParams.get(o);if(a)return a}const r="data-sub-id",i=e?.closest(`[${r}]`)?.getAttribute(r);return i||t.tid},Xo=e=>{A({name:l.ExternalWidgetRender,properties:{...L(h.TrackExternalWidget,e),...Be(e),...M(e)}})},Zt=(e,t)=>{const n=t?Jo(t,e):L(h.TrackExternalWidget,e);A({name:l.ExternalWidgetInteraction,properties:{...n,...Be(e),...M(e)}})},Yo=()=>{const e=()=>{const t=document.activeElement;t&&t.tagName==="IFRAME"&&Ko(t)};window.addEventListener("blur",e)},Ko=e=>{const t=Z(e,h.TrackExternalWidget);t&&Qo(t,e)},Qo=(e,t)=>{Oo(e,h.Interacted)||(Zt(e,t),e.setAttribute(h.Interacted,"true"))},er=e=>{e.querySelector("iframe")||tr(e)},tr=e=>{const t=()=>{Zt(e),t&&e.removeEventListener("click",t)};e.addEventListener("click",t)},nr=e=>{const t=b().tenantPrefix();if(pt(e,t))return;new MutationObserver(()=>pt(e,t)).observe(e,{attributes:!0})},pt=(e,t)=>{const n=L(h.TrackExternalWidget,e);return n?.tid&&n.tid.startsWith(t)?(Xo(e),!0):!1},or=(e,t)=>e.hasAttribute(Ue.DisablePassive)?e.getAttribute(Ue.DisablePassive)?.split(",")?.includes(t):!1;var Xt=(e=>(e.conversion="conversion",e))(Xt||{});let _e,Se=[],ht;const wt=e=>{rr()?.observe(e)};function rr(){if(_e)return _e;if(!(typeof window>"u"||!window.IntersectionObserver))return _e=new IntersectionObserver((e,t)=>{e.forEach(n=>{const o=n.target;n.isIntersecting&&(t.unobserve(o),ir(o))})},{rootMargin:"0px",threshold:.2})}function bt(e,t){return e.reduce((n,o)=>{const r=t(o)||"";return n.includes(r)||n.push(r),n},[]).join("|")}function ir(e){Se.push(e),clearTimeout(ht),ht=setTimeout(()=>{const t=[...Se];Se=[],t.length>0&&sr(t)},300)}function sr(e){const t=e.map(Y),n="tidImpression|";(window.ecomtq=window.ecomtq||[]).push({name:l.ProductListView,properties:{listId:n+bt(t,o=>o.listId||o.affiliation),listName:n+bt(t,o=>o.listName||o.affiliation),items:t,referenceText:"tidImpression"}})}const ar=()=>{Yo(),Yt(),Uo()},Yt=()=>{m(cr,p.UnableToInit,"conversionElms"),de(h.TrackMiscClick,Ho),de(h.TrackLinkClick,zo),de(h.TrackExternalWidget,e=>{er(e),nr(e)})};function cr(){de(h.TrackConversion,e=>{const t=e.getAttribute("href");if(!t)return;const n=m(()=>Ve(e,void 0),p.MissingData,"tidValue"),o=W(h.TrackProduct,e);!n||n=="NA"||n.length<23||!n.includes("_")?Jt({url:t,productId:o?.itemId},({convertedUrl:r})=>{e.setAttribute("href",r),wt(e)}):wt(e),Wo(e,r=>!or(r,Xt.conversion))})}const dr=e=>{N().storeManualPreferences(e.properties)},ur=Bt("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",12);function Kt(){return`${U().getUserState().clientId}_${ur()}`}function lr(e){return tn(e,en())}function Qt(e){const t=en();return(!t||!window.ecomBase.blob)&&e.includes("PARTNER_TID_VALUE")||!!tn(e,t)?.provider}function en(){return b().partnerRules()}function tn(e,t){if(Array.isArray(t)){for(const n of t)if(new RegExp(n[0]).test(e))return n[1]}}const fr=e=>{const{url:t,position:n}=e.properties||{};if(t==""||!t.startsWith("http")&&!t.startsWith("/")){e.cb(t,"");return}m(()=>{const o=Kt();e.cb(pr(e.properties.url,o,n),o)},p.QueueAction,`tid generation "${e.properties.url}"`,()=>{e.cb(e.properties.url,"")})},nn="PARTNER_TID_VALUE",on="Forbes_TID_value",yt="PARTNER_POSITION_VALUE",gr=new RegExp(nn,"g"),mr=new RegExp(on,"g");function pr(e,t,n){const o=lr(e),r=hr(t,o);if(e.includes(nn))e=e.replace(gr,t);else if(e.includes(on))e=e.replace(mr,t);else if(o?.TID){const i=Le(e);o.TID.split(",").forEach(a=>{i.searchParams.set(a,r)}),e=i.toString()}else{const i=Le(e);i.searchParams.append("tid",r),e=i.toString()}return e=wr(e,o),e=br(e,o),e=yr(e),e=Ir(e),e=Cr(e,n),e}function Le(e){const t="https://www.fa.internal";if(e.startsWith("http"))return new URL(e);const o=new URL(e,t);return o.toString=function(){return URL.prototype.toString.apply(this).replace(t,"")},o}function hr(e,t){return t?.tidUrlPrefix?`${t.tidUrlPrefix}${e}`:e}function wr(e,t){if(["Forbes_page_url","PAGE_URL_VALUE"].forEach(n=>{e.includes(n)&&(e=e.replace(n,encodeURIComponent(window.location.pathname)))}),t?.PageUrl){const n=new URL(e);return n.searchParams.set(t.PageUrl,window.location.pathname),n.toString()}return e}function br(e,t){if(!t||!t.static||t.static.constructor!==Object||Object.keys(t.static).length<1)return e;const n=t.static,o=new URL(e);return Object.keys(n).forEach(function(r){o.searchParams.set(r,n[r])}),o.toString()}function yr(e){if(!(b().tenantPrefix()==="FA"))return e;const n=(window?.__mpResponseHeaders&&window?.__mpResponseHeaders["x-postal-code"])??Q().unsafeState().postalCode,o=["l","m"].some(r=>window.location.pathname.includes(`/${r}/`))?"paid-search":"organic";if(e.startsWith("http")){const r=new URL(e);r.searchParams.has("channel")&&(r.searchParams.set("channel",o),e=r.toString())}return n?e.replace("ZIP_CODE_VALUE",n):e}const kr={PARTNER_CREATIVE_VALUE:"ecom_creative",PARTNER_ADPLACEMENT_VALUE:"ecom_placement",PARTNER_ADID_VALUE:"ecom_id",PARTNER_ADSETID_VALUE:"ecom_setid",PARTNER_CLICKID_VALUE:"fbclid",PARTNER_UTM_CAMPAIGN_VALUE:"utm_campaign",PARTNER_MATCH_TYPE_VALUE:"match_type"};function Ir(e){let t=e;const n=new URLSearchParams(window.location.search),o=Object.entries(kr);try{const r=Le(t);o.forEach(([i,s])=>{const c=r.searchParams.entries().find(([,d])=>d===i)?.[0];if(c){const d=n.get(s);d?r.searchParams.set(c,d):r.searchParams.delete(c)}}),t=r.toString()}catch{}return o.forEach(([r,i])=>{const s=n.get(i);s&&(t=t.replace(new RegExp(r,"g"),encodeURIComponent(s)))}),t}function Cr(e,t){return e.includes(yt)?e.replace(new RegExp(yt,"g"),t&&t==1?"1":""):e}const _r=e=>{e.cb(Kt())},Sr=(e,t,n)=>{if("STORIES_SIMULATE_AD_BLOCKER"in window){n("storybook simulated ad block");return}if("STORIES"in window&&!("STORIES_BYPASS"in window))return;const o=`https://www.googletagmanager.com/gtag/js?id=${t}&l=dataLayer&cx=c`;if(e.querySelector(`script[src='${o}']`))return;const r=e.createElement("script");r.async=!0,r.src=o;const i=e.querySelector("script");i?.parentNode.insertBefore(r,i),r.addEventListener("error",()=>n("script error")),fetch(o).then(s=>{Er(s)||n("google request overridden")}).catch(()=>{})};function Er(e){return e.type==="cors"}const rn="pqp",sn="sm",Me=`/${rn}/${sn}`;function Tr(e){if(!e.includes(Me))return e;try{const t=new URL(e);return an(t)}catch{return e}}function an(e){const[t]=e.pathname.split(Me);return e.pathname=t,e.toString()}function vr(e){if(!e.includes(Me))return e;const t=new URL(e);return Ee(t,"utm_medium",()=>Ar(e)),Ee(t,"utm_source",()=>xr(e)),Ee(t,"utm_campaign",()=>Ur(e)),an(t)}function Ar(e){return We(e,0)}function xr(e){return We(e,1)}function Ur(e){return We(e,2)}function We(e,t){const o=new URL(e).pathname.split("/"),r=o.findIndex(i=>i===rn);if(r!==-1&&o[r+1]===sn){const i=r+2+t;return o[i]}return null}function Ee(e,t,n){if(!e.searchParams.has(t)){const o=n();o&&e.searchParams.append(t,o)}}const Pr=()=>{const e=b().consentDefault();Lr(e);const{storeManualPreferences:t,subscribe:n}=N();!b().trustArcConsent()?.enabled&&e&&t({consentObj:e}),n(Nr)},Lr=e=>{e?gtag("consent","default",{analytics_storage:e.analytics_storage,ad_storage:e.ads,ad_user_data:e.ads,ad_personalization:e.ads}):(gtag("consent","default",{analytics_storage:"denied",ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied",region:["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU","GB"]}),gtag("consent","default",{analytics_storage:"granted",ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted"}))},Nr=e=>{b().gaIds().forEach(n=>{n&&window.gtag("set",n,{CookiePreferences:N().getConsentValue()})}),gtag("consent","update",{analytics_storage:e.analytics_storage,ad_storage:e.ads,ad_user_data:e.ads,ad_personalization:e.ads})};function Rr(e,t,n){if(n=="ecomt")return Dr(e);const o=Fr(e,t);return vr(o)}function Dr(e){const t=new URL(e);return t.searchParams.set("utm_medium","internal"),t.searchParams.set("utm_source","debugging"),t.toString()}function Fr(e,t){try{const n=new URL(e);if(n.search||!t)return e;const o=new URL(t);if(o.host==n.host&&o.pathname==n.pathname)return t}catch{}return e}function He(e){const{ssgtmUrl:t,tenantPrefix:n,version:o}=b(),r=t()?.replace(/\/$/,"");if(!r)return;const i=n(),s=o();return`${r}/base64?t=${i}&v=${s}`}const te=(e,t)=>{const{ssgtmPreview:n}=b(),o=n(),r=new Headers({});return r.append("Content-Type","text/plain"),(o||"").length>10&&r.append("x-gtm-server-preview",o),xn(()=>fetch(e,{method:"POST",keepalive:!0,headers:r,body:t}),p.UnableToSend,e)};function cn(){const e=b(),t=Q().unsafeState(),n=["CA","US"];return!(t.countryCode&&n.includes(t.countryCode))&&e.ssgtmUrl()}const Or=()=>{if(cn())try{const e=window.fetch;let t=!1;const n=async function(...o){if(t)return e.apply(window,o);const r=Br(o),{url:i,method:s,body:a}=r||{};if(!(i&&i.includes("/g/collect")&&s==="POST"))return e.apply(window,o);try{const d=await e.apply(window,o);return window.fetch===n&&(window.fetch=e),t=!0,d}catch{return await Vr(i,a),new Response("Failed to send request to GA",{status:500})}};window.fetch=n}catch{}};function Br(e){try{const t=e[0],n=e[1]||{},o=typeof t=="string"?t:t instanceof Request?t.url:null,r=(t instanceof Request?t.method:n.method||"GET")?.toUpperCase(),i=t instanceof Request?t.body:n.body,s=i===void 0?null:i;return!o||!r||typeof s!="string"&&s!==null?null:{url:o,method:r,body:s}}catch{return null}}async function qr(e,t){const n=He();n&&await te(n,be(JSON.stringify({path:"/g/collect",querystring:e,...t!==null&&{body:t}})))}async function Vr(e,t){let n;try{const o=new URL(e);o.searchParams.set("ep.GABlocked","true"),n=o.search}catch{n=e.includes("?")?e.substring(e.indexOf("?")):""}await qr(n,t)}const ne=q("gatag",$r);function $r(){const{storeGaClientId:e,storeGaSessionId:t}=U(),n={initializedBy:void 0,loadedListeners:[]},o=()=>{Or(),window.dataLayer=window.dataLayer||[],window.gtag=window.gtag??function(){window.dataLayer.push(arguments)},gtag("js",new Date);const c=b();Pr();const{path:d}=c.cookies(),u=c.isCrossDomainIframeWidget()?{cookie_flags:"SameSite=None;Secure"}:{cookie_flags:`Path=${d||"/"};SameSite=Lax;Secure`};c.gaIds().forEach(f=>{f&&(gtag("config",f,{pageTitle:window.ecomBase?.title||document.title,page_location:Tr(window.location.href),send_page_view:!0,...u,...ee()}),Sr(document,f,w=>r(!1,w)))});const g=c.primaryGaId()??"";window.gtag("get",g,"client_id",f=>{r(!0,"ga client_id cb"),typeof f=="string"&&f&&e(f)}),window.gtag("get",g,"session_id",f=>{typeof f=="string"&&f&&t(f)}),window.setTimeout(()=>{n.initializedBy||r(!1,"timeout")},c.gaLoadingTimeout())},r=(c,d)=>{n.gaLoaded=c,n.initializedBy=d,n.loadedListeners.forEach(u=>u({gaLoaded:c,reason:d})),n.loadedListeners=[]},i=()=>n.initializedBy?Promise.resolve({gaLoaded:n.gaLoaded,reason:n.initializedBy}):new Promise(c=>n.loadedListeners.push(c));function s(c){b().gaIds().forEach(u=>{u&&window.gtag("set",u,{user_id:c})})}function a(){const{initializedBy:c,gaLoaded:d}=n;return{loaded:c?d?"Allowed":"Blocked":"Unknown",initializedBy:c}}return{initialize:o,waitGtagLoaded:i,setLoggedInUserId:s,gaStateUnsafe:a}}const Gr=e=>{const t=e.properties.userId||"";t.length<5||(U().storeLoggedInUserId(t),ne().setLoggedInUserId(t))};function jr(){const t=b().ssgtmUrl();if(!t)return;const n=t.endsWith("/")?t.slice(0,-1):t,o=document.createElement("script");o.src=`${n}/js/extension-v-latest.js`,document.head.appendChild(o)}const Mr=e=>{const t=e.name;return t===l.ActionGenerateConversionUrl?(fr(e),!0):t===l.ActionGenerateTid?(_r(e),!0):t===l.ActionSetLoggedInUserId?(Gr(e),!0):t===l.ActionExtension?(jr(),!0):t===l.ActionUpdateConsent?(b().trustArcConsent()?.enabled||dr(e),!0):!1},F=[],dn="action:",Wr=()=>{F.splice(0,F.length),Jr("ecomtq")};function Te(e){const t=e.name;if(t===l.Hook){Hr(e);return}if(t===l.HookRemove){zr(e);return}if(t.startsWith(dn)){if(Mr(e))return;F.forEach(n=>{n.onAction&&m(()=>{n.onAction(e)},p.QueueAction,"Hook: "+n.name)})}t.startsWith("event:")&&F.forEach(n=>{m(()=>{n.onEvent(e)},p.QueueEvent,"Hook: "+n.name)})}function Hr(e){const{onEvent:t,onInit:n,name:o,onAction:r}=e.properties;F.map(i=>i.onEvent).includes(t)||(m(()=>{n?.()},p.UnableToInit,"Hook"),F.push({name:o,onEvent:t,onAction:r}))}function zr(e){const t=F.findIndex(n=>n.name==e.properties.name);t>-1&&F.splice(t,1)}function Jr(e){if(Dt())return;const t=window[e]=window[e]??[];t.push=function(...n){return Te(n[0]),n[0].name.indexOf(dn)===0?this.length:Array.prototype.push.apply(this,n)},t.filter(n=>n.name===l.Hook).forEach(Te),t.forEach(Te)}const ze=e=>({FormStep:e.formStep,FormName:e.formName,FormType:e.formType,FormLocation:e.formLocation,PartnerName:e.partnerName}),Je=e=>{if(typeof e!="object")return{ReferenceText:"ECOM PROPERTIES MISSING"};try{return"items"in e&&Array.isArray(e.items)?Ze(e):Zr(e)}catch(t){return{ReferenceText:t.toString()}}},Ze=e=>({currency:"USD",value:Array.isArray(e.items)?e.items.reduce((t,n)=>t+=n.price||0,0):0,items:un(e),...Xe(e)}),Zr=e=>({currency:"USD",value:e.price,...Xe(e),items:[{...ln(e,e),..."listId"in e?fn(e):{}}]}),un=e=>{if(!Array.isArray(e.items))return[];const t="listId"in e?fn(e):{};return e.items.map(n=>({...ln(n,e),...t}))},H=e=>({Tid:e.tid,EnquiryId:e.enquiryId,CartId:e.cartId}),Xr=e=>({...H(e),transaction_id:e.transactionId}),Xe=e=>"listId"in e?{item_list_id:e.listId,item_list_name:e.listName,location_id:e.listId,AppliedFilters:e.appliedFilters,PageNumber:e.pageNumber,ResultsCount:e.resultsCount}:{},V=e=>({ComponentTitle:e.componentTitle,ComponentType:e.componentType,...e.enquiryId&&{EnquiryId:e.enquiryId},...e.cartId&&{CartId:e.cartId}}),Ye=e=>({ReferenceText:!e.itemName&&!e.itemId?e.referenceText+" | MISSING PRODUCT ANNOTATION":e.referenceText}),ln=(e,{tid:t})=>{const n="NO_PRODUCT_INFO";return Object.entries({item_id:e.itemId??n,item_name:e.itemName??n,affiliation:e.affiliation,coupon:e.coupon,index:e.index??0,item_brand:e.itemBrand,item_brand_id:e.itemBrandId,item_category:e.itemCategory,item_category2:e.itemCategory2,item_category3:e.itemCategory3,item_category4:e.itemCategory4,item_category5:e.itemCategory5,price:e.price,quantity:1,secondaryCallout:e.secondaryCallout,starRating:e.starRating,initialCost:e.initialCost,subscriptionCost:e.subscriptionCost,Tid:e.tid??t,ReferenceText:e.referenceText,ProductAttribute1:ve(e.attribute1),ProductAttribute2:ve(e.attribute2),ProductAttribute3:ve(e.attribute3)}).reduce((o,[r,i])=>(i!==void 0&&(o[r]=i),o),{})};function ve(e){return e?`${e.name}|${e.value}`:void 0}const fn=e=>({item_list_id:e.listId,item_list_name:e.listName,location_id:e.listId}),gn=e=>{const t=e.filter(n=>n.piiSanitisedValue!="false").map(n=>({key:n.key,value:n.piiSanitisedValue}));return Yr(JSON.stringify(t))},Yr=e=>{const t=Kr(e,Fe,5),n={Payload:t[0],PayloadExtension1:t[1],PayloadExtension2:t[2],PayloadExtension3:t[3],PayloadExtension4:t[4]};return Object.keys(n).reduce((r,i)=>{const s=n[i];return s!==void 0&&(r[i]=s),r},{})};function Kr(e,t,n=5){if(!e||t<=0||n<=0)return[];if(n===1)return[e];const o=[];for(let r=0;r<n&&r*t<e.length;r++){const i=r*t,s=Math.min(i+t,e.length);o.push(e.substring(i,s))}return o}const Qr=(e,t)=>{window.gtag("event",e,t)},mn=()=>Math.floor(Math.random()*2147483648+0).toString(),Ke=()=>String(new Date().getTime()),ei=()=>`${mn()}.${Ke()}`.slice(0,21),ti=async e=>{const t={path:"/g/collect",querystring:`?${kt(e.qs)}`,...e.body?{body:kt(e.body)}:{}},n=He();n&&await te(n,btoa(JSON.stringify(t)))};function kt(e){return Object.entries(e).reduce((t,[n,o])=>(o&&t.push(`${n}=${typeof o=="string"?encodeURIComponent(o):o}`),t),[]).join("&")}const ni=(e,t,n)=>{const o={v:"2",tid:t.send_to,dt:document.title,dl:Rr(window.location.href,document.referrer,e),en:e,tt:t.traffic_type,cid:t.GAClientId,sid:t.GASessionId,ul:navigator.language.toLowerCase(),sr:`${screen.width}x${screen.height}`,dr:document.referrer,dh:window.location.hostname,uafvl:window.navigator.userAgent,_p:mn(),_fv:t.isNewUser?1:0,_ss:t.isNewSession?1:0,_nsi:t.isNewSession?1:0,sct:t.sessionCount,gcs:"G101",gcd:"11p1q1p1p5",npa:1,dma:0,tag_exp:0,frm:0,pscdl:"noapi",_s:1,seg:1,_ee:1,tfd:window?.performance?Math.round(window.performance.now()):1e3,richsstsse:""},r={...t,send_to:void 0,traffic_type:void 0,items:void 0,sessionCount:void 0,isNewSession:void 0,isNewUser:void 0,GABlocked:n.toString()},i=t.items;if(Array.isArray(i)&&i.length>0){const{en:s,_ee:a}=o,c={en:s,_ee:a,..._t(r)};return i.forEach((d,u)=>{const g=[];c["pr"+(u+1)]=Object.entries(d).filter(f=>f[1]!=null).map(([f,w],I)=>{const S=`${I!=0?"~":""}`;if(It[f])return`${S}${It[f]}${w}`;g.push(f);const T=g.length-1;return`${S}k${T}${f}~v${T}${w}`}).join("")}),delete o.en,delete o._ee,{qs:o,body:c}}return{qs:{...o,..._t(r)}}},It={item_id:"id",item_name:"nm",item_brand:"br",item_category:"ca",item_category2:"c2",item_category3:"c3",item_category4:"c4",item_category5:"c5",item_variant:"va",price:"pr",quantity:"qt",coupon:"cp",item_list_name:"ln",index:"lp",item_list_id:"li",discount:"ds",affiliation:"af",promotion_id:"pi",promotion_name:"pn",creative_name:"cn",creative_slot:"cs",location_id:"lo"},Ct={currency:"cu"};function _t(e){return Object.entries(e).reduce((t,[n,o])=>{if(!o&&typeof o!="number")return t;const r=n in Ct?Ct[n]:`ep${typeof o=="number"?"n":""}.${n}`;return t[r]=o,t},{})}const oi=async(e,t,n=!1)=>{if(!cn())return;const o={...t};await ne().waitGtagLoaded().then(async r=>{if(!n&&r.gaLoaded)return;const i=U(),s=i.getUserState();if(o.GAClientId=o.GAClientId||s.gaClientId,o.GASessionId=o.GASessionId||s.gaSessionId,!o.GAClientId){const a=ei();i.storeGaClientId(a),o.GAClientId=a,o.isNewUser=!0}if(!o.GASessionId){const a=Ke();i.storeGaSessionId(a),o.GASessionId=a,o.isNewSession=!0,o.isNewUser||i.incrementSessionCount()}o.sessionCount=i.getUserState().sstSessionCount,ti(ni(e,o,!r.gaLoaded))})},k=(e,t)=>{const n=b(),o=U().getUserState(),r={...t,GAClientId:o.gaClientId,GASessionId:o.gaSessionId,...ee()};n.gaIds().forEach(i=>{const s={...r,send_to:i};Qr(e,s),i&&oi(e,s)})},ri={name:"gtag",onEvent:e=>{const{name:t,properties:n}=e;switch(t){case l.Conversion:hn(n),pn(n);break;case l.TidFocus:ui(n);break;case l.MiscClick:fi(n);break;case l.FormStart:pi(n);break;case l.FormProgression:mi(n);break;case l.FormSubmission:hi(n);break;case l.LinkClick:gi(n);break;case l.ProductView:si(n);break;case l.ProductListView:ii(n);break;case l.AddToCart:ai(n);break;case l.BeginCheckout:ci(n);break;case l.Purchase:di(n);break;case l.AccountSignUp:wi(n);break;case l.SelectContent:bi(n);break;case l.RequoteSubmission:yi(n);break;case l.ExternalWidgetRender:ki(n);break;case l.ExternalWidgetInteraction:li(n);break;case l.PageView:Ci(n);break;case l.ScrollDepth:Ii(n);break}},onInit:()=>{window.dataLayer=window.dataLayer||[],window.gtag=window.gtag??function(){window.dataLayer.push(arguments)}}},ii=e=>{k("view_item_list",{...H(e),...Xe(e),...Array.isArray(e.items)?{items:un(e)}:void 0,..."componentTitle"in e?V(e):void 0,..."referenceText"in e?{ReferenceText:e.referenceText}:void 0})},si=e=>{k("view_item",{...Ze(e),...H(e)})},pn=e=>{k("add_to_cart",{...V(e),...Ye(e),...H(e),...Je(e)})},ai=e=>{k("add_to_cart",{...H(e),...Je(e)})},ci=e=>{k("begin_checkout",{...Je(e),...H(e)})},di=e=>{k("purchase",{...Xr(e),...Ze(e)})},hn=e=>{const t=b().conversionEventName();k(t,{...V(e),...Ye(e),ClickText:e.clickText,ClickUrl:wn(e.clickUrl),ClickPosition:e.index,PartnerName:e.affiliation,Tid:e.tid,coupon:e.coupon,...oe(e)})},ui=e=>{k("Tid Focus",{...V(e),...Ye(e),ClickText:e.clickText,ClickUrl:wn(e.clickUrl),ClickPosition:e.index,PartnerName:e.affiliation,Tid:e.tid,coupon:e.coupon,...oe(e)})},P="External Widget",li=e=>{const t={...e,clickText:P,clickUrl:"",referenceText:e.referenceText||P,itemBrand:e.partnerName||P,affiliation:e.partnerName||P,itemCategory:P,itemCategory2:"",price:0,listName:P,listId:P,resultsCount:0,tid:e.tid||"MISSING_TID",itemId:P,itemName:P};hn(t),pn(t)},fi=e=>{k("Misc Click",{...V(e),ClickText:e.clickText,ClickType:e.clickType,PartnerName:e.affiliation||e.itemBrand,ReferenceText:e.referenceText,...oe(e)})},gi=e=>{const t=e.affiliation||e.itemBrand;k("Link Click",{...V(e),ClickText:e.clickText,ClickUrl:e.clickUrl,ClickType:e.clickType||"external",ClickCat:e.clickCat,...t?{PartnerName:t}:"",ReferenceText:e.referenceText,...oe(e)})},mi=e=>{k("Form Progression",{...ze(e),...gn(e.payloadData),EnquiryId:e.enquiryId,FormErrorMessage:e.formErrorMessage,FormFieldCausingError:e.formFieldCausingError,FormStatus:e.formStatus,CartId:e.cartId,Tid:e.tid})};function pi(e){k("Form Progression",{...ze({...e,formStep:"start"}),EnquiryId:e.enquiryId,Tid:e.tid,CartId:e.cartId})}const hi=e=>{k("Form Submission",{...ze(e),...gn(e.payloadData),EnquiryId:e.enquiryId,FormErrorMessage:e.formErrorMessage,FormFieldCausingError:e.formFieldCausingError,FormStatus:e.formStatus,CartId:e.cartId,Tid:e.tid})},wi=({tid:e,enquiryId:t,partnerName:n})=>{k("sign_up",{Tid:e,EnquiryId:t,PartnerName:n})},bi=({contentType:e,contentId:t})=>{k("select_content",{content_type:e,content_id:t})},yi=({tid:e,enquiryId:t})=>{k("Requote Submission",{Tid:e,EnquiryId:t})},ki=e=>{k("External Widget Render",{PartnerName:e.partnerName,ReferenceText:e.referenceText,Tid:e.tid,...V(e),...oe(e)})};function Ii({scrollDepth:e}){k("Scroll",{ScrollThreshold:e})}function oe(e){return{...e.subId1?{SubId1:e.subId1}:{},...e.subId2?{SubId2:e.subId2}:{},...e.subId3?{SubId3:e.subId3}:{},...e.subId4?{SubId4:e.subId4}:{}}}const Ci=({referenceText:e})=>{k("page_view",{ReferenceText:e})};function wn(e){const t=Q().unsafeState().postalCode;if(t){const n=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return e.replace(new RegExp(`=${n}`,"g"),"=")}return e}const _i=()=>{[ye,ne,Q].forEach(e=>{m(e().initialize,p.UnableToInit,`${e.name}Store`)})},Si=()=>{const{getUserState:e,storeSessionId:t}=U(),{sessionId:n}=e();t(n??Ke())},St=l.Conversion,Et=l.ExternalWidgetInteraction,Tt=l.FormSubmission,Ei={name:"adnetworks",onEvent:({name:e,properties:t})=>{if(e!=St&&e!=Et&&e!=Tt||!t.tid)return;const n=b(),o=n.ssgtmUrl();if(!o)return;const r=ye(),i=r.getState(),s=[];if(Object.entries(i).forEach(([w,{values:I,cookies:S}])=>{const T=I[I.length-1];T&&s.push({...T,name:w,cookies:S})}),s.length==0)return;const a=s.reduce((w,I)=>(w[I.name]=I,w),{}),c=n.tenantPrefix(),d=ne(),u=U().getUserState(),g=N().getConsentValue(),f={path:"/mktpt-adnetworks-v2",jsonBody:{eventName:vi(e),mktptNetworks:s.map(w=>w.name).join("|"),mktptNetworkValues:a,documentLocation:window.location.href,documentReferrer:document.referrer,gaLoaded:d.gaStateUnsafe(),gaClientId:u.gaClientId,gaSessionId:u.gaSessionId,tenant:c,consent:g,isClickout:e==St||e==Et||e==Tt&&t.nextStep==="journey-start",isLandingPage:r.isLandingPage(),...Ti(e,t),...ee()}};te(`${o}/base64?t=${c}&v=${n.version()}`,be(JSON.stringify(f)))}};function Ti(e,t){return t.affiliation=t.affiliation??t.partnerName,e==l.ExternalWidgetInteraction&&(t.clickText=t.clickText??"ExternalWidgetInteraction"),t}function vi(e){switch(e){case l.ExternalWidgetInteraction:return"externalWidgetInteraction";case l.FormSubmission:return"formSubmission";case l.Conversion:return"conversion";default:return e}}const ue={name:"journeyLead",isDisabled:!1,onInit(){ue.isDisabled=!1},onAction(e){e.name===l.ActionDisableJourneyLead&&(ue.isDisabled=!0)},onEvent(e){if(ue.isDisabled||!((e.name==l.Conversion&&e.properties.enquiryId||e.name==l.FormSubmission&&e.properties.nextStep==="journey-end"&&e.properties.formStatus===je.success)&&!!e.properties.tid))return;const n=b(),o=n.ssgtmUrl();if(!o)return;const r=n.tenantPrefix(),s=ye().getState(),a=[];Object.entries(s).forEach(([u,{values:g,cookies:f}])=>{const w=g[g.length-1];w&&a.push({...w,name:u,cookies:f})});const c=a.reduce((u,g)=>(u[g.name]=g,u),{}),d={path:"/mktpt-journey-lead",jsonBody:{eventName:e.name,mktptNetworks:a.map(u=>u.name).join("|"),mktptNetworkValues:c,documentLocation:window.location.href,documentReferrer:document.referrer,tenantPrefix:r,...Ai(e.properties),...ee()}};te(`${o}/base64?t=${r}&v=${n.version()}`,be(JSON.stringify(d)))}};function Ai(e){return{...e,affiliation:e.affiliation??e.partnerName}}function xi(e){window._tfa=window._tfa||[],window._tfa.push({notify:"event",name:"page_view",id:e}),(function(t,n,o,r){document.getElementById(r)||(t.async=1,t.src=o,t.id=r,n.parentNode.insertBefore(t,n))})(document.createElement("script"),document.getElementsByTagName("script")[0],"//cdn.taboola.com/libtrc/unip/"+e+"/tfa.js","tb_tfa_script")}function Ui(e){(function(t,n,o){t.TiktokAnalyticsObject=o;const r=t[o]=t[o]||[];r.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],r.setAndDefer=function(i,s){i[s]=function(){i.push([s].concat(Array.prototype.slice.call(arguments,0)))}};for(let i=0;i<r.methods.length;i++)r.setAndDefer(r,r.methods[i]);r.instance=function(i){for(var s=r._i[i]||[],a=0;a<r.methods.length;a++)r.setAndDefer(s,r.methods[a]);return s},r.load=function(i,s){const a="https://analytics.tiktok.com/i18n/pixel/events.js";r._i=r._i||{},r._i[i]=[],r._i[i]._u=a,r._t=r._t||{},r._t[i]=+new Date,r._o=r._o||{},r._o[i]=s||{},s=document.createElement("script"),s.type="text/javascript",s.async=!0,s.src=a+"?sdkid="+i+"&lib="+o,i=document.getElementsByTagName("script")[0],i.parentNode.insertBefore(s,i)},r.load(e),r.page()})(window,document,"ttq")}function Pi(e){(function(t,n){if(!t.rdt){var o=t.rdt=function(){o.sendEvent?o.sendEvent.apply(o,arguments):o.callQueue.push(arguments)};o.callQueue=[];const r=n.createElement("script");r.src="https://www.redditstatic.com/ads/pixel.js",r.async=!0;const i=n.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i)}})(window,document),rdt("init",e,{optOut:!1,useDecimalCurrencyValues:!0}),rdt("track","PageVisit")}function Li(e){(function(t,n){var o=e;if(t.obApi){var r=function(c){return Object.prototype.toString.call(c)==="[object Array]"?c:[c]};t.obApi.marketerId=r(t.obApi.marketerId).concat(r(o));return}var i=t.obApi=function(){i.dispatch?i.dispatch.apply(i,arguments):i.queue.push(arguments)};i.version="1.1",i.loaded=!0,i.marketerId=o,i.queue=[];var s=n.createElement("script");s.async=!0,s.src="//amplify.outbrain.com/cp/obtp.js",s.type="text/javascript";var a=n.getElementsByTagName("script")[0];a.parentNode.insertBefore(s,a)})(window,document),obApi("track","PAGE_VIEW")}function Ni(e){(function(t,n,o,r,i){let s,a,c;t[i]=t[i]||[],s=function(){const d={ti:e};d.q=t[i],t[i]=new UET(d),t[i].push("pageLoad")},a=n.createElement(o),a.src=r,a.async=1,a.onload=a.onreadystatechange=function(){const d=this.readyState;d&&d!=="loaded"&&d!=="complete"||(s(),a.onload=a.onreadystatechange=null)},c=n.getElementsByTagName(o)[0],c.parentNode.insertBefore(a,c)})(window,document,"script","//bat.bing.com/bat.js","uetq")}const re="form_submission_browser",K="landing_clickout",ie="form_start_browser",G="lead_matched_browser",se="ecommerce_checkout_browser";function Ri(e,t,n,o,r){return t.disableEvents||o.includes(r)?!1:n?!0:!Di(e,t.pixelId)}const vt=[K,ie,re,se,G];function Di(e,t){const n=`ecom_nphook_${t}`,o=v(n),r=vt.indexOf(o??""),i=vt.indexOf(e),s=r<i;return s&&D(n,e,2),!s}function Fi(e,t){(function(n,o,r,i,s,a,c){n.fbq||(s=n.fbq=function(){s.callMethod?s.callMethod.apply(s,arguments):s.queue.push(arguments)},n._fbq||(n._fbq=s),s.push=s,s.loaded=!0,s.version="2.0",s.queue=[],a=o.createElement(r),a.async=!0,a.src=i,c=o.getElementsByTagName(r)[0],c.parentNode.insertBefore(a,c))})(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),fbq("consent","grant"),fbq("set","autoConfig",!1,e),fbq("init",e,{external_id:t}),fbq("track","PageView")}const bn=["taboola","outbrain","tiktok","reddit","msan","facebook"],x={name:"np",queue:[],state:{},hadFormStart:!1,onAction(e){e.name==l.ActionSetNetworkPixel&&(bn.forEach(t=>{const n=e.properties[t],o=n?.pixelId;o&&(x.state[t]={pixelId:o,loadPixel:n?.loadPixel,disableEvents:n?.disableEvents})}),Ne())},onInit(){x.state={},x.hadFormStart=!1,x.queue=[],N().subscribe(e=>{e.ads==="granted"&&Ne()})},onEvent({name:e,properties:t}){function n(o,r=!1){const i={...t},s="tid"in i;!r&&"price"in i&&delete i.price,Oi(o,s?i.tid:void 0,s?i:{})}switch(e){case l.Conversion:{x.hadFormStart?n(G):n(K);break}case l.FormStart:x.hadFormStart=!0,n(ie);break;case l.FormSubmission:{const{formStatus:o,nextStep:r}=t;r==="journey-start"&&n(K),o===je.success&&(["journey-end","journey-end-no-results","journey-results","journey-results-application"].includes(r)&&n(re),r==="journey-end"&&n(G,!0));break}case l.BeginCheckout:{n(se);break}}}},Oi=(e,t,n)=>{x.queue.push({eventName:e,networks:[],tid:t,product:n}),Ne()},Ne=()=>{N().getConsentValue().includes("ads")&&bn.forEach(e=>{const t=x.state[e];if(!t)return;const n=Bi[e];if(t.loadPixel&&!t.loaded){const o=U().getUserState().clientId;n.init(t.pixelId,o),t.loaded=!0}x.queue.forEach(({eventName:o,networks:r,tid:i,product:s})=>{Ri(o,t,n.multiRequest,r,e)&&(n.event(o,t,i,s),r.push(e))})})},Bi={taboola:{init:xi,event:(e,t)=>{window._tfa=window._tfa||[],window._tfa.push({notify:"event",name:e,id:t.pixelId})}},outbrain:{init:Li,event:e=>{window.obApi?.("track",e)}},msan:{init:Ni,event:(e,t,n,o)=>{const r=[o?.itemCategory||"",o?.itemCategory2||""].join("|");window.uetq?.push("event",e,{event_category:r||"unknown",event_label:o?.affiliation||"unknown"})},multiRequest:!0},tiktok:{init:Ui,event:(e,t,n)=>{qi(e).forEach(o=>{window.ttq?.track(o,{event_id:n,contents:[]})})}},facebook:{init:Fi,event:(e,t,n,o)=>{$i(e,o).forEach(([r,i,s])=>{window.fbq?.(r,i,s,Gi({tid:n}))})}},reddit:{init:Pi,event:(e,t,n)=>{Vi(e).forEach(o=>{window.rdt?.("track",o,{conversion_id:n})})}}},Qe="Lead",et="Purchase",tt="ViewContent",nt="AddToCart",yn="SubmitApplication",ot="InitiateCheckout";function qi(e){switch(e){case ie:return[tt];case re:return[yn,nt];case G:return[Qe,et];case se:return[ot]}return[e]}function Vi(e){switch(e){case ie:return[tt];case re:return["SignUp",nt];case G:return[Qe,et];case se:return[ot]}return[e]}const At="track";function $i(e,t){const n=Object.entries(t?{product_affiliation:t.affiliation,product_brand:t.itemBrand,product_category:t.itemCategory,product_id:t.itemId,product_name:t.itemName,product_category2:t.itemCategory2,component_title:t.componentTitle,form_name:t.formName,reference_text:t.referenceText,tid:t.tid}:{}).filter(([,r])=>r).reduce((r,[i,s])=>(r[i]=s,r),{});function o(r){return[At,r,n]}switch(e){case K:return[["trackCustom",K,n]];case ie:return[o(tt)];case re:return[o(yn),o(nt)];case G:return[o(Qe),[At,et,{currency:"USD",value:typeof t?.price=="number"?t.price:0}]];case se:return[o(ot)]}return[]}function Gi({tid:e}){return e?{eventID:e}:{}}function kn(e){document.readyState==="complete"||document.readyState==="interactive"?e():document.addEventListener("DOMContentLoaded",e,{once:!0})}const le=[25,50,75,90];let xt=!1,R=null,pe=[],$=0,he=!1;function Ut(){const e=document.documentElement;if(!e){pe=[];return}const t=Math.max(0,e.scrollHeight-window.innerHeight);pe=le.map(n=>Math.round(n/100*t))}function ji(e){A({name:l.ScrollDepth,properties:{scrollDepth:e}})}function Mi(){he=!1;const e=window.scrollY||window.pageYOffset||0;for(;$<le.length&&e>=pe[$];){const t=le[$];ji(t),$++}$>=le.length&&R&&(R.abort(),R=null)}function Wi(){he||(he=!0,requestAnimationFrame(Mi))}function Pt(){R&&R.abort(),pe=[],$=0,he=!1,R=new AbortController,Ut(),window.addEventListener("scroll",Wi,{passive:!0,signal:R.signal}),["resize","orientationchange"].forEach(e=>{window.addEventListener(e,Ut,{passive:!0,signal:R.signal})})}function Hi(){xt||(xt=!0,zi())}const zi=()=>{kn(Pt),window.addEventListener("popstate",Pt,{passive:!0})},Ji=()=>{window.ecomBase=window.ecomBase||{},window.ecomtq=window.ecomtq||[],[ri,Ei,ue,x].forEach(zt),_i(),m(Si,p.UnableToInit,"session"),m(Wr,p.UnableToInit,"queue"),m(Zi,p.UnableToInit,"gaBlocked"),b().trustArcConsent()?.enabled&&m(wo,p.UnableToInit,"trustArcConsent"),m(Hi,p.UnableToInit,"scrollEvents")},Zi=async()=>{await ne().waitGtagLoaded().then(async e=>{e.gaLoaded||A({name:l.PageView,properties:{referenceText:e.reason}})})},we="data-ecom-fallback-scanned";let Lt=!1;const Xi=()=>{document.querySelectorAll(`[${we}]`).forEach(e=>{e.removeAttribute(we)})},In=()=>{const e=[h.TrackConversion,X(h.TrackConversion)].map(n=>`:not([${n}])`);document.querySelectorAll(`a:not([${we}])${e.join("")}`).forEach(n=>{const o=n.getAttribute("href");if(n.setAttribute(we,""),!o)return;const r=n.firstElementChild;Qt(o)&&(n.removeAttribute(h.TrackLinkClick),n.removeAttribute(X(h.TrackConversion)),Yi(n,h.TrackConversion,{referenceText:"missing annotation",clickText:r?.tagName=="IMG"?r.getAttribute("alt")||r.getAttribute("src"):void 0}),Cn(n))})},Yi=(e,t,n)=>e.setAttribute(t,JSON.stringify(n)),Ki=()=>{let e;function t(){e&&clearTimeout(e),e=setTimeout(()=>{In(),e=null},500)}const n=document.querySelector("body"),o={childList:!0,subtree:!0},r=function(s){for(const a of s)a.type==="childList"&&a.addedNodes.length>0&&t()};new MutationObserver(r).observe(n,o)};function Qi(e){let t=e,n=0;for(;t&&t.tagName!="A"&&n<100;)n++,t=t.parentElement;return t}const es=()=>{window.ecomBase&&!window.ecomBase.blob&&!window.ecomBase.table&&(window.ecomBase.table=[[".advisorjourney.forbes.com|forbes.com/home-improvement/journey/|forbes.com/advisor/journey/|forbes.com/health/journey/",{provider:"Advisor Internal Journey",PageUrl:"lp_s3",TID:"tid"}]])};function ts(e){return!(!e||e=="NA"||e.length<23||!e.includes("_"))}function Cn(e){const t=Ve(e,void 0);ts(t)||Jt({url:e.getAttribute("href"),productId:void 0},({convertedUrl:n})=>{e.setAttribute("href",n)})}function ns(e,t){const n=Y(e);n.referenceText=t,A({name:l.Conversion,properties:n})}function os(e,t){Cn(e),ns(e,t)}const rs=()=>{Lt||(Lt=!0,document.addEventListener("click",e=>{if(e.ecomTrackingHandled)return;const t=Qi(e.target);!t||!t?.hasAttribute("href")||!Qt(t.getAttribute("href"))||os(t,"ecom global fallback")},{passive:!0}))},is={name:"fallback",onEvent(){},onAction(e){e.name!=l.ActionEcomBaseTable||!e.properties.table||(b().storePartnerRules(e.properties.table),Xi())}},ss=[],as=()=>{m(es,p.UnableToInit,"blobFallback"),Ji(),m(()=>zt(is),p.UnableToInit,"tableFallback"),ds(),m(rs,p.UnableToInit,"globalfallback"),xo.init()},cs=()=>{const e=p.UnableToInit;m(In,e,"fallback"),m(Ki,e,"mutationfallback"),m(ar,e,"event listeners")};function ds(){ss.includes(window.location.pathname)&&m(()=>{const e=window.fetch;window.fetch=async function(...t){const n=t[0];if(typeof n!="string"||!n.includes("google-analytics"))return e.apply(this,t);const o=n+"&ep.GABlocked=true";try{const r=await e.apply(this,t);return r.status!=204&&await Nt(o,t[1]?.body),r}catch(r){throw await Nt(o,t[1]?.body),r}}},p.UnableToInit,"fetchoverride")}async function Nt(e,t){const n={path:"/g/collect",querystring:e.substring(e.indexOf("?")),...t?{body:t}:{}},o=He();if(o)return await te(o,btoa(JSON.stringify(n))).catch(()=>{})}let Rt=!1;const us=window.setTimeout(()=>{_n(),De("LibraryLoaded|DomTimeout")},10*1e3);m(as,p.UnableToInit,"onLoad");kn(_n);function _n(){Rt||(Rt=!0,clearTimeout(us),m(cs,p.UnableToInit,"onDomContentLoaded"),rt()>1&&De(`LibraryLoaded|Errors:${rt()}`),(window.dataLayer=window.dataLayer||[]).push({event:"ecomt",ReferenceText:"GTM|LibraryLoaded"}))}

    })();