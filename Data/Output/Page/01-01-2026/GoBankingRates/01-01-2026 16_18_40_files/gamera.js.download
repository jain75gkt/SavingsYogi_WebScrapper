
window.gamera = window.gamera || {};
window.gamera.fastlane = window.gamera.fastlane || [];
window.gamera.fastlane.push(function() {
  window.gamera.setConfig({"collectAdvertiserDomains":1,"curationRules":[{"id":"gamera_17","inverted":false,"placementIds":["MS01LTE","Mi0xLTE","Mi0zLTE","Mi00LTE","Mi0yLTE","Mi01LTE","My0yLTE","My0xLTE","My0zLTE","NC0xLTE","My01LTE","My00LTE","NC0yLTE","NC0zLTE","NC00LTE","NC01LTE","NS0xLTE","MS0zLTE","NS0yLTE","NS0zLTE","NS00LTE","Ny00LTE"],"maxRenderSequence":5,"maxViewportAdDensity":5,"maxTimeOnPage":300,"segmentsInclusion":[],"segmentsExclusion":[],"target":["pbjs"]},{"id":"gamera_16","inverted":false,"placementIds":["MS01LTE","Mi0xLTE","Mi0zLTE","Mi00LTE","Mi0yLTE","Mi01LTE","My0yLTE","My0xLTE","My0zLTE","NC0xLTE","My01LTE","My00LTE","NC0yLTE","NC0zLTE","NC00LTE","NC01LTE","NS0xLTE","NS0yLTE","NS0zLTE","NS00LTE","Ny00LTE"],"maxRenderSequence":5,"maxViewportAdDensity":3,"maxTimeOnPage":300,"segmentsInclusion":[],"segmentsExclusion":[],"target":["pbjs"]},{"id":"gamera_11","inverted":false,"placementIds":["MS01LTE","Mi0xLTE","Mi0zLTE","Mi00LTE","Mi0yLTE","Mi01LTE","My0yLTE","My0xLTE","My0zLTE","My01LTE","My00LTE"],"maxRenderSequence":5,"maxViewportAdDensity":6,"maxTimeOnPage":300,"segmentsInclusion":[],"segmentsExclusion":[],"target":["pbjs"]},{"id":"gamera_14","inverted":false,"placementIds":["MS01LTE","Mi0xLTE","Mi0zLTE","Mi00LTE","Mi0yLTE","Mi01LTE","My0yLTE","My0xLTE"],"maxRenderSequence":50,"maxViewportAdDensity":3,"maxTimeOnPage":300,"segmentsInclusion":[],"segmentsExclusion":[],"target":["pbjs"]},{"id":"gamera_22","inverted":false,"placementIds":["NS0zLTE","NS00LTE"],"maxRenderSequence":3,"maxViewportAdDensity":5,"maxTimeOnPage":300,"segmentsInclusion":[],"segmentsExclusion":[],"target":["pbjs"]},{"id":"gamera_18","inverted":true,"placementIds":["MS01LTE","Mi0xLTE","Mi0zLTE","Mi00LTE","Mi0yLTE","Mi01LTE","My0xLTE"],"maxRenderSequence":2,"maxViewportAdDensity":3,"maxTimeOnPage":300,"segmentsInclusion":[],"segmentsExclusion":[],"target":["pbjs"]},{"id":"gamera_24","inverted":false,"placementIds":["MS01LTE","Mi0xLTE","Mi0zLTE","Mi00LTE","Mi0yLTE","Mi01LTE","My0yLTE","My0xLTE","My0zLTE","NC0xLTE","My01LTE","My00LTE","NC0yLTE","NC0zLTE","NC00LTE","NC01LTE","NS0xLTE","NS0yLTE","NS0zLTE","NS00LTE","Ny00LTE"],"maxRenderSequence":50,"maxViewportAdDensity":15,"maxTimeOnPage":300,"segmentsInclusion":[],"segmentsExclusion":[],"target":["pbjs"]},{"id":"gamera_25","inverted":false,"placementIds":["MS01LTE","Mi0xLTE","Mi0zLTE","Mi00LTE","Mi0yLTE","Mi01LTE","My0yLTE","My0xLTE","My0zLTE","NC0xLTE","My01LTE","My00LTE","NC0yLTE","NC0zLTE","NC00LTE","NC01LTE","NS0xLTE","NS0yLTE","Ny00LTE"],"maxRenderSequence":5,"maxViewportAdDensity":6,"maxTimeOnPage":300,"segmentsInclusion":[],"segmentsExclusion":[],"target":["pbjs"]},{"id":"gamera_39","inverted":false,"placementIds":["MS01LTE","Mi0xLTE","Mi0zLTE","Mi00LTE","Mi0yLTE","Mi01LTE","My0yLTE","My0xLTE","My0zLTE","My01LTE","My00LTE","NS0xLTE"],"maxRenderSequence":5,"maxViewportAdDensity":5,"maxTimeOnPage":300,"segmentsInclusion":[],"segmentsExclusion":[],"target":["pbjs"]}],"placementStats":"pid,fr,vr,ctr,att,cpm2,cpm4,cpm6,cpm8,sov\nMS01LTE,92.23,96.6,0.37,11.0,0,0.0,0.0,1.49,95.73\nMi0xLTE,94.23,96.86,0.6,19.0,0,0.0,1.55,5.08,95.21\nMi0zLTE,95.45,97.71,0.39,19.33,0,0.0,2.25,5.34,93.27\nMi00LTE,95.49,96.34,0.4,18.0,0,0.0,1.87,5.07,92.59\nMi0yLTE,94.38,97.49,0.43,19.33,0,0.0,1.82,5.02,94.46\nMi01LTE,95.16,96.32,0.46,18.0,0,0.0,1.85,5.13,92.2\nMy0yLTE,94.43,86.51,0.31,4.5,0,0.0,0.25,2.98,80.44\nMy0xLTE,95.35,94.52,0.36,15.0,0,0.0,1.35,4.74,90.9\nMy0zLTE,94.02,82.15,0.26,3.5,0,0.0,0.87,2.71,72.92\nNC0xLTE,93.37,73.65,0.21,2.0,0,0.0,0.36,2.29,65.67\nMy01LTE,94.02,77.33,0.31,2.0,0,0.0,0.45,2.28,66.73\nMy00LTE,94.08,81.46,0.27,3.5,0,0.0,0.77,2.62,71.91\nNC0yLTE,93.43,71.78,0.16,2.0,0,0.0,0.01,2.17,63.59\nNC0zLTE,93.08,69.72,0.3,1.5,0,0.0,0.03,2.23,61.15\nNC00LTE,93.32,71.91,0.23,2.0,0,0.0,0.36,2.53,62.42\nNC01LTE,93.15,71.02,0.08,2.0,0,0.0,0.34,2.58,67.18\nNS0xLTE,93.43,72.86,0.28,1.84,0,0.0,0.13,2.44,64.63\nMS0zLTE,90.17,94.78,0.0,14.0,0,0.0,0.0,0.0,60.54\nNS0yLTE,92.15,69.33,0.21,1.5,0,0.0,0.0,2.24,66.69\nNS0zLTE,91.73,64.46,0.51,1.0,0,0.0,0.0,1.98,70.32\nNy00LTE,95.56,66.6,0.1,0.0,0,0.0,0.0,1.6,94.09\nNS00LTE,91.72,59.51,0.1,1.0,0,0.0,0.0,1.92,71.01\n"});
});

(()=>{"use strict";const e="__gameraDebug__",t="gamera.consentProceed",n="gamera.adRendered",i={AD_RENDERED:"adRendered",PAGE_SCROLL:"pageScroll",NEW_PAGE:"newPage",CUSTOM:"custom",ADD_DIMENSIONS:"addDimensions",ADD_METRICS:"addMetrics",PAGE_REVENUE:"pageRevenue",BID_WON:"bidWon"},r={AD_PLACEMENT_FOUND:"adPlacementFound",AD_PLACEMENT_GTAG_RENDERED:"adPlacementGtagRendered",AD_PLACEMENT_PBJS_RENDERED:"adPlacementPbjsRendered",AD_PLACEMENT_ADSENSE_RENDERED:"adPlacementAdSenseRendered",AD_PLACEMENT_RENDERED:"adPlacementRendered",AD_PLACEMENT_VIEWABLE:"adPlacementViewable",AD_PLACEMENT_CLICKED:"adPlacementClicked",AD_PLACEMENT_PBJS_AUCTION_INIT:"adPlacementPbjsAuctionInit",PBJS_BID_CLICKED:"pbjsBidClicked",WEB_VITALS_CHANGED:"webVitalsChanged",SESSION_RESET:"sessionReset",SESSION_NEW_PAGE:"sessionNewPage",SESSION_PAGE_REVENUE_ADDED:"sessionPageRevenueAdded",SESSION_AD_PLACEMENTS_VISIBLE:"sessionAdPlacementsVisible",GAM_AD_REQUESTED:"gamAdRequested",ADSENSE_SLOTS_FOUND:"adSenseSlotsFound",ADSENSE_SLOT_FILLED:"adSenseSlotFilled",ADSENSE_SLOT_UNFILLED:"adSenseSlotUnfilled"},a={fr:"fill_rate",vr:"viewability",ctr:"ctr",att:"att",sov:"sov",cpm2:"cpm2",cpm4:"cpm4",cpm6:"cpm6",cpm8:"cpm8"},s=["hb_pb","fs_pb"],o=["hb_adid","fs_adid"],d=5,c=new class{constructor(t){t||(t="warn"),window.location.search.indexOf(e)>-1&&(t="debug"),this.level=t}debug(e){"debug"===this.level&&console.log("%c Gamera [debug]: %c "+e,"background: black; color: orange","background: #373837; color: #ffffff")}info(e){"info"!==this.level&&"debug"!==this.level||console.log("%c Gamera [info]: %c "+e,"background: black; color: orange","background: blue; color: #ffffff")}warn(e){["info","warn","debug"].includes(this.level)&&console.log("%c Gamera [warn]: %c "+e,"background: black; color: orange","background: black; color: orange")}error(e){["info","warn","error","debug"].includes(this.level)&&console.log("%c Gamera [error]: %c "+e,"background: black; color: orange","background: red; color: #ffffff")}setLogLevel(e){this.level=e}}("none"),l=function(){let e=[];try{e=document.getElementsByTagName("main")}catch(e){}return e}();function u(){return function(){if(void 0!==window.scrollY)return Math.max(0,Math.round(window.scrollY));if(void 0!==window.pageYOffset)return Math.max(0,Math.round(window.pageYOffset));const e=document.documentElement,t=document.body;return Math.max(0,Math.round(e&&e.scrollTop||t&&t.scrollTop||0))}()||(1===l.length?l[0].scrollTop:0)}function g(){return window.document.documentElement&&window.document.documentElement.clientWidth||window.innerWidth||0}function m(){return window.document.documentElement&&window.document.documentElement.clientHeight||window.innerHeight||0}function p(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function h(e){let t=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t?decodeURIComponent(t[2]):null}function f(e,t,n,i,r){let a="";if(n){let e=new Date;e.setTime(e.getTime()+60*n*60*1e3),a=e.toUTCString()}const s=r&&""!==r?` ;domain=${encodeURIComponent(r)}`:"",o=a&&""!==a?` ;expires=${a}`:"",d=null!=i&&"none"==i.toLowerCase()?"; Secure":"";document.cookie=`${e}=${encodeURIComponent(t)}${o}; path=/${s}${i?`; SameSite=${i}`:""}${d}`}function E(){return Math.floor(Date.now()/1e3)}function v(){try{return performance.now()}catch(e){return Date.now()}}function w(e,t){return e===t||JSON.stringify(e)===JSON.stringify(t)}function b(e){try{return e()}catch(e){}return null}function _(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}}function y(e,t){if(!e)return;let n=String(t).split(".");for(let t=0;t<n.length;t++)if(!(e=e[n[t]]))return e;return e}function S(e,t){return toString.call(e)===`[object ${t}]`}function A(e){return S(e,"Object")}function I(e){return S(e,"Function")}function P(e,...t){if(!t.length)return e;const n=t.shift();if(A(e)&&A(n))for(const t in n)A(n[t])?(e[t]||Object.assign(e,{[t]:{}}),P(e[t],n[t])):Array.isArray(n[t])?e[t]?Array.isArray(e[t])&&n[t].forEach((n=>{let i=1;for(let r=0;r<e[t].length;r++)if(w(e[t][r],n)){i=0;break}i&&e[t].push(n)})):Object.assign(e,{[t]:[...n[t]]}):Object.assign(e,{[t]:n[t]});return P(e,...t)}const D=function(e){const t={domain:"",hostname:"",params:{},path:""};if(!e)return t;try{const n=new URL(e);t.domain=n.hostname.split(".").slice(-2).join("."),t.hostname=n.hostname,t.path=n.pathname;const i=new URLSearchParams(n.search);for(const[e,n]of i)t.params[e.toLowerCase()]=decodeURIComponent(n)}catch(e){}return t}(function(e,t){const n=document.getElementById("__gamera__");if(n)return n.getAttribute("src");let i=document.querySelectorAll('script[src*="gamera.js"]');return 1===i.length?i[0].getAttribute("src"):void 0}()),T=function(){try{return window.self!==window.top}catch(e){return!0}}(),R={_ingestionHostname:D.hostname||"metrics.rapidedge.io",_ingestionPath:"/gamera/ingest",_domain:D.params.domain||"",_partner:D.params.partner||"",_ltv:+D.params.ltv||0,_wait:+D.params.wait||0,_tpcs:+D.params.tpcs||0,_webMetrics:+D.params.web_metrics||1,_userId:D.params.user_id||"",_sessionId:D.params.session_id||"",_audience:+D.params.audience||0,_clientSideMetrics:+D.params.client_side_metrics||0,_disableAdPlacementDiscovery:0,_disableGptCuration:0,_collectPlacementHistory:0,_collectAdvertiserDomains:1,_enableSegtaxFetch:0,_curationRules:[],_placementStats:"",get domain(){return this._domain},get partner(){return this._partner},get ltv(){return this._ltv},get wait(){return this._wait},get tpcs(){return this._tpcs},get webMetrics(){return this._webMetrics},get userId(){return this._userId},get sessionId(){return this._sessionId},get endpoint(){return`https://${this._ingestionHostname}${this._ingestionPath}`},get audience(){return this._audience},get clientSideMetrics(){return this._clientSideMetrics},get disableAdPlacementDiscovery(){return T?1:this._disableAdPlacementDiscovery},get disableGptCuration(){return T?1:this._disableGptCuration},get collectPlacementHistory(){return this._collectPlacementHistory},get collectPbjsSummary(){return!this._collectPlacementHistory},get collectAdvertiserDomains(){return this._collectAdvertiserDomains},get enableSegtaxFetch(){return T?0:this._enableSegtaxFetch},get curationRules(){return T?[]:this._curationRules},get placementStats(){return T?"":this._placementStats},get runningInIframe(){return T},setConfig(e){e.hasOwnProperty("ingestionHostname")&&(this._ingestionHostname=e.ingestionHostname),e.hasOwnProperty("ingestionPath")&&(this._ingestionPath=e.ingestionPath),e.hasOwnProperty("domain")&&(this._domain=e.domain),e.hasOwnProperty("partner")&&(this._partner=e.partner),e.hasOwnProperty("ltv")&&(this._ltv=+e.ltv),e.hasOwnProperty("wait")&&(this._wait=+e.wait),e.hasOwnProperty("tpcs")&&(this._tpcs=+e.tpcs),e.hasOwnProperty("webMetrics")&&(this._webMetrics=+e.webMetrics),e.hasOwnProperty("userId")&&"string"==typeof e.userId&&(this._userId=e.userId),e.hasOwnProperty("sessionId")&&"string"==typeof e.sessionId&&(this._sessionId=e.sessionId),e.hasOwnProperty("audience")&&(this._audience=+e.audience),e.hasOwnProperty("clientSideMetrics")&&(this._clientSideMetrics=+e.clientSideMetrics),e.hasOwnProperty("disableAdPlacementDiscovery")&&(this._disableAdPlacementDiscovery=+e.disableAdPlacementDiscovery),e.hasOwnProperty("disableGptCuration")&&(this._disableGptCuration=+e.disableGptCuration),e.hasOwnProperty("collectPlacementHistory")&&(this._collectPlacementHistory=+e.collectPlacementHistory),e.hasOwnProperty("collectAdvertiserDomains")&&(this._collectAdvertiserDomains=+e.collectAdvertiserDomains),e.hasOwnProperty("enableSegtaxFetch")&&(this._enableSegtaxFetch=+e.enableSegtaxFetch),e.hasOwnProperty("curationRules")&&Array.isArray(e.curationRules)&&(this._curationRules=e.curationRules),e.hasOwnProperty("placementStats")&&(this._placementStats=e.placementStats)}};function N(e){var t=new XMLHttpRequest,n="metrics.rapidedge.io";if(-1===n.indexOf("EXCEPTION_STORE_HOSTNAME")){var i="https://"+n+"/error/ingest",r={message:e.message,stack:e.stack},a=JSON.stringify(r);t.open("POST",i,!0),t.setRequestHeader("Content-Type","application/json"),t.send(a)}}let C=null;const L="\n    :host {\n        all: initial;\n        display: block;\n        pointer-events: none;\n    }\n    \n    .row-grid-root {\n        font-family: 'Roboto', 'Arial', sans-serif;\n        font-size: 12px;\n        line-height: 1.4;\n        color: white;\n        -webkit-font-smoothing: antialiased;\n        box-sizing: border-box;\n    }\n    \n    .row-grid-root *, \n    .row-grid-root *::before, \n    .row-grid-root *::after {\n        box-sizing: border-box;\n    }\n    \n    .row-grid-container {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        pointer-events: none;\n        z-index: 9999;\n    }\n    \n    .row-grid-line {\n        position: absolute;\n        left: 0;\n        width: 100%;\n        height: 0;\n        border-top: 1px dashed red;\n        box-sizing: border-box;\n    }\n    \n    .row-grid-label {\n        position: absolute;\n        left: 0;\n        background-color: rgba(255, 0, 0, 0.5);\n        color: white;\n        font-size: 12px;\n        padding: 2px 4px;\n        pointer-events: none;\n    }\n    \n    .row-grid-overlay {\n        position: fixed;\n        border: 2px solid blue;\n        background-color: rgba(0, 0, 255, 0.1);\n        pointer-events: none;\n        z-index: 9999;\n    }\n    \n    .row-grid-info-label {\n        position: absolute;\n        top: 0;\n        left: 0;\n        background-color: rgba(0, 0, 255, 0.8);\n        color: white;\n        font-size: 12px;\n        padding: 4px;\n        max-width: 100%;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: pre-wrap;\n    }\n";function O(e){if(!document||!document.body)return void c.debug("document.body not found, skipping row grid drawing");if(!C){C=document.createElement("div"),C.id="row-grid-shadow-host",document.body.appendChild(C);const e=C.attachShadow({mode:"open"}),t=document.createElement("style");t.textContent=L,e.appendChild(t);const n=document.createElement("div");n.className="row-grid-root",e.appendChild(n)}const t=C.shadowRoot.querySelector(".row-grid-root");t.innerHTML="";const n=document.createElement("div");n.className="row-grid-container",n.style.height=`${document.body.scrollHeight}px`;const i=window.innerHeight,r=i/d,a=Math.ceil(document.body.scrollHeight/r);for(let e=0;e<=a;e++){const t=e*r,a=Math.floor(t/i)+1,s=document.createElement("div");s.className="row-grid-line",s.style.top=`${t}px`;const o=document.createElement("div");o.className="row-grid-label",o.style.top=`${t}px`,o.textContent=`Row ${a}-${e%d+1}`,n.appendChild(s),n.appendChild(o)}const s=E();e.forEach((e=>{const n=document.getElementById(e.divId);if(!n)return;const i=n.getBoundingClientRect(),r=document.createElement("div");r.className="row-grid-overlay",r.style.top=`${i.top}px`,r.style.left=`${i.left}px`,r.style.width=`${i.width}px`,r.style.height=`${i.height}px`;const a=document.createElement("div");if(a.className="row-grid-info-label",a.textContent=`ID: ${e.universalPlacementId}\nCOORD: ${e.coordinates}\nDIV: ${e.divId}\nGPID: ${e.gpid}`,e.attentionState){let t=e.attentionState.pastTimeInViewport;e.attentionState.isVisible&&(t+=s-e.attentionState.lastEnteredViewport),a.textContent+=`\nATT: ${t}`,a.textContent+=`\nisVisible: ${e.attentionState.isVisible}`}if(e.sovValues&&e.sovValues.length>0){const t=e.sovValues.reduce(((e,t)=>e+t),0)/e.sovValues.length;a.textContent+=`\nSOV (avg): ${(100*t).toFixed(1)}%`}r.appendChild(a),t.appendChild(r)})),t.appendChild(n)}const M={};function x(e,t){e&&"string"==typeof e?t&&"function"==typeof t?(M[e]=M[e]||[],M[e].push(t)):c.error(`Invalid handler: ${t}`):c.error(`Invalid event name: ${e}`)}function k(e,t){e&&"string"==typeof e?M[e]&&M[e].forEach((e=>{try{e(t)}catch(e){c.error(`Error in event handler: ${e}`)}})):c.error(`Invalid event name: ${e}`)}const $=window.IntersectionObserver&&window.IntersectionObserverEntry&&window.IntersectionObserverEntry.prototype&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,V=["banner"];let j=e=>V.indexOf(e.mediaType)>-1;const B=e=>"adsense"===e.viewabilityTracker?{root:null,rootMargin:"0px",threshold:.5}:{root:null,rootMargin:"0px",threshold:e.pbjsBid.width*e.pbjsBid.height>242e3?.3:.5},U={},G={};function W(e){const t=U[e.universalPlacementId];t&&(t.disconnect(),delete U[e.universalPlacementId]),G[e.universalPlacementId]&&(clearTimeout(G[e.universalPlacementId]),delete G[e.universalPlacementId])}const F=e=>(t,n)=>{t.forEach((t=>{U[e.universalPlacementId]===n&&(t.isIntersecting?(c.debug(`viewable timer starting for element: ${t.target.getAttribute("id")} placement: ${e.universalPlacementId}`),G[e.universalPlacementId]=setTimeout((()=>{n.unobserve(t.target),W(e),c.debug(`element: ${t.target.getAttribute("id")} placement: ${e.universalPlacementId} was viewed`),e.history.push({timestamp:E(),type:r.AD_PLACEMENT_VIEWABLE}),k(r.AD_PLACEMENT_VIEWABLE,e),e.viewabilityTracker=null}),1e3)):(c.debug(`element: ${t.target.getAttribute("id")} placement: ${e.universalPlacementId} is out of view`),G[e.universalPlacementId]&&(clearTimeout(G[e.universalPlacementId]),delete G[e.universalPlacementId],c.debug(`viewable timer stopped for element: ${t.target.getAttribute("id")} placement: ${e.universalPlacementId}`))))}))};function H(e){if(!$||!e)return;if(!("pbjs"!==e.viewabilityTracker||e.pbjsBid&&j(e.pbjsBid)))return void W(e);W(e);const t=new IntersectionObserver(F(e),B(e)),n=document.getElementById(e.divId);n?(t.observe(n),U[e.universalPlacementId]=t):c.error(`element: ${e.divId} not found`)}const J=()=>({root:null,rootMargin:"0px",threshold:.5});let q=null;function z(){return new IntersectionObserver(((e,t)=>{const n=E();e.forEach((e=>{if(e.isIntersecting){const t=e.target.getAttribute("id");if(!t)return void c.error("attentionIO: tracked element has no id");const i=X[t];if(!i)return void c.error(`attentionIO: adPlacement not found for element: ${t}`);i.attentionState.isVisible=!0,i.attentionState.lastEnteredViewport=n}else{const t=e.target.getAttribute("id");if(!t)return void c.error("attentionIO: tracked element has no id");const i=X[t];if(!i)return void c.error(`attentionIO: adPlacement not found for element: ${t}`);i.attentionState.isVisible&&(i.attentionState.pastTimeInViewport+=n-i.attentionState.lastEnteredViewport),i.attentionState.isVisible=!1,i.attentionState.lastExitedViewport=n}}));let i=0;for(const[e,t]of Object.entries(X))t.attentionState.isVisible&&i++;i>0&&k(r.SESSION_AD_PLACEMENTS_VISIBLE,{count:i})}),J())}const X={},K={};let Y={};function Q(e){if(!$||!e)return;if(!q)return void(X[e.divId]||(Y[e.divId]=e));if(K[e.divId]){if(e.attentionState&&e.attentionState.isVisible){const t=E();e.attentionState.pastTimeInViewport+=t-e.attentionState.lastEnteredViewport,e.attentionState.lastEnteredViewport=t,e.attentionState.lastExitedViewport=t}q.unobserve(K[e.divId]),delete K[e.divId],delete X[e.divId]}const t=document.getElementById(e.divId);t?(e.attentionState=e.attentionState||{isVisible:!1,pastTimeInViewport:0,lastEnteredViewport:0,lastExitedViewport:0},X[e.divId]=e,K[e.divId]=t,q.observe(t)):c.error(`attentionIO: element ${e.divId} not found`)}function Z(e){if(!e)return 0;const t=e.getBoundingClientRect(),n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=Math.max(t.left,0),a=Math.min(t.right,n),s=Math.max(0,a-r),o=Math.max(t.top,0),d=Math.min(t.bottom,i);return s*Math.max(0,d-o)}let ee=!1;const te=[],ne={};function ie(){return te}function re(){return ne}const ae={},se={};let oe={};function de(e,t){const n=fe(e);if(!n)return;const i=E();n.pbjsRenderTS=i,n.pbjsBid=t,n.clicked=!1,n.history.push({timestamp:i,type:r.AD_PLACEMENT_PBJS_RENDERED,data:{adUnitCode:e.code,bidder:t.bidder,cpm:t.cpm}}),k(r.AD_PLACEMENT_PBJS_RENDERED,n),(!n.gtagRenderTS||n.gtagRenderTS<i-5)&&(n.renders++,k(r.AD_PLACEMENT_RENDERED,n),Q(n)),(!n.viewabilityTracker||"gpt"!==n.viewabilityTracker||n.gtagSlotRequestedTS&&n.gtagSlotRequestedTS<i-5)&&(n.viewabilityTracker="pbjs",H(n))}function ce(e){const t=e.adUnits;if(!t||!Array.isArray(t))return;const n={};t.forEach((e=>{if(n[e.code])return;n[e.code]=!0;const t=fe(e);t&&k(r.AD_PLACEMENT_PBJS_AUCTION_INIT,t)}))}function le(e){if(!A(e))return void c.error("adUnitPlacements is not a plain object, skipping");const t=[];Object.keys(e).forEach((n=>{const i=e[n];if(i&&"string"==typeof i){ae[n]=i;try{for(let e=0;e<te.length;e++){const t=te[e];if(t.divId===i)return void(ne[n]=t)}const e=me(i,"",!1);if(!e)return;t.push(e),ne[n]=e}catch(e){c.error(`while adding ad unit placement ${n}->${i}: ${e}`)}}})),pe(t)}function ue(){if(!ee)return void c.debug("googletag not loaded yet, skipping ad slot discovery");let e=[];try{e=window.googletag.pubads().getSlots()}catch(e){c.error(`while getting slots: ${e}`)}const t=[];e.forEach((e=>{try{const n=e.getSlotElementId(),i=e.getAdUnitPath(),r=function(e){try{return!0===e.getOutOfPage()}catch(e){c.error(`error checking if slot is out of page: ${e}`)}return!1}(e);for(let e=0;e<te.length;e++){const t=te[e];if(t.divId===n)return void(t.gpid&&t.gpid===i||(c.debug(`updating gpid for placement ${n} from ${t.gpid} to ${i}`),t.gpid=i))}const a=me(n,i,r);if(!a)return;t.push(a)}catch(e){c.error(`while discovering new ad slot: ${e}`)}})),pe(t)}function ge(){ue(),le(_(ae))}function me(e,t,n=!1){const i=document.getElementById(e);if(!i)return void c.debug(`adDiv not found for elementId ${e}, skipping placement creation`);const a=i.getBoundingClientRect(),s=a.top+u(),o=m();if(0===o)return void c.error("viewportHeight is 0, skipping placement creation");const l=o/d;let g=Math.floor(s/l)%d+1,p=Math.floor(s/o)+1;return s===o&&(p=1,g=d),n&&(p=0,g=Math.floor(s/l)+1),{divId:e,gpid:t,row:g,viewport:p,div:i,x:window.scrollX+a.left,y:s,history:[{timestamp:E(),type:r.AD_PLACEMENT_FOUND}],renders:0}}function pe(e){if(!e||0===e.length)return;e.sort(((e,t)=>{switch(!0){case e.viewport<t.viewport:return-1;case e.viewport>t.viewport:return 1;case e.row<t.row:return-1;case e.row>t.row:return 1;case e.div===t.div:return 0;case e.div.compareDocumentPosition(t.div)&Node.DOCUMENT_POSITION_FOLLOWING:return-1;default:return 1}}));let t=0,n=null,i=null;e.forEach((e=>{e.viewport===n&&e.row===i||(n=e.viewport,i=e.row,t=0,te.forEach((n=>{n.viewport===e.viewport&&n.row===e.row&&(t=Math.max(t,n.position))}))),t++,e.position=t,e.coordinates=`${e.viewport}-${e.row}-${e.position}`,e.universalPlacementId=btoa(e.coordinates).replace(/=/g,""),e.stats=oe[e.universalPlacementId]||null,delete e.div})),e.length>0&&(c.debug(`added ${e.length} new ad placements`),te.push(...e),e.forEach((e=>{k(r.AD_PLACEMENT_FOUND,e)})))}function he(){const e=[];return window._pbjsGlobals&&Array.isArray(window._pbjsGlobals)?(window._pbjsGlobals.forEach((t=>{const n=window[t]&&window[t].adUnits||[];Array.isArray(n)&&n.length>0&&e.push(...n)})),e):e}function fe(e){if(!e||!e.code)return null;const t=ie(),n=re()[e.code];if(n)return n;for(const n of t)if(e.code===n.divId)return n;for(const n of t){if(!n.gpid)continue;const t=y(e,"ortb2Imp.ext.gpid");if(e.code===n.gpid||t===n.gpid)return n}return null}function Ee(e){if(!e||"function"!=typeof e.getSlotElementId||"function"!=typeof e.getAdUnitPath)return null;const t=e.getSlotElementId(),n=e.getAdUnitPath(),i=ie();for(const e of i)if(t===e.divId&&n===e.gpid)return e;for(const e of i)if(t===e.divId)return e;return null}let ve,we=0,be=0;function _e(){if(!document||!document.activeElement||"IFRAME"!==document.activeElement.nodeName)return;if(we>be)return;const e=ie();let t=document.activeElement;for(let n=0;n<3&&(t=t.parentNode,t);n++){if(!t.id)continue;const n=e.filter((e=>e.divId&&e.divId===t.id));if(!n.length)continue;let i=0,a=null;if(n.forEach((e=>{e.gtagRenderTS&&e.gtagRenderTS>i&&(i=e.gtagRenderTS,a=e),e.pbjsRenderTS&&e.pbjsRenderTS>i&&(i=e.pbjsRenderTS,a=e)})),!a)break;if(a.clicked)break;let s=!1;for(let e=a.history.length-1;e>=0;e--){const t=a.history[e];if(t.type===r.AD_PLACEMENT_VIEWABLE){s=!0;break}if(t.type===r.AD_PLACEMENT_GTAG_RENDERED||t.type===r.AD_PLACEMENT_PBJS_RENDERED||t.type===r.AD_PLACEMENT_ADSENSE_RENDERED)break}if(!s)break;if(a.clicked=!0,a.history.push({timestamp:E(),type:r.AD_PLACEMENT_CLICKED}),k(r.AD_PLACEMENT_CLICKED,a),ye(a),!a.pbjsBid)break;const{pbjsRenderTS:o,gtagRenderTS:d,gtagSlotRequestedTS:c,pbjsBid:l}=a;o&&(!d||o>=d||c&&o>=c)&&k(r.PBJS_BID_CLICKED,l);break}}function ye(e){try{const t=document.activeElement;c.debug(`gamera-click activeElement id: ${t.id}`),c.debug(`gamera-click placement id: ${e.universalPlacementId} divId: ${e.divId}`);const n=t.getBoundingClientRect();c.debug(`gamera-click iframe dimensions: ${n.width}x${n.height}`),c.debug(`gamera-click iframe coordinates: ${n.top},${n.left}`);const i=document.getElementById(e.divId).getBoundingClientRect();c.debug(`gamera-click divElement dimensions: ${i.width}x${i.height}`),c.debug(`gamera-click divElement coordinates: ${i.top},${i.left}`)}catch(e){c.error("error logging ad click",e)}}class Se{constructor(){this.url=window.location.href,this.referrer=window.document.referrer||"",this.referrerParams=function(){const e={};try{const t=h("_fbc"),n=h("_fbp");t&&(e.fbc=t),n&&(e.fbp=n)}catch(e){}return e}(),this.viewportSize=[g(),m()],this.domain=void 0,this.partner=void 0,this.dimensions=void 0,this.metrics=void 0,this.userId=void 0,this.sessionId=void 0,this.webMetrics={},this.meta=void 0;try{this.meta=JSON.parse(atob("eyJkZXZpY2UiOnsidHlwZSI6ImRlc2t0b3AifSwiZ2VvIjp7ImNvdW50cnkiOiJVUyJ9fQ=="))}catch(e){}this.events={pages:[],custom:[]},this._startedEmitting=!1,this._startTs=E(),this._lastSeen=this._startTs,this.processNewPage();const e=e=>{const t=e.universalPlacementId,n=this.events.pages[this.events.pages.length-1];return n.adPlacements[t]=n.adPlacements[t]||{},R.collectPlacementHistory&&(n.adPlacements[t].history=e.history),n._send=!0,n.adPlacements[t]};x(r.AD_PLACEMENT_FOUND,(t=>{e(t)})),x(r.AD_PLACEMENT_GTAG_RENDERED,(t=>{const n=e(t);n.gtagRenders=n.gtagRenders||0,n.gtagRenders++})),x(r.AD_PLACEMENT_PBJS_RENDERED,(t=>{const n=e(t);n.pbjsRenders=n.pbjsRenders||0,n.pbjsRenders++,R.collectPbjsSummary&&(n.pbjsSummary=n.pbjsSummary||{},n.pbjsSummary.wins=n.pbjsSummary.wins||0,n.pbjsSummary.wins++,n.pbjsSummary.totalCPM=n.pbjsSummary.totalCPM||0,n.pbjsSummary.totalCPM+=t.pbjsBid.cpm)})),x(r.AD_PLACEMENT_ADSENSE_RENDERED,(t=>{const n=e(t);n.adSenseRenders=n.adSenseRenders||0,n.adSenseRenders++;let i=0,r="USD";try{const e=function(e){const t=he(),n=re();let i=null;for(const[r,a]of Object.entries(n))if(a.universalPlacementId===e.universalPlacementId){i=t.find((e=>e.code===r));break}return i||(i=t.find((t=>t.code===e.divId)),i||!e.gpid||(i=t.find((t=>t.code===e.gpid||y(t,"ortb2Imp.ext.gpid")===e.gpid))),i)}(t);if(e){const t=function(e){if(!e||!window._pbjsGlobals||!Array.isArray(window._pbjsGlobals))return null;for(const t of window._pbjsGlobals)if(window[t]&&window[t].adUnits&&window[t].adUnits.find((t=>t===e)))return window[t];return null}(e);if(t){const n=t.getHighestUnusedBidResponseForAdUnitCode(e.code);n&&n.cpm&&n.currency&&(i=n.cpm,r=n.currency)}}}catch(e){logger.error(`Error getting prebid ad unit for placement ${t.universalPlacementId}: ${e}`)}const a=(i+.01)/1e3;this.addPageRevenue({type:"adsense",revenue:a,currency:r})})),x(r.AD_PLACEMENT_PBJS_AUCTION_INIT,(t=>{if(!R.collectPbjsSummary)return;const n=e(t);n.pbjsSummary=n.pbjsSummary||{},n.pbjsSummary.auctions=n.pbjsSummary.auctions||0,n.pbjsSummary.auctions++})),x(r.AD_PLACEMENT_RENDERED,(t=>{const n=e(t);n.renders=n.renders||0,n.renders++;const i=t.renders;if(i<2)return;let a=null,s=null;for(let e=0;e<t.history.length;e++){const n=t.history[e];if(n.type===r.AD_PLACEMENT_GTAG_RENDERED||n.type===r.AD_PLACEMENT_PBJS_RENDERED||n.type===r.AD_PLACEMENT_ADSENSE_RENDERED){a=n;break}}for(let e=t.history.length-1;e>=0;e--){const n=t.history[e];if(n.type===r.AD_PLACEMENT_GTAG_RENDERED||n.type===r.AD_PLACEMENT_PBJS_RENDERED||n.type===r.AD_PLACEMENT_ADSENSE_RENDERED){s=n;break}}if(!a||!s||a===s)return;const o=s.timestamp-a.timestamp;n.refreshInterval=o/(i-1)})),x(r.AD_PLACEMENT_CLICKED,(t=>{const n=e(t);n.clicks=n.clicks||0,n.clicks++})),x(r.AD_PLACEMENT_VIEWABLE,(t=>{const n=e(t);n.viewable=n.viewable||0,n.viewable++;const i=function(e){if(!e||!e.divId)return c.error("calculatePlacementSOV: invalid targetPlacement"),0;const t=document.getElementById(e.divId);if(!t)return c.error(`calculatePlacementSOV: element not found for divId ${e.divId}`),0;const n=Z(t);if(0===n)return c.debug(`calculatePlacementSOV: target placement ${e.universalPlacementId} has no visible area`),0;const i=ie();let r=0;if(i.forEach((e=>{if(e.renders<=0)return;const t=document.getElementById(e.divId);if(!t)return;const n=Z(t);n>0&&(r+=n)})),0===r)return c.debug("calculatePlacementSOV: total ads visible area is 0"),0;const a=n/r;return c.debug(`calculatePlacementSOV: placement ${e.universalPlacementId} SOV=${a.toFixed(4)} (${n}px / ${r}px)`),a}(t);i>0&&(t.sovValues=t.sovValues||[],t.sovValues.push(i));const{pbjsRenderTS:r,gtagRenderTS:a,gtagSlotRequestedTS:s}=t;r&&(!a||r>=a||s&&r>=s)&&this.addWinningBidViewable(t.pbjsBid)})),x(r.SESSION_AD_PLACEMENTS_VISIBLE,(e=>{const t=this.events.pages[this.events.pages.length-1];t.maxAdPlacementsVisible=Math.max(t.maxAdPlacementsVisible||0,e.count)})),x(r.GAM_AD_REQUESTED,(e=>{if(e&&e.gameraId&&e.gameraId.length>0){let t={};e.gameraId.forEach((e=>{t[`signals_${e}_gam`]=1})),this.addPageObservabilityMetrics(t,!0)}}))}addDimensions(e){this.dimensions||(this.dimensions={}),Object.keys(e).forEach((t=>{const n=t.trim();if(""===n||-1!==n.indexOf(":"))return;const i=e[t];if("string"!=typeof i&&"number"!=typeof i&&"boolean"!=typeof i)return;const r=this.dimensions[n]||[];i.toString().split(",").forEach((e=>{const t=e.trim();""!==t&&-1===r.indexOf(t)&&r.push(t)})),r.length&&(this.dimensions[n]=r)}));const t=this.events.pages[this.events.pages.length-1];return t._send=!0,t}calculateAdPlacementsAttention(e){const t=E(),n=ie(),i={};n.forEach((e=>{i[e.universalPlacementId]=e})),Object.keys(e.adPlacements).forEach((n=>{const r=e.adPlacements[n],a=i[n];if(!a||!a.attentionState)return;let s=a.attentionState.pastTimeInViewport||0;a.attentionState.isVisible&&(s+=t-a.attentionState.lastEnteredViewport),r.att=s}))}calculateAdPlacementsSOV(e){const t=ie(),n={};t.forEach((e=>{n[e.universalPlacementId]=e})),Object.keys(e.adPlacements).forEach((t=>{const i=e.adPlacements[t],r=n[t];if(!r||!r.sovValues||0===r.sovValues.length)return;const a=r.sovValues.reduce(((e,t)=>e+t),0)/r.sovValues.length;i.sov=Math.round(1e4*a)/1e4}))}addMetrics(e){this.metrics||(this.metrics={}),Object.keys(e).forEach((t=>{const n=t.trim();if(""===n)return;const i=e[t];"number"==typeof i&&(this.metrics[n]=i)}));const t=this.events.pages[this.events.pages.length-1];return t._send=!0,t}setDomain(e){"string"==typeof e&&e.length>0&&(this.domain=e.toLowerCase())}setPartner(e){"string"==typeof e&&e.length>0&&(this.partner=e.toLowerCase())}setUserId(e){this.userId=e}getUserId(){return this.userId}getMeta(){return this.meta}getCurrentPage(){return this.events.pages.length?this.events.pages[this.events.pages.length-1]:void 0}setSessionId(e){this.sessionId=e}sync(){const e=E();if(e===this._lastSeen)return;e-this._lastSeen>=1800||e-this._startTs>=28800?this._reset():this._lastSeen=e;const t=this.events.pages.length?this.events.pages[this.events.pages.length-1]:void 0;t&&e-t._ts>=14400&&this.processNewPage(!0)}processNewPage(e=!1){const t=window.location.pathname,n=this.events.pages.length?this.events.pages[this.events.pages.length-1]:void 0;if(!e&&n&&n.page===t)return;const i=E(),a=v();n&&(this.calculateAdPlacementsAttention(n),this.calculateAdPlacementsSOV(n),n.tPage=i-n._ts,n._send=!0,n._engagementState._isEngaged&&(n._engagementState._pDuration+=a-n._engagementState._pStart),n._engagementState._isEngaged=!1);const s=u(),o=s+this.viewportSize[1],d={page:t,pvid:p(),scrollDepth:1,ads:{},rev:{},adBids:{},observability:{},adPlacements:{},tPage:0,webMetrics:Object.assign({},this.webMetrics),_ts:i,_yStart:s,_yEnd:o,_send:!0,_engagementState:{_pStart:a,_pDuration:0,_isEngaged:"visible"===document.visibilityState}};return this.events.pages.push(d),k(r.SESSION_NEW_PAGE,{page:d}),d}updatePageScroll(){const e=this.events.pages[this.events.pages.length-1];e._send=!0;const t=u(),n=this.viewportSize[1];return e._yEnd>=t+n||(e._yEnd=t+n,e.scrollDepth=+((e._yEnd-e._yStart)/n).toFixed(2)),e}keepPageAlive(){const e=this.events.pages[this.events.pages.length-1];return e._send=!0,e}updateWebMetrics(e){if(!e||!e.name||"string"!=typeof e.name)return;const t=e.name.toLowerCase(),n=Math.round(1e3*e.value)/1e3;if(this.webMetrics[t]===n)return;this.webMetrics[t]=n;const i=this.events.pages[this.events.pages.length-1];return i.webMetrics=Object.assign({},this.webMetrics),i._send=!0,k(r.WEB_VITALS_CHANGED,{name:t,value:n}),i}processNewAdEvent(e){const t=this.events.pages[this.events.pages.length-1];if("gam"===e.src){{const n=t.ads[e.nid]||{},i=n[e.lid]||0;n[e.lid]=i+1,t.ads[e.nid]=n}return t._send=!0,t}}addPageRevenue(e){const t=this.events.pages[this.events.pages.length-1],n=t.rev[e.type]||[],i=n.find((t=>t.currency===e.currency));return i?(i.revenue+=+e.revenue,i.count++):n.push({currency:e.currency,revenue:+e.revenue,count:1}),t.rev[e.type]=n,t._send=!0,k(r.SESSION_PAGE_REVENUE_ADDED,{data:e}),t}processNewCustomEvent(e,t){const n={id:p(),name:e,params:t,page:window.location.pathname,_send:!0};return this.events.custom.push(n),n}addWinningBid(e){if(!R.collectAdvertiserDomains)return;if(!e||!e.meta||!Array.isArray(e.meta.advertiserDomains))return;const t=e.meta.advertiserDomains.join(","),n=this.events.pages[this.events.pages.length-1];if(!n.adBids[t]&&Object.keys(n.adBids).length>=30)return;const i=n.adBids[t]||{imps:0,rev:0};return i.imps+=1,i.rev+=+e.cpm/1e3,n.adBids[t]=i,n._send=!0,n}addWinningBidClick(e){if(!R.collectAdvertiserDomains)return;if(!e||!e.meta||!Array.isArray(e.meta.advertiserDomains))return;const t=e.meta.advertiserDomains.join(","),n=this.events.pages[this.events.pages.length-1];if(!n.adBids[t]&&Object.keys(n.adBids).length>=30)return;const i=n.adBids[t]||{clicks:0};return i.clicks=i.clicks||0,i.clicks+=1,n.adBids[t]=i,n._send=!0,n}addWinningBidViewable(e){if(!R.collectAdvertiserDomains)return;if(!e||!e.meta||!Array.isArray(e.meta.advertiserDomains))return;const t=e.meta.advertiserDomains.join(","),n=this.events.pages[this.events.pages.length-1];if(!n.adBids[t]&&Object.keys(n.adBids).length>=30)return;const i=n.adBids[t]||{viewable:0};return i.viewable=i.viewable||0,i.viewable+=1,n.adBids[t]=i,n._send=!0,n}_getSessionPayload(){const e=E(),t=v(),n={url:this.url,referrer:this.referrer,referrerParams:this.referrerParams,viewportSize:this.viewportSize,domain:this.domain,partner:this.partner,dimensions:this.dimensions,metrics:this.metrics,userId:this.userId,sessionId:this.sessionId,events:{},meta:this.meta,elapsed:e-this._startTs,cts:e},i=[];for(let n=0,r=this.events.pages.length;n<r;n++){const a=this.events.pages[n];if(!a._send)continue;let s=a._engagementState._pDuration;n===r-1&&(a.tPage=e-a._ts,this.calculateAdPlacementsAttention(a),this.calculateAdPlacementsSOV(a),a._engagementState._isEngaged&&(s+=t-a._engagementState._pStart)),i.push({page:a.page,pvid:a.pvid,scrollDepth:a.scrollDepth,ads:a.ads,rev:a.rev,adBids:a.adBids,tPage:a.tPage,eng:Math.floor(s),webMetrics:a.webMetrics,observability:a.observability,adPlacements:a.adPlacements,adDensity:a.maxAdPlacementsVisible})}i.length&&(n.events.pages=i);const r=[];for(const e of this.events.custom)e._send&&r.push({id:e.id,name:e.name,params:e.params,page:e.page});return r.length&&(n.events.custom=r),n}_sendPayload(e){const t=this._getSessionPayload();if(Object.keys(t.events).length){e?navigator.sendBeacon(R.endpoint,JSON.stringify(t)):fetch(R.endpoint,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"text/plain"},body:JSON.stringify(t),keepalive:!0}).then((e=>{})).catch((e=>{const n={};for(const e of t.events.pages||[])n[e.pvid]=!0;for(const e of t.events.custom||[])n[e.id]=!0;for(const e of this.events.pages)n[e.pvid]&&(e._send=!0);for(const e of this.events.custom)n[e.id]&&(e._send=!0)}));for(const e of this.events.pages)e._send=!1;for(const e of this.events.custom)e._send=!1}}startEmitting(){this._startedEmitting||(this._startedEmitting=!0,window.setInterval((()=>{this._sendPayload(!1)}),6e5),document.addEventListener("visibilitychange",(()=>{let e;this.events.pages.length&&(e=this.events.pages[this.events.pages.length-1]),"hidden"===document.visibilityState?(e&&e._engagementState._isEngaged&&(e._engagementState._pDuration+=v()-e._engagementState._pStart,e._engagementState._isEngaged=!1),this._sendPayload(!0)):e&&(e._engagementState._isEngaged=!0,e._engagementState._pStart=v())})))}_reset(){this.events={pages:[],custom:[]},this.sessionId=void 0,this._startTs=E(),this._lastSeen=this._startTs,k(r.SESSION_RESET),this.processNewPage()}hasStartedEmitting(){return this._startedEmitting}addPageObservability(e){const t=this.events.pages[this.events.pages.length-1];return t.observability=P(t.observability,e),t._send=!0,t}addPageObservabilityMetrics(e,t=!1){const n=this.events.pages[this.events.pages.length-1];return n.observability.metrics=n.observability.metrics||{},Object.keys(e).forEach((i=>{const r=e[i];"number"==typeof r&&(n.observability.metrics[i]=t?(n.observability.metrics[i]||0)+r:r)})),n._send=!0,n}}function Ae(){return ve||(ve=new Se),ve}var Ie,Pe=-1,De=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Pe=t.timeStamp,e(t))}),!0)},Te=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},Re=function(){var e=Te();return e&&e.activationStart||0},Ne=function(e,t){var n=Te(),i="navigate";return Pe>=0?i="back-forward-cache":n&&(document.prerendering||Re()>0?i="prerender":document.wasDiscarded?i="restore":n.type&&(i=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},Ce=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch(e){}},Le=function(e,t,n,i){var r,a;return function(s){t.value>=0&&(s||i)&&((a=t.value-(r||0))||void 0===r)&&(r=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},Oe=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},Me=function(e){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e()}))},xe=function(e){var t=!1;return function(){t||(e(),t=!0)}},ke=-1,$e=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Ve=function(e){"hidden"===document.visibilityState&&ke>-1&&(ke="visibilitychange"===e.type?e.timeStamp:0,Be())},je=function(){addEventListener("visibilitychange",Ve,!0),addEventListener("prerenderingchange",Ve,!0)},Be=function(){removeEventListener("visibilitychange",Ve,!0),removeEventListener("prerenderingchange",Ve,!0)},Ue=function(){return ke<0&&(ke=$e(),je(),De((function(){setTimeout((function(){ke=$e(),je()}),0)}))),{get firstHiddenTime(){return ke}}},Ge=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},We=[1800,3e3],Fe=function(e,t){t=t||{},Ge((function(){var n,i=Ue(),r=Ne("FCP"),a=Ce("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(a.disconnect(),e.startTime<i.firstHiddenTime&&(r.value=Math.max(e.startTime-Re(),0),r.entries.push(e),n(!0)))}))}));a&&(n=Le(e,r,We,t.reportAllChanges),De((function(i){r=Ne("FCP"),n=Le(e,r,We,t.reportAllChanges),Oe((function(){r.value=performance.now()-i.timeStamp,n(!0)}))})))}))},He=[.1,.25],Je=0,qe=1/0,ze=0,Xe=function(e){e.forEach((function(e){e.interactionId&&(qe=Math.min(qe,e.interactionId),ze=Math.max(ze,e.interactionId),Je=ze?(ze-qe)/7+1:0)}))},Ke=function(){"interactionCount"in performance||Ie||(Ie=Ce("event",Xe,{type:"event",buffered:!0,durationThreshold:0}))},Ye=[],Qe=new Map,Ze=0,et=function(){return(Ie?Je:performance.interactionCount||0)-Ze},tt=[],nt=function(e){if(tt.forEach((function(t){return t(e)})),e.interactionId||"first-input"===e.entryType){var t=Ye[Ye.length-1],n=Qe.get(e.interactionId);if(n||Ye.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};Qe.set(i.id,i),Ye.push(i)}Ye.sort((function(e,t){return t.latency-e.latency})),Ye.length>10&&Ye.splice(10).forEach((function(e){return Qe.delete(e.id)}))}}},it=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=xe(e),"hidden"===document.visibilityState?e():(n=t(e),Me(e)),n},rt=[200,500],at=[2500,4e3],st={},ot=[800,1800],dt=function e(t){document.prerendering?Ge((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},ct=function(e,t){t=t||{};var n=Ne("TTFB"),i=Le(e,n,ot,t.reportAllChanges);dt((function(){var r=Te();r&&(n.value=Math.max(r.responseStart-Re(),0),n.entries=[r],i(!0),De((function(){n=Ne("TTFB",0),(i=Le(e,n,ot,t.reportAllChanges))(!0)})))}))};new Date;const lt=E();function ut(e){return ie().filter((t=>t.viewport===e)).length}const gt=[],mt=[];let pt=0;function ht(e){return"function"==typeof e&&gt.push(e),vt().onpage||[]}function ft(e,t,n){function i(e){const t=he(),n=ht();return t.forEach((t=>{const i=fe(t);if(i&&i.universalPlacementId){e.adUnits=e.adUnits||{},e.adUnits[t.code]=e.adUnits[t.code]||{};const r={ext:{data:{gameraPlacementId:i.universalPlacementId}}},a=Et(i,n,"pbjs");a&&a.length>0&&(r.ext.data.gameraId=a),P(e.adUnits[t.code],r)}})),e}return R.disableAdPlacementDiscovery||ge(),"function"==typeof e&&mt.push((t=>{e(i(t))})),i(vt().pb||{})}function Et(e,t,n){return e&&e.universalPlacementId?function(e,t,n){const i=t||[],r=R.curationRules||[],a=E();return r.filter((t=>{const r=!!t.inverted;let s=t.target||["pbjs"];return Array.isArray(s)||(s=[s]),!!s.includes(n)&&(t.segmentsInclusion&&Array.isArray(t.segmentsInclusion)&&t.segmentsInclusion.length>0&&r===i.some((e=>t.segmentsInclusion.includes(e)))?r:!(t.segmentsExclusion&&Array.isArray(t.segmentsExclusion)&&t.segmentsExclusion.length>0&&i.some((e=>t.segmentsExclusion.includes(e))))&&(t.placementIds&&Array.isArray(t.placementIds)&&-1===t.placementIds.indexOf(e.universalPlacementId)||t.maxRenderSequence&&e.renders>=t.maxRenderSequence||t.maxViewportAdDensity&&ut(e.viewport)>t.maxViewportAdDensity||t.maxTimeOnPage&&(a-lt>t.maxTimeOnPage||a-lt<0)?r:!r))})).map((e=>e.id))}(e,t,n):null}function vt(){try{let e=h("gamera_segtax");if(!e)return wt(),{};const t=JSON.parse(e),n=E();return Math.abs(n-t.ts)>3600&&wt(),t.data}catch(e){c.error(`while getting gamera_segtax: ${e}`)}return{}}function wt(){if(!R.audience)return void c.warn("trying to fetch gamera segtax without audience feature being ON!");if(!R.enableSegtaxFetch)return void c.info("skipping segtax fetch, enableSegtaxFetch is OFF!");const e=E();if(!(e-pt<600)){pt=e;try{let e=[],t=Ae().getUserId()||h("gamera_user_id");t&&e.push(`uid=${encodeURIComponent(t)}`),e.push(`domain=${encodeURIComponent(R.domain||window.location.hostname)}`),e.push(`path=${encodeURIComponent(window.location.pathname)}`),R.partner&&e.push(`partner=${encodeURIComponent(R.partner)}`),fetch(`${R.endpoint}?${e.join("&")}`,{method:"GET",headers:{Accept:"application/json, text/plain, */*"}}).then((e=>{if(!e.ok)throw new Error(`gamera_segtax response was not ok: ${e.statusText}`);const t=e.headers.get("Content-Type");return t&&t.includes("application/json")?e.json():e.text()})).then((e=>{let t=e;"string"==typeof e&&(t=JSON.parse(e));const n={data:t,ts:E()};!function(e){let t=b((()=>JSON.parse(h("gamera_segtax"))));t=t||{};const n=t&&t.data&&t.data.onpage||[],i=t&&t.data&&t.data.pb||{},r=e.onpage||[],a=e.pb||{};w(r,n)||gt.forEach((e=>b((()=>{e(r)})))),w(a,i)||mt.forEach((e=>b((()=>{e(a)}))))}(t),f("gamera_segtax",JSON.stringify(n),8760,"Lax")})).catch((e=>{c.error(`while fetching gamera_segtax: ${e}`)}))}catch(e){c.error(`while fetching gamera_segtax: ${e}`)}}}let bt={sessionStart:0,lastSeen:0,adsRendered:0,adsViewable:0,pageCount:0,vitals:{},sessionRevenue:0},_t={sessionStart:0,lastSeen:0,adsRendered:0,adsViewable:0,pageCount:0,vitals:{},sessionRevenue:0},yt=!1,St=!1,At=!1;function It(){if(!yt)return;const e=Pt();try{localStorage.setItem("_gameraClientSideMetrics",JSON.stringify(e))}catch(e){}}function Pt(){const e=Ae();return{sessionStart:_t.sessionStart||bt.sessionStart,lastSeen:bt.lastSeen,adsRendered:_t.adsRendered+bt.adsRendered,adsViewable:_t.adsViewable+bt.adsViewable,pageCount:_t.pageCount+(e.events.pages.length||1),vitals:{...e.webMetrics,..._t.vitals,...bt.vitals},sessionRevenue:_t.sessionRevenue+bt.sessionRevenue}}function Dt(){const e=g(),t=m();let n=[];R.audience&&!R.disableAdPlacementDiscovery?n.push(...ie().filter((e=>e.renders>0)).map((e=>e.divId))):(window.googletag&&I(window.googletag.pubads)&&I(window.googletag.pubads().getSlots)&&n.push(...window.googletag.pubads().getSlots().map((e=>e.getSlotElementId()))),n.push(...he().map((e=>e.code)))),n=[...new Set(n)];let i=0;return n.forEach((n=>{if(!n)return;const r=document.getElementById(n);if(r){const n=r.getBoundingClientRect();n.left<e&&n.right>0&&n.top<t&&n.bottom>0&&i++}})),i}let Tt,Rt=!1,Nt=null;window.gamera=window.gamera||{},window.gamera.cmd=window.gamera.cmd||[],window.gamera.fastlane=window.gamera.fastlane||[];let Ct={},Lt=!1;if(!0===window.gamera.loaded)c.error("gamera already loaded, exiting.");else try{window.gamera.loaded=!0,window.gamera.setLogLevel=e=>c.setLogLevel(e),window.gamera.setUserId=e=>{e?Tt.hasStartedEmitting()?c.error("userId override provided too late, ignoring."):Tt.setUserId(e.toString()):c.error("empty userId override provided, ignoring.")},window.gamera.setConfig=e=>R.setConfig(e),window.gamera.event=Mt,window.gamera.addDimensions=$t,window.gamera.addMetrics=function(e){e&&"object"==typeof e&&!Array.isArray(e)?Ot({type:i.ADD_METRICS,data:e}):c.error('argument "metrics" has an invalid type')},window.gamera.addPageRevenue=function(e){e&&e.revenue?(e.currency||(e.currency="USD"),e.type||(e.type="unknown"),Ot({type:i.PAGE_REVENUE,data:e})):c.error('argument "data" has no "revenue" property')},window.gamera.getOnPageSegments=ht,window.gamera.getPrebidSegments=ft,window.gamera.getUserMetrics=function(){const e=ht(),t={};return e.forEach((e=>{try{const n=e.split("_");if(e.startsWith("LRPU_P_"))return void(t.lrpu_p=+n[n.length-1]);if(e.startsWith("user_cpm_avg_"))return void(t.avg_cpm=+n[n.length-1]);if(e.startsWith("user_fillrate_avg_"))return void(t.avg_fillrate=+n[n.length-1]);if(e.startsWith("user_ltv_"))return void(t.ltv=+n[n.length-1]);if(e.startsWith("user_visits_")){const e=n[n.length-1].split(",").map(Number);return void(t.visits={last_7:e[0],last_14:e[1],last_30:e[2],lifetime:e[3]})}}catch(t){c.error(`while parsing segment ${e}: ${t}`)}})),t},window.gamera.getGptSegments=function(){R.disableAdPlacementDiscovery||ge();let e={};const t=ie(),n=ht();return t.forEach((t=>{if(!t.gpid)return;const i=Et(t,n,"gpt");i&&i.length>0&&(e[t.gpid]={gamera:i})})),e},window.gamera._storeException=N,window.gamera._getAdPlacements=()=>_(ie()),window.gamera._drawRowGrid=function(){O(te)},window.gamera._getDiagnosticsData=function(){const e={};if(Tt){e.meta=Tt.getMeta();const t=Tt.getCurrentPage();t&&(e.maxAdPlacementsVisible=t.maxAdPlacementsVisible)}return e},function(){Tt=Ae();let a=window.history;if(a&&a.pushState){let e=a.pushState;a.pushState=function(){e.apply(a,arguments),Ot({type:i.NEW_PAGE})},window.addEventListener("popstate",(()=>{Ot({type:i.NEW_PAGE})}))}let d=0;document.addEventListener("scroll",(e=>{d||(d=setTimeout((()=>{Ot({type:i.PAGE_SCROLL}),d=0}),250))}),!0),function(e){try{window.dataLayer=window.dataLayer||[],window.gtag=window.gtag||function(){dataLayer.push(arguments)},window.gtag("get","G-XXXXXXXXXX","client_id",(e=>{Mt("analytics",{source:"ga4",client_id:e})}))}catch(e){c.error(`while trying to get gtag client_id: ${e}`)}}(),document.addEventListener("click",kt),document.addEventListener("auxclick",kt),document.addEventListener("mousedown",xt),document.addEventListener("keydown",xt),document.addEventListener("touchstart",xt),function(){let a=!1;var d;if(window.addEventListener(t,(()=>{a=!0})),window.gamera.fastlane.forEach((e=>"function"==typeof e&&e())),window.gamera.fastlane={push:e=>e()},R.clientSideMetrics&&(function(){const e=E();let t=null;try{const n=localStorage.getItem("_gameraClientSideMetrics");n&&(t=JSON.parse(n),t.sessionStart=+t.sessionStart||0,t.lastSeen=+t.lastSeen||0,t.adsRendered=+t.adsRendered||0,t.adsViewable=+t.adsViewable||0,t.pageCount=+t.pageCount||0,t.vitals=t.vitals||{},t.sessionRevenue=+t.sessionRevenue||0,(e-t.lastSeen>=1800||e-t.sessionStart>=28800)&&(t=null))}catch(e){t=null}t&&(_t=t),bt.sessionStart=e,bt.lastSeen=e,yt=!0,It(),yt&&(R.audience&&!R.disableAdPlacementDiscovery?(x(r.AD_PLACEMENT_GTAG_RENDERED,(e=>{if(e.history.length&&e.history[e.history.length-1].type===r.AD_PLACEMENT_GTAG_RENDERED){const t=(e.history[e.history.length-1].data.pb||0)+.01;bt.sessionRevenue+=t/1e3,It()}})),x(r.AD_PLACEMENT_PBJS_RENDERED,(e=>{const t=E();(!e.gtagRenderTS||e.gtagRenderTS<t-5)&&(bt.sessionRevenue+=e.pbjsBid.cpm/1e3,It())})),x(r.AD_PLACEMENT_RENDERED,(e=>{bt.adsRendered++,It()})),x(r.AD_PLACEMENT_VIEWABLE,(e=>{bt.adsViewable++,It()}))):x(r.SESSION_PAGE_REVENUE_ADDED,(({data:e})=>{bt.sessionRevenue+=+e.revenue,"pbjs"===e.type&&bt.adsRendered++,It()})),x(r.WEB_VITALS_CHANGED,(({name:e,value:t})=>{bt.vitals[e]=t,It()})),x(r.SESSION_NEW_PAGE,(e=>{It()})),x(r.SESSION_RESET,(()=>{const e=E();_t={sessionStart:0,lastSeen:0,adsRendered:0,adsViewable:0,pageCount:0,vitals:{},sessionRevenue:0},bt={sessionStart:e,lastSeen:e,adsRendered:0,adsViewable:0,pageCount:0,vitals:{},sessionRevenue:0},It()})),function(e,t,n){let i=0;function r(){i=setTimeout(a,e),document.addEventListener("pointermove",s),document.addEventListener("mousedown",s),document.addEventListener("keydown",s),document.addEventListener("touchstart",s),document.addEventListener("scroll",s,!0)}function a(){i=0,t()}function s(){i?clearTimeout(i):n(),document.removeEventListener("pointermove",s),document.removeEventListener("mousedown",s),document.removeEventListener("keydown",s),document.removeEventListener("touchstart",s),document.removeEventListener("scroll",s,!0),setTimeout(r,1e3),bt.lastSeen=E(),At=!0}r()}(2e4,(()=>{St=!0,It()}),(()=>{St=!1})),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&It()})),document.addEventListener("blur",(()=>{It()})),window.addEventListener("blur",(()=>{It()})))}(),window.gamera.getSessionMetrics=()=>function(){const e=E(),t=Pt(),n=Ae(),i=n.events.pages[n.events.pages.length-1];let r=null;n.dimensions&&Array.isArray(n.dimensions.tpcs)&&(r=-1!==n.dimensions.tpcs.indexOf("enabled"));let a=null;a=window.navigator&&window.navigator.userActivation?window.navigator.userActivation.hasBeenActive:At;const s={sessionStart:t.sessionStart,lastSeen:t.lastSeen,sessionLength:e-t.sessionStart,timeOnPage:i?e-i._ts:0,isIdle:St,hasEngaged:a,adsRendered:t.adsRendered,adsViewable:t.adsViewable,adDensity:Dt(),pageCount:t.pageCount,scrollDepth:i?i.scrollDepth:1,vitals:t.vitals,sessionRevenue:t.sessionRevenue,tpcs:r};return n.meta&&n.meta.geo?s.geo=n.meta.geo:s.geo={},n.meta&&n.meta.device?s.device=n.meta.device:s.device={},s}()),R.audience&&!R.runningInIframe?window.gamera.addAdUnitPlacements=le:window.gamera.addAdUnitPlacements=()=>{},window.gamera.cmd.forEach((e=>{if("function"==typeof e)try{e()}catch(t){c.error(`while processing fn ${e.name}: ${t}`)}})),window.gamera.cmd={push:e=>e()},R.domain&&Tt.setDomain(R.domain),R.partner&&Tt.setPartner(R.partner),R.userId&&Tt.setUserId(R.userId),R.sessionId&&Tt.setSessionId(R.sessionId),R.ltv&&(d=Ot,window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){ee=!0,window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){if(!e||e.isEmpty)return;let t=e.slot.getAdUnitPath()||"";t=t.startsWith("/")?t.toLowerCase():"/"+t.toLowerCase();const n={src:"gam",div:e.slot.getSlotElementId()||"",sid:t,nid:t.split("/")[1]||"",cid:String(e.sourceAgnosticCreativeId),lid:String(e.sourceAgnosticLineItemId),aid:String(e.advertiserId),adid:"",pb:""};o.forEach((t=>{try{const i=e.slot.getTargeting(t);i&&i.length&&(n.adid=i[0])}catch(e){}})),s.forEach((t=>{try{const i=e.slot.getTargeting(t);i&&i.length&&(n.pb=i[0])}catch(e){}})),function(e,t){const n=Ee(e);if(!n)return;const i=E();n.gtagRenderTS=i,n.clicked=!1,n.history.push({timestamp:i,type:r.AD_PLACEMENT_GTAG_RENDERED,data:{adUnitPath:t.sid,networkId:t.nid,lineItemId:t.lid,advertiserId:t.aid,creativeId:t.cid,pb:+t.pb||0}}),k(r.AD_PLACEMENT_GTAG_RENDERED,n),n.renders++,k(r.AD_PLACEMENT_RENDERED,n),n.viewabilityTracker||(n.viewabilityTracker="gpt"),Q(n)}(e.slot,n),d({type:i.AD_RENDERED,data:n})})),window.googletag.pubads().addEventListener("slotRequested",(function(e){if(!e||e.isEmpty)return;let t=e.slot.getAdUnitPath()||"";t=t.startsWith("/")?t.toLowerCase():"/"+t.toLowerCase();const n={src:"gam",div:e.slot.getSlotElementId()||"",sid:t,nid:t.split("/")[1]||"",adid:"",pb:"",gameraId:[]};o.forEach((t=>{try{const i=e.slot.getTargeting(t);i&&i.length&&(n.adid=i[0])}catch(e){}})),s.forEach((t=>{try{const i=e.slot.getTargeting(t);i&&i.length&&(n.pb=i[0])}catch(e){}}));try{const t=e.slot.getTargeting("gamera");t&&t.length&&(n.gameraId=t)}catch(e){}k(r.GAM_AD_REQUESTED,n);const i=Ee(e.slot);i&&(i.gtagSlotRequestedTS=E(),i.viewabilityTracker&&"gpt"!==i.viewabilityTracker&&(W(i),i.viewabilityTracker=null))})),window.googletag.pubads().addEventListener("impressionViewable",(function(e){const t=Ee(e.slot);t&&"gpt"===t.viewabilityTracker&&(t.history.push({timestamp:E(),type:r.AD_PLACEMENT_VIEWABLE}),k(r.AD_PLACEMENT_VIEWABLE,t),t.viewabilityTracker=null)}))})),window.addEventListener("message",(e=>{const t=e&&e.data;t&&t.type&&t.type===n&&d({type:i.AD_RENDERED,data:t.data})})),window.addEventListener("cnxImpressionData",(e=>{e&&e.detail&&e.detail.lineItemRevenue&&d({type:i.PAGE_REVENUE,data:{type:"connatix",currency:"USD",revenue:+e.detail.lineItemRevenue}})}))),R.webMetrics)try{const e=e=>{Tt.updateWebMetrics(e)};(function(e,t){t=t||{},Fe(xe((function(){var n,i=Ne("CLS",0),r=0,a=[],s=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=a[0],n=a[a.length-1];r&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(r+=e.value,a.push(e)):(r=e.value,a=[e])}})),r>i.value&&(i.value=r,i.entries=a,n())},o=Ce("layout-shift",s);o&&(n=Le(e,i,He,t.reportAllChanges),Me((function(){s(o.takeRecords()),n(!0)})),De((function(){r=0,i=Ne("CLS",0),n=Le(e,i,He,t.reportAllChanges),Oe((function(){return n()}))})),setTimeout(n,0))})))})(e,{reportAllChanges:!0}),function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},Ge((function(){var n;Ke();var i,r=Ne("INP"),a=function(e){it((function(){e.forEach(nt);var t,n=(t=Math.min(Ye.length-1,Math.floor(et()/50)),Ye[t]);n&&n.latency!==r.value&&(r.value=n.latency,r.entries=n.entries,i())}))},s=Ce("event",a,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});i=Le(e,r,rt,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),Me((function(){a(s.takeRecords()),i(!0)})),De((function(){Ze=0,Ye.length=0,Qe.clear(),r=Ne("INP"),i=Le(e,r,rt,t.reportAllChanges)})))})))}(e,{reportAllChanges:!0}),function(e,t){t=t||{},Ge((function(){var n,i=Ue(),r=Ne("LCP"),a=function(e){t.reportAllChanges||(e=e.slice(-1)),e.forEach((function(e){e.startTime<i.firstHiddenTime&&(r.value=Math.max(e.startTime-Re(),0),r.entries=[e],n())}))},s=Ce("largest-contentful-paint",a);if(s){n=Le(e,r,at,t.reportAllChanges);var o=xe((function(){st[r.id]||(a(s.takeRecords()),s.disconnect(),st[r.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return it(o)}),!0)})),Me(o),De((function(i){r=Ne("LCP"),n=Le(e,r,at,t.reportAllChanges),Oe((function(){r.value=performance.now()-i.timeStamp,st[r.id]=!0,n(!0)}))}))}}))}(e,{reportAllChanges:!0}),Fe(e),ct(e)}catch(e){}R.audience&&(function(){let e=["pbjs"];"freestar"===R.partner?e.push("fsprebid"):"publift"===R.partner&&e.push("fusePbjs"),window._pbjsGlobals&&Array.isArray(window._pbjsGlobals)&&(e=window._pbjsGlobals.slice()),Vt(e);const t=(new Date).getTime();let n=setInterval((function(){if(window._pbjsGlobals&&Array.isArray(window._pbjsGlobals)){const t=window._pbjsGlobals.filter((t=>-1===e.indexOf(t)));t.length>0&&(e.push(...t),Vt(t))}(new Date).getTime()-t>1e4&&(clearInterval(n),c.debug("stopping pbjs discovery."))}),200)}(),R.disableAdPlacementDiscovery||(function(){try{oe=function(e){const t={};if(!e||"string"!=typeof e)return t;const n=e.split("\n"),i=n[0],r=n.slice(1),a=i.split(",");return r.forEach((e=>{if(!e)return;const n=e.split(","),i=n[0],r={};for(let e=1;e<a.length;e++){const t=+n[e];r[a[e]]=isNaN(t)?n[e]:t}t[i]=r})),t}(R.placementStats)}catch(e){c.error(`while parsing placement stats: ${e}`)}window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){ee=!0,function(){let e=0;ue();let t=setInterval((()=>{if(e++,e>=10)return clearInterval(t),void(t=0);ue()}),500);document.addEventListener("scroll",(()=>{e=0,0===t&&(ue(),t=setInterval((()=>{if(e++,e>=10)return clearInterval(t),void(t=0);ue()}),500))}),!0)}()})),function(){if(!$||q)return;q=z();const e=()=>{if(!q)return;q.disconnect(),q=null;const e=E();Object.keys(X).forEach((t=>{const n=X[t];n.attentionState.isVisible&&(n.attentionState.pastTimeInViewport+=e-n.attentionState.lastEnteredViewport,n.attentionState.isVisible=!1,n.attentionState.lastExitedViewport=e)})),c.debug("attentionIO disconnected")},t=()=>{q||(q=z(),Object.keys(X).forEach((e=>{Q(X[e])})),Object.keys(Y).forEach((e=>{Q(Y[e])})),Y={},c.debug("attentionIO reconnected"))};document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState?e():t()})),window.addEventListener("focus",(()=>{t()})),window.addEventListener("blur",(()=>{e()})),x(r.SESSION_RESET,(()=>{const e=E();Object.keys(X).forEach((t=>{const n=X[t];n&&(n.attentionState.isVisible?(n.attentionState.pastTimeInViewport=0,n.attentionState.lastEnteredViewport=e,n.attentionState.lastExitedViewport=e):n.attentionState.pastTimeInViewport=0,n.sovValues&&(n.sovValues=[]))}))}))}();let t=!1;try{window.location.search.indexOf("gameraDiagnostics")>-1&&(function(){const e=document.createElement("script");e.src="https://assets.rapidedge.io/gamera/tracker/production/diagnostics.js",e.async=!0,document.head.appendChild(e)}(),t=!0)}catch(e){c.error(`while gamera diagnostics script: ${e}`)}!t&&window.location.search.indexOf(e)>-1&&(O(te),setInterval((()=>{document.hidden||O(te)}),1e3),window.addEventListener("resize",(function(){O(te)})),window.addEventListener("scroll",(function(){O(te)}))),x(r.ADSENSE_SLOTS_FOUND,(e=>{if(!e||!e.slots||!Array.isArray(e.slots))return;const t=[];e.slots.forEach((e=>{e.parentElementId&&!se[e.parentElementId]&&(t.push(e),se[e.parentElementId]=!0)})),t.length>0&&function(e){if(!e||!Array.isArray(e))return;const t=[];e.forEach((e=>{try{for(let t=0;t<te.length;t++)if(te[t].divId===e.parentElementId)return;const n=me(e.parentElementId,"",!1);if(!n)return;t.push(n)}catch(t){c.error(`while adding AdSense placement ${e.parentElementId}: ${t}`)}})),pe(t)}(t)})),x(r.ADSENSE_SLOT_FILLED,(e=>{e&&e.slot&&function(e){const t=function(e){if(!e||!e.parentElementId)return null;const t=ie();for(const n of t)if(n.divId===e.parentElementId)return n;return null}(e);if(!t)return;const n=E();t.adSenseRenderTS=n,t.clicked=!1,t.history.push({timestamp:n,type:r.AD_PLACEMENT_ADSENSE_RENDERED,data:{adSlot:e.adSlot||"",adClient:e.adClient||"",adStatus:e.adStatus||""}}),k(r.AD_PLACEMENT_ADSENSE_RENDERED,t),t.renders++,k(r.AD_PLACEMENT_RENDERED,t),Q(t),t.viewabilityTracker="adsense",H(t)}(e.slot)})),x(r.ADSENSE_SLOT_UNFILLED,(e=>{e&&e.slot&&c.debug(`AdSense slot ${e.slot.adSlot} in ${e.slot.parentElementId} is unfilled`)}))}(),function(){if(R.disableGptCuration)return;if(!(R.curationRules||[]).some((e=>Array.isArray(e.target)?e.target.includes("gpt"):"gpt"===e.target)))return;Lt=!0,Bt();let e=250;const t=()=>{Bt(),e=Math.min(2*e,2e3),window.setTimeout(t,e)};window.setTimeout(t,e)}(),function(){if(Rt)return;Rt=!0;const e=()=>{if(!Rt)return;const e=document.getElementsByTagName("INS"),t=new WeakMap,n=()=>{const n=[],i=[],a=[],s=Array.from(e);for(let e=0;e<s.length;e++){const r=s[e];if(!r.classList.contains("adsbygoogle")||!r.hasAttribute("data-ad-client"))continue;const o=r.getAttribute("data-ad-status"),d=r.getAttribute("data-ad-client"),c=r.getAttribute("data-ad-slot"),l=r.parentElement?.id,u={adClient:d,adSlot:c,adStatus:o,parentElementId:l},g=t.get(r);g?g.lastStatus!==o&&(g.lastStatus=o,"filled"===o?i.push(u):"unfilled"===o&&a.push(u)):(n.push(u),t.set(r,{lastStatus:o}),"filled"===o?i.push(u):"unfilled"===o&&a.push(u))}n.length>0&&k(r.ADSENSE_SLOTS_FOUND,{slots:n}),i.forEach((e=>k(r.ADSENSE_SLOT_FILLED,{slot:e}))),a.forEach((e=>k(r.ADSENSE_SLOT_UNFILLED,{slot:e})))};try{n()}catch(e){c.error("Error in initial AdSense check",e)}Nt=setInterval(n,1e3),c.debug("Polling live HTMLCollection for ins.adsbygoogle")};"loading"!==document.readyState&&document.body?e():document.addEventListener("DOMContentLoaded",e)}()),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&_e()})),document.addEventListener("blur",(()=>{_e()})),window.addEventListener("blur",(()=>{_e()})),document.addEventListener("keydown",(e=>{"Tab"===e.key&&(we=Date.now())})),document.addEventListener("pointermove",(e=>{be=Date.now()})),x(r.PBJS_BID_CLICKED,(e=>{Tt.addWinningBidClick(e)})),function(){try{let e=Tt.getUserId()||h("gamera_user_id");e||(e=p()),f("gamera_user_id",e,8760,"Lax"),Tt.setUserId(e)}catch(e){c.error(`while generating gamera_user_id: ${e}`)}}(),vt()),R.wait&&!a?window.addEventListener(t,(()=>{Tt.startEmitting()})):Tt.startEmitting(),R.tpcs&&function(){const e=document.createElement("iframe");e.src="https://assets.rapidedge.io/gamera/tracker/production/3pcs.html",e.sandbox="allow-scripts allow-same-origin",e.style.display="none",e.style.position="fixed",window.addEventListener("message",(function t(n){const i=n&&n.data;"tpcs=enabled"!==i&&"tpcs=disabled"!==i||($t({tpcs:i.split("=")[1]}),document.body.removeChild(e),window.removeEventListener("message",t))})),document.body?document.body.appendChild(e):document.addEventListener("DOMContentLoaded",(function(t){document.body.appendChild(e)}))}(),function(){try{$t({gamera_ctx:R.runningInIframe?"iframe":"top"})}catch(e){c.error(`while checking js execution context: ${e}`)}}(),function(){try{(R.curationRules&&R.curationRules.length>0||R.placementStats)&&$t({gamera_signals:"true"})}catch(e){c.error(`while checking for curation rules and placement stats: ${e}`)}}()}()}()}catch(e){N(e)}function Ot(e){try{switch(Tt.sync(),e.type){case i.AD_RENDERED:Tt.processNewAdEvent(e.data);break;case i.BID_WON:Tt.addWinningBid(e.data);break;case i.PAGE_SCROLL:Tt.updatePageScroll();case i.NEW_PAGE:Tt.processNewPage();break;case i.CUSTOM:Tt.processNewCustomEvent(e.name,e.data);break;case i.ADD_DIMENSIONS:Tt.addDimensions(e.data);break;case i.ADD_METRICS:Tt.addMetrics(e.data);break;case i.PAGE_REVENUE:Tt.addPageRevenue(e.data);break;default:c.warn(`unknown event type: ${e.type}`)}}catch(t){c.error(`while processing ${e.type}: ${t}`),N(t)}}function Mt(e,t){Ot({type:i.CUSTOM,name:e,data:t})}function xt(){try{Tt.sync(),Tt.keepPageAlive()}catch(e){}}function kt(e){if("auxclick"===e.type&&1!==e.button)return;let t=e.target,n="";for(let e=0;e<=3&&t&&"function"==typeof t.getAttribute;e++){const e=t.getAttribute("data-click");if(null!==e){n=e||t.getAttribute("id");break}t=t.parentNode}n&&Mt("click",{target:n})}function $t(e){e&&"object"==typeof e&&!Array.isArray(e)?Ot({type:i.ADD_DIMENSIONS,data:e}):c.error('argument "dimensions" has an invalid type')}function Vt(e){for(let t=0;t<e.length;t++){const n=e[t];window[n]=window[n]||{},window[n].que=window[n].que||[],window[n].que.push((function(){window[n].onEvent("bidWon",(e=>{Ot({type:i.BID_WON,data:e});const t=window[n].adUnits.find((t=>t.code===e.adUnitCode));t?setTimeout((()=>{de(t,e)}),0):c.warn(`adUnit not found for adUnitCode: ${e.adUnitCode}`)})),R.collectPbjsSummary&&window[n].onEvent("auctionInit",(e=>{ce(e)})),window[n].onEvent("beforeRequestBids",(e=>{c.debug("enriching pbjs bidder params"),jt(n,e)})),window[n].onEvent("setTargeting",(e=>{Bt()})),window[n].onEvent("auctionEnd",(({adUnitCodes:e})=>{he().filter((t=>-1!==e.indexOf(t.code))).forEach((e=>{y(e,"ortb2Imp.ext.data.gameraId")&&delete e.ortb2Imp.ext.data.gameraId}))}))}))}}function jt(e,t){if(t&&Array.isArray(t)&&0!==t.length)try{const n=E(),i={};window[e]&&window[e].bidderAlias&&(i=window[e].bidderAlias);const r={},s=ft();t.forEach((e=>{const t=y(e,"ortb2Imp.ext.data.gameraId");(e.bids||[]).forEach((n=>{if("appnexus"!==n.bidder&&"appnexus"!==i[n.bidder]){if("medianet"!==n.bidder&&"medianet"!==i[n.bidder]);else if(t&&Array.isArray(t)&&t.length>0){const e="signals_gamera_medianet";r[e]=(r[e]||0)+1}}else{const t=y(s,`adUnits.${e.code}.ext.data.gameraId`);n.params&&t&&Array.isArray(t)&&t.length>0?(n.params.keywords=n.params.keywords||{},n.params.keywords.gameraId=t,t.forEach((e=>{const t=`signals_${e}_${n.bidder}`;r[t]=(r[t]||0)+1}))):n.params&&n.params.keywords&&n.params.keywords.gameraId&&delete n.params.keywords.gameraId}}));const o=fe(e);if(o&&o.stats){const t=e.bids.filter((e=>"medianet"===e.bidder||"medianet"===i[e.bidder]));t.forEach((e=>{e.ortb2Imp=e.ortb2Imp||{},e.ortb2Imp.ext=e.ortb2Imp.ext||{},e.ortb2Imp.ext.data=e.ortb2Imp.ext.data||{},e.ortb2Imp.ext.data.gameraMetrics={},Object.keys(o.stats).forEach((t=>{const n=o.stats[t];if("number"!=typeof n)return;const i=a[t];i&&(e.ortb2Imp.ext.data.gameraMetrics[i]=n)}));const t=n-lt,i=ut(o.viewport),s=(o.renders||0)+1;t>=0&&(e.ortb2Imp.ext.data.gameraMetrics.time_on_page=t),e.ortb2Imp.ext.data.gameraMetrics.viewport_density=i,e.ortb2Imp.ext.data.gameraMetrics.render_sequence=s;const d="signals_pstats_medianet";r[d]=(r[d]||0)+1}))}})),Object.keys(r).length>0&&Tt.addPageObservabilityMetrics(r,!0)}catch(e){c.error(`while setting/counting ix enrichments: ${e}`)}}function Bt(){if(!Lt)return;const e=function(){R.disableAdPlacementDiscovery||ge();let e={};const t=ie(),n=ht();return t.forEach((t=>{if(!t.gpid)return;const i=Et(t,n,"gpt");i&&i.length>0&&(e[`${t.gpid}#${t.divId}`]={gamera:i})})),e}();(ee?window.googletag.pubads().getSlots():[]).forEach((t=>{const n=`${t.getAdUnitPath()}#${t.getSlotElementId()}`;if(e[n]){const i=e[n];Object.keys(i).forEach((e=>{t.setConfig({targeting:{[e]:i[e]}})}))}else if(Ct[n]){const e=Ct[n];Object.keys(e).forEach((e=>{t.setConfig({targeting:{[e]:null}})}))}})),Ct=e}})();
(function(){const t=window;t.gamera=t.gamera||{};t.gamera.cmd=t.gamera.cmd||[];t.gamera.freestar=t.gamera.freestar||{};const r=t.gamera.freestar;r.adIdDict={};t.googletag=t.googletag||{};t.googletag.cmd=t.googletag.cmd||[];t.googletag.cmd.push(function(){t.googletag.pubads().addEventListener("slotRequested",function(a){if(!a||a.isEmpty){return}let e=a.slot.getAdUnitPath()||"";e=e.startsWith("/")?e.toLowerCase():"/"+e.toLowerCase();let d;["hb_adid","fs_adid"].forEach(e=>{try{const t=a.slot.getTargeting(e);if(t&&t.length){d=t}}catch(e){}});if(!d||!d.length){return}const t=d[0];if(r.adIdDict[t]){return}r.adIdDict[t]=e;setTimeout(()=>{delete r.adIdDict[t]},5e3)});t.googletag.pubads().addEventListener("slotRenderEnded",function(a){if(!a||a.isEmpty){return}let e=a.slot.getAdUnitPath()||"";e=e.startsWith("/")?e.toLowerCase():"/"+e.toLowerCase();let d;["hb_adid","fs_adid"].forEach(e=>{try{const t=a.slot.getTargeting(e);if(t&&t.length){d=t}}catch(e){}});if(!d||!d.length){return}const t=d[0];if(r.adIdDict[t]){return}r.adIdDict[t]=e;setTimeout(()=>{delete r.adIdDict[t]},5e3)})});t.fsprebid=t.fsprebid||{};t.fsprebid.que=t.fsprebid.que||[];t.fsprebid.que.push(function(){t.fsprebid.onEvent("bidWon",e=>{setTimeout(()=>{if(!r.adIdDict[e.adId]){t.gamera.cmd.push(function(){t.gamera.addPageRevenue({type:"pbjs",revenue:e.cpm/1e3,currency:e.currency})})}},0)})})})();
    