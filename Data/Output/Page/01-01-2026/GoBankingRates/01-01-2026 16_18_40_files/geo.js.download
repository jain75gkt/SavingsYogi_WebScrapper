window.fetchGeoData=function(){const t="gbr.geo",a="gbr.geo.expiration";let e=null;return async function(){const o=localStorage.getItem(t),r=localStorage.getItem(a);return o&&r&&Date.now()<Number(r)?{error:void 0,data:JSON.parse(o)}:(e||(e=(async()=>{try{const e=await fetch("/geo",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`Error: ${e.status} ${e.statusText}`);const o=await e.json();return localStorage.setItem(t,JSON.stringify(o)),localStorage.setItem(a,(Date.now()+36e5).toString()),{error:void 0,data:o}}catch(t){return{error:t,data:void 0}}finally{e=null}})()),await e)}}(),(async()=>{const{error:t,data:a}=await window.fetchGeoData();t?window.console.debug("Error fetching geo data:",t):(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"gbr.geoData",geoData:a}))})();