CHASE.TagManager.midasActivity = function(TagId, AppID, TagMap, productId, sourceCode) {
  console.warn("Discontinue use of midasActivity. It has been deprecated.");
};
/*
	Last updated :10/26/2016  
*/

CHASE.TagManager.bluekai = function(pg) {

    var additionalParams = {
            bluekai : {}
    };
    var iframeURL= "https://stags.bluekai.com/site/39254?limit=10&ret=html&";

    iframeURL= iframeURL+ "phint=v1st%3D{v1st}";
    iframeURL= iframeURL+ "&phint=ECI%3D{persona.ECI}";
	iframeURL= iframeURL+ "&phint=CAT%3D{CAT}";
	iframeURL= iframeURL+ "&bknms=1";	
	if(pg){
		iframeURL= iframeURL+"&phint=pg%3D"+pg;
	}
    iframeURL= CHASE.TagManager.replacePlaceholder(iframeURL, additionalParams);	

    if(CHASE.TagManager.testMode){
    CHASE.TagManager.requestPixel(iframeURL);
    }else{    
    var bluekaiFrame = document.createElement('iframe');
    bluekaiFrame.style.display = "none";
    bluekaiFrame.src = iframeURL;
    document.body.appendChild(bluekaiFrame)
    }
};

CHASE.TagManager.insightAdImpression = function(wa_aid, pageId, placementId) {

    if(CHASE && CHASE.analytics)CHASE.analytics.setPageDotUrl(window.location.href );

    var dotDomain = CHASE.analytics.config.PageDotDomain || '',
    
    dotImage = CHASE.analytics.config.PageDotImagePath || '',
    
    pixelUrl = dotDomain+dotImage+"&wa_cb={random}",
	
	jp_aid_p = pageId? "&jp_aid_p="+pageId+"/"+placementId : "" ;
    
	pixelUrl += "&wa_aid_i="+wa_aid+jp_aid_p+"&wa_tp=13&wa_uri="+document.location;
	
    pixelUrl = CHASE.TagManager.invokePixelTag(pixelUrl);
    
    };
CHASE.TagManager.ExtensionsLoaded = true; 
CHASE.TagManager.insightAdClick = function(wa_aid, pageId, placementId) {

    if(CHASE && CHASE.analytics)CHASE.analytics.setPageDotUrl(window.location.href );

    var dotDomain = CHASE.analytics.config.PageDotDomain || '',
    
    dotImage = CHASE.analytics.config.PageDotImagePath || '',
    
    pixelUrl = dotDomain+dotImage+"&wa_cb={random}",
	
	jp_aid_p = pageId? "&jp_aid_p="+pageId+"/"+placementId : "" ;
    
    pixelUrl += "&wa_aid_lnk="+wa_aid+jp_aid_p+"&wa_tp=13&wa_uri="+document.location;
    
    pixelUrl = CHASE.TagManager.invokePixelTag(pixelUrl);
    
    };
CHASE.TagManager.insightLinkTrack = function(linkName) {

	if(CHASE && CHASE.analytics)CHASE.analytics.trackCustomLink(linkName);

};
CHASE.TagManager.insightFormTrack = function(formName) {
	
	if(formName){		
		formName=document.forms[formName];
		if(CHASE && CHASE.analytics)CHASE.analytics.initLinkFormTracking(formName);
	}

};
