//tealium universal tag - utag.65 ut4.0.202511210113, Copyright 2025 Tealium.com Inc. All Rights Reserved.
try{(function(id,loader){var u={};utag.o[loader].sender[id]=u;if(utag===undefined){utag={};}if(utag.ut===undefined){utag.ut={};}if(utag.ut.loader===undefined){u.loader=function(o){var a,b,c,l;a=document;if(o.type==="iframe"){b=a.createElement("iframe");b.setAttribute("height","1");b.setAttribute("width","1");b.setAttribute("style","display:none");b.setAttribute("src",o.src);}else if(o.type==="img"){utag.DB("Attach img: "+o.src);b=new Image();b.src=o.src;return;}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";b.src=o.src;}if(o.id){b.id=o.id;}if(typeof o.cb==="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb();},false);}else{b.onreadystatechange=function(){if(this.readyState==="complete"||this.readyState==="loaded"){this.onreadystatechange=null;o.cb();}};}}l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l==="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b);}}};}else{u.loader=utag.ut.loader;}
u.ev={'view':1};u.initialized=false;u.map={};u.extend=[function(a,b){try{if(1){const _definePlugin=(parent,name,context,definition)=>{if(!context||!context[parent]||!Array.prototype.filter){return;}
context[parent]['plugins'][name]=definition();};window.gDataLayer=window.gDataLayer||[];window.gtag=function(){window.gDataLayer.push(arguments);}
gtag('js',new Date());const _initCustomEvents=()=>{_definePlugin('bactm','customEvents',typeof window!=='undefined'?window:null,function(){const bactm=window.bactm;const version='3.0.0';const digitalData=window.digitalData;let clickEventListenerAdded=false;let hoverDuration='';let allRules=[];let parsedRules={};let classSelectors=[];let idSelectors=[];const acceptedSelectors=['.','#'];let dle={};let hasScrollTagFired={};const LOG_LEVEL={OFF:10,FATAL:5,ERROR:4,WARN:3,INFO:2,DEBUG:1};const _fireGoogleAnalytics=(el,rule)=>{bactm._log(':: Custom Event :: Handle Google Analytics.',LOG_LEVEL.DEBUG);if(typeof ga!=='function'||typeof gtag!=='function'){bactm._log('ga or gtag is not a function. Click info not sent to GA.',LOG_LEVEL.ERROR);return;}
if(!bactm?.plugins?.google?.analytics){bactm._log('Google plugin not available.',LOG_LEVEL.ERROR);return;}
var d=rule;var page=digitalData.page||{},attr=page.attributes||{},gaId=attr.gaId||{},config=customDimensions()||{};var googleAnalytics=bactm?.plugins?.google?.analytics;if(d.nonInteraction){config.nonInteraction=true;}
if(window._satellite&&typeof window._satellite.track==="function"){_fireAdobeAlloy(d);}
if(googleAnalytics.version==='GA4'){googleAnalytics.ids.forEach(function(id){googleAnalytics.custom('customEvents',{'send_to':id,'category':d.category,'action':d.action,'label':d.label},config)})}else{gaId.forEach(function(e,i){googleAnalytics.custom('event',d,config,i);});}};const _fireBingUET=(el,rule)=>{try{bactm._log(':: Custom Event :: Handle Bing UET.',LOG_LEVEL.DEBUG);if(typeof ba==='undefined'||typeof bactm.uetq==='undefined'||typeof bactm.uetq.push!=='function'){bactm._log('uetq.push is not a function. Tag not sent to Bing.',LOG_LEVEL.INFO);return;}
if(rule.bingUET===true){bactm.uetq.push('pageLoad');}else{bactm.uetq.push({el:rule.bingUET});}}catch(err){bactm.reportError(err);}};const _fireAdobeAlloy=(customEventRules)=>{bactm._log(':: Custom Event :: Handle Adobe Alloy',LOG_LEVEL.DEBUG);const category=customEventRules.category;const action=customEventRules.action;const label=customEventRules.label;const pageID=digitalData.page.pageInfo[0].pageID||'';const url=window.location.href;const alloyData={PageID:pageID,URL:url,category:category,action:action,label:label}
window._satellite.track('workbookCustomEvents',alloyData);};const handleScenario=(scenario)=>{bactm._log(':: Custom Event :: Handle conditional scenario.',LOG_LEVEL.DEBUG);try{let finalVar=window;const variablesToCheck=scenario.valueToCheck.split('.');for(var i=0;i<variablesToCheck.length;i++){finalVar=finalVar[variablesToCheck[i]];}
if(finalVar===scenario.conditional.value){_processRule(scenario.result,null);}}catch(e){bactm._log(e,LOG_LEVEL.ERROR);bactm.reportError(err);}};const processScenarios=()=>{const scenariosToEvaluate=bactm._asArray(parsedRules.pageRules[0].scenarios)
scenariosToEvaluate.forEach(function(scenario){bactm._log('scenario rule to fire:',scenario,LOG_LEVEL.DEBUG);const localScenario=JSON.parse(JSON.stringify(scenario));handleScenario(localScenario,null);});}
const _fireCoremetricsManualLink=(el,rule)=>{bactm._log(':: Custom Event :: Coremetrics Manual Link Click',LOG_LEVEL.DEBUG);if(typeof bactm_cmCreateManualLinkClickTag!=='function'){bactm._log('bactm_cmCreateManualLinkClickTag is not a function. Click info not sent to CM.',LOG_LEVEL.DEBUG);return;}
let pageID='',page=digitalData.page||{},attr=page.attributes||{},history=attr.pageIDHistory||[];if(Array.isArray(history)&&history.length>0){pageID=history[history.length-1].pageID||'';}else if(Array.isArray(page.pageInfo)){pageID=page.pageInfo[0].pageID||'';}
const d=rule;el=el||{};try{bactm_cmCreateManualLinkClickTag(el.href||d.href||d.category,d.label,pageID);}catch(err){bactm.reportError(err);}}
const _fireDART=(el,rule)=>{bactm._log(':: Custom Event :: Handle DART.',LOG_LEVEL.DEBUG);try{const dartTags=(typeof rule['dart']==='string')?bactm._asArray({url:rule['dart'],options:null}):bactm._asArray(rule['dart']);if(!dartTags)return false;dartTags.forEach(function(dart){let src,type,cat,sendTo=dart.url.split(';').slice(1,4);sendTo.forEach(function(param){if(param.startsWith('src=')){src=param.split('').slice(4).join('');}else if(param.startsWith('type=')){type=param.split('').slice(5).join('');}else if(param.startsWith('cat=')){cat=param.split('').slice(4).join('');}else return;});gtag('config','DC-'+src);gtag('event','conversion',{'allow_custom_scripts':true,'send_to':"DC-"+src+"/"+type+"/"+cat+"+unique"});});}catch(e){bactm._log(e,LOG_LEVEL.ERROR);}}
const _fireMillwardBrown=(el,rule)=>{bactm._log(':: Custom Event :: Handle Millward Brown.',LOG_LEVEL.DEBUG);const millwardBrown=bactm._asArray(rule['millwardBrown']);if(!millwardBrown)return false;millwardBrown.forEach(function(mb){bactm.plugins.millwardBrown.initCampaign({"campaignId":mb.campaignId,"details":{"bannerId":mb.bannerId,"control":mb.control}})});}
const _firePixelTag=(el,rule)=>{bactm._log(':: Custom Event :: Handle Pixel Tag.',LOG_LEVEL.DEBUG);const eventFired=el?true:false;const pixel=bactm._asArray(rule['pixelTag']);if(!pixel)return false;pixel.forEach(function(p){bactm.plugins.pixelTag.firePixelTag(p.url,{"eventFired":eventFired,"cacheBuster":p.cb||true,"startDt":p.startDt||null,"endDt":p.endDt||null});});}
const _fireConversionEvent=(el,rule)=>{bactm._log(':: Custom Event :: Handle Conversion Events.',LOG_LEVEL.DEBUG);const pageInfo=bactm._getPageInfo(getCurrentPageInfoArrayIndex(),getCurrentPageviewOptions());let eventName;const events=bactm._asArray(rule['conversions']);events.forEach(function(c){eventName=handleDynamicCategory(c.eventName,pageInfo,c);eventName=sanitizeEventName(c.eventName,pageInfo,c.config);bactm.conversion({eventName:eventName,actionType:c.actionType,category:c.category});});}
const fireBeacon=(el,rule)=>{try{bactm._log(':: Custom Event :: Handle Affliate Beacon Tag.',LOG_LEVEL.DEBUG);const beaconFlag=bactm.ddo.get('load_affiliateBeacon',false);if(beaconFlag){bactm.plugins.pixelTag.firePixelTag(rule['beacon'],{"cacheBuster":true,"startDt":null,"endDt":null});}}catch(err){bactm.reportError(err);}}
const fireCJ=(el,rule)=>{bactm._log(':: Custom Event :: Handle Commission Junction Tag.',LOG_LEVEL.DEBUG);bactm.trigger('fireCJ',rule['commissionJunction']);}
const _handleCustom=(el,rule)=>{const customEvents=bactm._asArray(rule.custom)
customEvents.forEach(function(customEvent){const localRule=customEvent;if(!customEvent||!customEvent.to)return;const customHandlers={'ga':_fireGoogleAnalytics,'cm':_fireCoremetricsManualLink};customEvent.to.forEach(function(provider){if(customHandlers[provider])customHandlers[provider](el,localRule);});});}
const _documentClickEventHandler=(e)=>{bactm._log('Handling a click event on the document.',e,LOG_LEVEL.DEBUG);const path=_getEventPath(e);bactm._log('The path for the element clicked is:',path,LOG_LEVEL.DEBUG);const matches=path.filter(function(el){const classes=typeof el.className==='string'?el.className.split(' ').filter(function(c){return c.length>0;}):[];const id=el.id||'';return classes.some(function(v){return classSelectors.indexOf(v)>=0;})||idSelectors.indexOf(id)>-1;});if(matches.length<=0)return;bactm._log('Matches found in DOM click path.',matches,LOG_LEVEL.DEBUG);matches.forEach(_processElementInPathMatch);}
const _addDocumentClickEventListener=()=>{bactm._log('Creating global click event listener.',LOG_LEVEL.DEBUG);if(!clickEventListenerAdded){document.addEventListener('click',_documentClickEventHandler,true);clickEventListenerAdded=true;}}
const _addInputEventListeners=()=>{bactm._log('Creating event listeners on inputs.',LOG_LEVEL.DEBUG);_addEventListeners(parsedRules.inputRules,'blur');}
const _addSelectEventListeners=()=>{bactm._log('Creating event listeners on select elements.',LOG_LEVEL.DEBUG);_addEventListeners(parsedRules.selectRules,'change');}
const _addHoverEventListeners=()=>{bactm._log('Creating event listeners on hover.',LOG_LEVEL.DEBUG);_addEventListeners(parsedRules.hoverRules,'hover');}
const _addEventListeners=(rules,event)=>{if(!Array.isArray(rules))return;rules.forEach(function(rule){if(rule.id){const el=document.getElementById(rule.id);if(el&&el.addEventListener){if(event==='hover'){_bindHoverEvent(el,rule);}else{el.addEventListener(event,function(e){_processRulesAgainstElement(this,rule);});}}}else if(rule.class){const elements=document.getElementsByClassName(rule.class);for(var i=0,Len=elements.length||0;i<Len;i++){var el=elements[i];if(el.addEventListener){if(event==='hover'){_bindHoverEvent(el,rule);}else{el.addEventListener(event,function(e){_processRulesAgainstElement(this,rule);});}}}}});}
const _bindHoverEvent=(el,rule)=>{let storage={};const tracker={get:function(el){return storage[el+'On'];},set:function(el,value){storage[el+'On']=value;},delete:function(el){delete storage[el+'On'];}}
const startHover=function(e){tracker.set(this.id,Date.now());}
const endHover=function(e){const end=Date.now(),start=tracker.get(this.id);if(end-start>500){hoverDuration=(end-start);_processRulesAgainstElement(el,rule);}
tracker.delete(this.id);}
el.addEventListener('mouseover',startHover);el.addEventListener('mouseout',endHover);}
const _handleCustomEvent=(details)=>{bactm._log('bactm.plugins.customEvents handling a customEvent.',LOG_LEVEL.DEBUG);if(typeof details==='undefined'||typeof details.eventKey==='undefined')return;const key=details.eventKey;const matchedRules=parsedRules.customRules.filter(function(rule){return rule.el.indexOf(key+':custom')===0;});if(matchedRules.length===0)return;matchedRules.forEach(function(rule){_processRulesAgainstCustomData(rule,details);});}
var _loadSettings=function(){bactm._log('Loading click handler settings.',LOG_LEVEL.DEBUG);const settings=utag_data['customEventSettings']||utag_data['Custom_Event_Settings'];if(!settings)return;try{if(typeof settings==='string'&&settings!="")settings=JSON.parse(settings);allRules=bactm._asArray(settings).map(function(rule){const classSelectorLoc=rule.el.indexOf('.'),idSelectorLoc=rule.el.indexOf('#'),pseudoClassSelectorLoc=rule.el.indexOf(':'),t=classSelectorLoc>-1?classSelectorLoc:idSelectorLoc,r=pseudoClassSelectorLoc>-1?pseudoClassSelectorLoc:rule.el.length,s=rule.el.substring(t,1),name=rule.el.substring(t+1,r);rule['id']='';rule['class']='';if(idSelectorLoc>-1){rule['id']=name;if(idSelectorLoc===0)idSelectors.push(name);}
if(classSelectorLoc>-1){rule['class']=name;if(classSelectorLoc===0)classSelectors.push(name);}
if(rule.custom){var customEvents;if(typeof rule.custom!==Array){customEvents=bactm._asArray(rule.custom);}
customEvents.forEach(function(customEvent){if(!customEvent.category)customEvent.category='';if(!customEvent.action)customEvent.action='';if(!customEvent.label)customEvent.label='{{id}}_{{ca}}';});rule.custom=customEvents;}
return rule;});}catch(e){bactm._log('Unable to parse the custom event settings. Valid JSON is required.',LOG_LEVEL.ERROR);return;}
parsedRules.clickRules=allRules.filter(function(rule){var s=rule.el?rule.el.substring(0,1):null;return s&&acceptedSelectors.indexOf(s)>-1;});parsedRules.inputRules=allRules.filter(function(rule){return rule.el.indexOf('input')===0;});parsedRules.selectRules=allRules.filter(function(rule){return rule.el.indexOf('select')===0;});parsedRules.hoverRules=allRules.filter(function(rule){return rule.el.indexOf(':hover')>-1;});parsedRules.scrollRules=allRules.filter(function(rule){return rule.el.indexOf(':scroll')>-1;});parsedRules.customRules=allRules.filter(function(rule){return rule.el.indexOf(':custom')>-1;})
bactm._log('Settings ready:',parsedRules,LOG_LEVEL.DEBUG);}
const _loadPageSettings=()=>{bactm._log('Loading page level settings.',LOG_LEVEL.DEBUG);settings=utag_data['pageSettings']||utag.globals.dle.data.pageSettings;if(typeof settings==='string'&&settings!=="")
settings=JSON.parse(settings);if(typeof settings!=='undefined')
parsedRules.pageRules=bactm._asArray(settings);}
const getCurrentPageInfoArrayIndex=()=>{if(!digitalData||!window.dataCollector)return;let dataCollectorCopy=[...window.dataCollector].reverse();dataCollectorCopy=dataCollectorCopy.filter(function(dataEvent){return dataEvent.event==='pageview';});return dataCollectorCopy[0].pageInfoKey!==undefined?dataCollectorCopy[0].pageInfoKey:0;}
const getCurrentPageviewOptions=()=>{if(!digitalData||!window.dataCollector)return;let dataCollectorCopy=[...window.dataCollector].reverse();dataCollectorCopy=dataCollectorCopy.filter(function(dataEvent){return dataEvent.event==='pageview';});return dataCollectorCopy[0].options?dataCollectorCopy[0].options:0;}
const _updateUtagData=(pageInfoArrayIndex)=>{if(!digitalData||!window.dataCollector)return;const pageInfoIndex=pageInfoArrayIndex||getCurrentPageInfoArrayIndex();const pageID=(pageInfoIndex&&digitalData.page.pageInfo[pageInfoIndex])?digitalData.page.pageInfo[pageInfoIndex].pageID:digitalData.page.pageInfo[0].pageID;const siteSettings=dle['siteSettings'];const pageSettings=dle['pageSettings'][pageID];let sitePageSettings={};for(key in pageSettings){if(siteSettings.hasOwnProperty(key)){sitePageSettings[key]=pageSettings[key].concat(siteSettings[key]);}else{sitePageSettings[key]=pageSettings[key];}}
for(key in siteSettings){if(!sitePageSettings.hasOwnProperty(key)){sitePageSettings[key]=siteSettings[key];}}
if(sitePageSettings.customEventSettings){utag_data.customEventSettings=sitePageSettings.customEventSettings;}
utag_data.pageSettings=sitePageSettings;}
const handleDynamicCategory=(eventName,pageInfo,conversion)=>{pageInfo||bactm._getPageInfo(getCurrentPageInfoArrayIndex(),getCurrentPageviewOptions());if(conversion.actionType==='complete'&&pageInfo.category.indexOf("HL:APP:DMA")>-1&&eventName==="App Start to Submit"){eventName="_"+pageInfo.category.split('_')[2]+" "+eventName;}
return eventName;}
const sanitizeEventName=(eventName,pageInfo,options)=>{let appName=pageInfo.appName||'';if(options.appNameOverride){appName=options.appNameOverride;}
if(eventName.indexOf('_')===0){eventName=appName+eventName;}else{eventName=appName+' '+eventName;}
return eventName;}
const _insertData=(s,data)=>{if(s.indexOf('{{')===-1||s.indexOf('}}')===-1)return s;for(var d in data){if(data.hasOwnProperty(d)){s=s.replace('{{'+d+'}}',data[d]);}}
return s;}
const _formatRuleWithData=(rule,data)=>{for(var r in rule){if(rule.hasOwnProperty(r)){if(typeof rule[r]==='string')rule[r]=_insertData(rule[r],data);else if(typeof rule[r]==='object')_formatRuleWithData(rule[r],data);}}}
const _getDataFromElement=(el)=>{return{'id':el.id||'','url':el.href||'','ca':el.getAttribute('data-bactmln')||el.getAttribute('data-bactm-ca')||'','ca[0]':(el.getAttribute('data-bactmln')&&el.getAttribute('data-bactmln').split('-_-').length>2)?el.getAttribute('data-bactmln').split('-_-')[0]:'','ca[1]':(el.getAttribute('data-bactmln')&&el.getAttribute('data-bactmln').split('-_-').length>2)?el.getAttribute('data-bactmln').split('-_-')[1]:'','ca[2]':(el.getAttribute('data-bactmln')&&el.getAttribute('data-bactmln').split('-_-').length>2)?el.getAttribute('data-bactmln').split('-_-')[2]:'','val':el.value?_sanitizeWhitespace(el.value):'','ht':hoverDuration}}
const _processRule=(ruleWithData,el)=>{bactm._log('Rule with data:',ruleWithData,LOG_LEVEL.DEBUG);const ruleHandlers={'custom':_handleCustom,'dart':_fireDART,'conversions':_fireConversionEvent,'millwardBrown':_fireMillwardBrown,'pixelTag':_firePixelTag,'bingUET':_fireBingUET,'scenarios':processScenarios,'beacon':fireBeacon,'commissionJunction':fireCJ,}
for(var r in ruleWithData){if(ruleWithData.hasOwnProperty(r)&&ruleHandlers[r])ruleHandlers[r](el,ruleWithData);}}
const _processRulesForPage=()=>{const rulesToFire=bactm._asArray(parsedRules.pageRules)
rulesToFire.forEach(function(rule){bactm._log('rule to fire:',rule,LOG_LEVEL.DEBUG);var localRule=JSON.parse(JSON.stringify(rule));_processRule(localRule,null);});}
const _processRulesAgainstElement=(el,rule,warmup)=>{const localRule=JSON.parse(JSON.stringify(rule));const data=_getDataFromElement(el);_formatRuleWithData(localRule,data);if(warmup)return;_processRule(localRule,el);}
const _processElementInPathMatch=(el)=>{bactm._log('Processing rules for:',el,LOG_LEVEL.DEBUG);const classes=typeof el.className==='string'?el.className.split(' ').filter(function(c){return c.length>0;}):[];const id=el.id||'';const rulesToFire=parsedRules.clickRules.filter(function(rule){return classes.indexOf(rule.class)>-1||(rule.id&&rule.id===id)});rulesToFire.forEach(function(rule){bactm._log('rule to fire:',rule,LOG_LEVEL.DEBUG);_processRulesAgainstElement(el,rule);});}
const _processRulesAgainstCustomData=(rule,details)=>{const localRule=JSON.parse(JSON.stringify(rule));let data={};for(var key in details){data['c.'+key]=typeof details[key]==='string'?details[key]:JSON.stringify(details[key]);}
_formatRuleWithData(localRule,data);_processRule(localRule);}
const _warmUp=()=>{const el=document.getElementsByTagName('a')[0];const rule=parsedRules.clickRules[0];if(el&&rule)_processRulesAgainstElement(el,rule,true);}
const _getEventPath=(event)=>{let path=[];let target=event.target;while(target.parentNode){path.push(target);target=target.parentNode;}
return path;}
const _sanitizeWhitespace=(value)=>{return value.replace(/\s/g,'');}
const _addScrollListeners=()=>{bactm._log('Creating event listeners on scroll.',LOG_LEVEL.DEBUG);document.addEventListener('scroll',_trackScroll);};const _fireScrollTag=(percentageScrolled)=>{if(!hasScrollTagFired[percentageScrolled]){bactm._log('bactm.plugins.customEvents handling a scroll event @ '+percentageScrolled,LOG_LEVEL.DEBUG);parsedRules.scrollRules.forEach(function(rule){if(parseInt(rule.el.split(':')[0].replace('depth',''),10)===percentageScrolled){_processRulesAgainstCustomData(rule,{eventKey:"scroll"+percentageScrolled});}});hasScrollTagFired[percentageScrolled]=true;}}
const _trackScroll=(event)=>{const clientY=Math.ceil(window.pageYOffset+window.innerHeight);const documentLength=Math.max(document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight);let percentageScrolled;if(documentLength>0){percentageScrolled=clientY/documentLength;}else{percentageScrolled=NaN;}
if(percentageScrolled>=.25){_fireScrollTag(25);}
if(percentageScrolled>=0.50){_fireScrollTag(50);}
if(percentageScrolled>=0.75){_fireScrollTag(75);}
if(percentageScrolled>=1){_fireScrollTag(100);}
if(isNaN(percentageScrolled)){bactm.log('bactm.plugin.customEvents scroll tracking percentage NaN',LOG_LEVEL.ERROR);}}
const customDimensions=()=>{if(digitalData.page.attributes.gaCustomDimension){let cdValue=1;let gaCDObject={};for(val in digitalData.page.attributes.gaCustomDimension){if(cdValue<=20){const key=(digitalData.page.attributes.gaCustomDimension[val].indexOf('digitalData')>-1)?digitalData.page.attributes.gaCustomDimension[val].replace('digitalData.',''):digitalData.page.attributes.gaCustomDimension[val];let customDimension=bactm.ddo.get(key,"Nothing Here");customDimension=sanitizeDimension(customDimension,key);if(customDimension!=="Nothing Here"){const cdProp='dimension'+cdValue;gaCDObject[cdProp]=customDimension;cdValue++;}}else{break;}}
return gaCDObject;}
else return undefined;}
const sanitizeDimension=(dimension,key)=>{if(typeof dimension==="boolean"||typeof dimension==="number"){switch(key){case'user.authenticated':return(dimension===true)?'authenticated':'unauthenticated';default:return dimension.toString();}}else{return dimension;}}
const _init=()=>{bactm._log('bactm.plugins.customEvents v'+version+' initializing.',LOG_LEVEL.INFO);if(utag_data['siteSettings']||utag.globals.dle.data.siteSettings){dle.pageSettings=utag_data['pageSettings']||utag.globals.dle.data.pageSettings;dle.customEventSettings=utag_data['customEventSettings'];dle.siteSettings=utag_data['siteSettings']||utag.globals.dle.data.siteSettings;dle.attributes=utag_data['attributes']||utag.globals.dle.data.attributes;}
bactm.on('initDLEValues',function(){if(utag_data['siteSettings']||utag.globals.dle.data.siteSettings){_updateUtagData();}
_loadSettings();_loadPageSettings();if(parsedRules.clickRules&&parsedRules.clickRules.length>0){bactm.ready(_warmUp);bactm.ready(_addDocumentClickEventListener);}
if(parsedRules.inputRules&&parsedRules.inputRules.length>0){bactm.ready(_addInputEventListeners);}
if(parsedRules.selectRules&&parsedRules.selectRules.length>0){bactm.ready(_addSelectEventListeners);}
if(parsedRules.hoverRules&&parsedRules.hoverRules.length>0){bactm.ready(_addHoverEventListeners);}
if(parsedRules.customRules&&parsedRules.customRules.length>0){bactm.on('customEvent',_handleCustomEvent);}
if(parsedRules.scrollRules&&parsedRules.scrollRules.length>0){bactm.ready(_addScrollListeners);}
if(parsedRules.pageRules){bactm.ready(_processRulesForPage);}});}
_init();return{};});};bactm.on('plugins:OneTrust:C0002:CustomEvents',_initCustomEvents);}}catch(e){utag.DB(e)}}];u.send=function(a,b){if(u.ev[a]||u.ev.all!==undefined){var c,d,e,f,i;u.data={};for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){}};for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){u.data[e[f]]=b[d];}}}
}};utag.o[loader].loader.LOAD(id);})("65","bofa.main");}catch(error){utag.DB(error);}
