/* Slot Placement [2_10_1_12022025_215429] | Copyright JPMorgan Chase & Co. */
/*! js-cookie v3.0.5 | MIT */
((e,t)=>{var i,r;"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("js-cookie",t):(e="undefined"!=typeof globalThis?globalThis:e||self,i=e.Cookies,(r=e.Cookies=t()).noConflict=function(){return e.Cookies=i,r})})(this,function(){function o(e){for(var t=1;t<arguments.length;t++){var i,r=arguments[t];for(i in r)e[i]=r[i]}return e}return function t(s,a){function i(e,t,i){if("undefined"!=typeof document){"number"==typeof(i=o({},a,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r,n="";for(r in i)i[r]&&(n+="; "+r,!0!==i[r])&&(n+="="+i[r].split(";")[0]);return document.cookie=e+"="+s.write(t,e)+n}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],i={},r=0;r<t.length;r++){var n=t[r].split("="),a=n.slice(1).join("=");try{var o=decodeURIComponent(n[0]);if(i[o]=s.read(a,o),e===o)break}catch(e){}}return e?i[e]:i}},remove:function(e,t){i(e,"",o({},t,{expires:-1}))},withAttributes:function(e){return t(this.converter,o({},this.attributes,e))},withConverter:function(e){return t(o({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(a)},converter:{value:Object.freeze(s)}})}({read:function(e){return(e='"'===e[0]?e.slice(1,-1):e).replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}),(e=>{function o(e,t,i,r,n){this._listener=t,this._isOnce=i,this.context=r,this._signal=e,this._priority=n||0}function r(e,t){if("function"!=typeof e)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function t(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){t.prototype.dispatch.apply(e,arguments)}}t.prototype={VERSION:"1.0.0",memorize:!(o.prototype={active:!0,params:null,execute:function(e){var t;return this.active&&this._listener&&(e=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,e),this._isOnce)&&this.detach(),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}}),_shouldPropagate:!0,active:!0,_registerListener:function(e,t,i,r){var n,a=this._indexOfListener(e,i);if(-1!==a){if((n=this._bindings[a]).isOnce()!==t)throw new Error("You cannot add"+(t?"":"Once")+"() then add"+(t?"Once":"")+"() the same listener without removing the relationship first.")}else n=new o(this,e,t,i,r),this._addBinding(n);return this.memorize&&this._prevParams&&n.execute(this._prevParams),n},_addBinding:function(e){for(var t=this._bindings.length;this._bindings[--t]&&e._priority<=this._bindings[t]._priority;);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var i,r=this._bindings.length;r--;)if((i=this._bindings[r])._listener===e&&i.context===t)return r;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,i){return r(e,"add"),this._registerListener(e,!1,t,i)},addOnce:function(e,t,i){return r(e,"addOnce"),this._registerListener(e,!0,t,i)},remove:function(e,t){r(e,"remove");t=this._indexOfListener(e,t);return-1!==t&&(this._bindings[t]._destroy(),this._bindings.splice(t,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active){var e,t=Array.prototype.slice.call(arguments),i=this._bindings.length;if(this.memorize&&(this._prevParams=t),i)for(e=this._bindings.slice(),this._shouldPropagate=!0;e[--i]&&this._shouldPropagate&&!1!==e[i].execute(t););}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var i=t;i.Signal=t,"function"==typeof define&&define.amd?define("signals",[],function(){return i}):"undefined"!=typeof module&&module.exports?module.exports=i:e.signals=i})(this);var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,t){var i={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]]);return i},__spreadArray=this&&this.__spreadArray||function(e,t,i){if(i||2===arguments.length)for(var r,n=0,a=t.length;n<a;n++)!r&&n in t||((r=r||Array.prototype.slice.call(t,0,n))[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},__extends=this&&this.__extends||(()=>{var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}})(),__awaiter=this&&this.__awaiter||function(e,o,s,c){return new(s=s||Promise)(function(i,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function n(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?i(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,n)}a((c=c.apply(e,o||[])).next())})},__generator=this&&this.__generator||function(r,n){var a,o,s,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},d=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return d.next=e(0),d.throw=e(1),d.return=e(2),"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function e(i){return function(e){var t=[i,e];if(a)throw new TypeError("Generator is already executing.");for(;c=d&&t[d=0]?0:c;)try{if(a=1,o&&(s=2&t[0]?o.return:t[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,t[1])).done)return s;switch(o=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,o=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(s=0<(s=c.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))c.label=t[1];else if(6===t[0]&&c.label<s[1])c.label=s[1],s=t;else{if(!(s&&c.label<s[2])){s[2]&&c.ops.pop(),c.trys.pop();continue}c.label=s[2],c.ops.push(t)}}t=n.call(r,c)}catch(e){t=[6,e],o=0}finally{a=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};define("slotplacement/clientconfig",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default={}}),define("mktui-fx/ads/decision/PersonalizedDecisionRequest",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.httpRequestMethods=void 0,t.httpRequestMethods={GET:"GET",POST:"POST"}}),define("mktui-fx/common/adConstants",["require","exports","mktui-fx/ads/decision/PersonalizedDecisionRequest"],function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.adConstants=void 0,t.adConstants={analytics:{defaultAdId:"62146166",web:{adEventCode:"13",logErrorCode:"99"},userGroup:{category:"AB_screen_test",elementName:"DecisionEngine",product:"DarkCanary",elementContext:"ads.cxoandmobile.engine.experiment:"},personalization:{eventCategory:{abScreenTestCode:"2",abScreenTest:"AB_Screen_Test"},product:{testAndTarget:"tnt",splitio:"Split"},elementName:{failedTargetCall:"00000:0:0",adExperiment:"Ad_Experiment"},eventType:{impression:"15"}},optimizeAnalytics:{adConfigFlagName:"optimizeAnalyticsEnabled",adConfigFlagNameForFlagsByPage:"optimizeAnalyticsEnabledByPage",splitioFlagName:"adfw_secure_consolidated_payload_enable"}},apiErrors:{noData:"No_Data",noResponseKeys:"No_Response_Keys",noStatusCode:"No_Status_Code"},decision:{personalizedRecoEngine:{sourceApplicationSystemName:"DIGITAL_WEB",screenSectionIdentifier:"ADFMWK",adConfigFlagName:"personalizedRecoEngineEnabledByPage",httpRequestMethod:i.httpRequestMethods.GET}},contentErrors:{noData:"No_Data"},cardlyricsApiNames:{hash:"Hash_Api",secToken:"SecurityToken_Api",getOfferCountDetail:"GetOfferCountDetail_Api",getSession:"getSession_Api",getOffers:"getOffers_Api"},httpStatusTimeout:0,httpReadyStateTimeout:0,httpStatusOk:200,httpReadyStateUnsent:0,httpReadyStateOk:4,ssv_channel:"web",clientId:"{{mkt-adf-version}}",dynamicAdCheck:"/services/creatives/private/native-dynamic-ads",adImpression:"adimpression",cidVersionMapping:{"1.0":"1.0/{{channel}}",1.1:"1.1/{{channel}}/{{language}}"},cookies:{iosEci:"primaryECI",androidEci:"primaryEci",profileId:"profileId"},analyticsClickEventDelayMillis:200,defaultFetchTimeout:1e4,genericErrorMessage:"error",genericTimeoutErrorMessage:"timeout",recoEngineDisabledErrorMessage:"Stopped routing decision calls to P&I due to a major failure in the server infrastructure",adViewPercentageForViewImpression:.5,adImpressionTimeout:1e3,previewPageDefaultValue:"previewDefaultValue"}}),define("mktui-fx/common/adConfig",["require","exports","slotplacement/slotplacementconfig","slotplacement/clientconfig","mktui-fx/common/adConstants"],function(e,t,i,r,f){Object.defineProperty(t,"__esModule",{value:!0}),t.adConfig=void 0,i=__importDefault(i),r=__importDefault(r);var p={defaultRecoDomain:"",vastOfferRequestParams:{},analyticsEnabled:!1,adTrackingDisabled:!1,pixelTagEnabled:!1,analyticsBeaconEnabled:!1,loggingEnabled:!1,debugEnabled:!1,duplicateImpressionTracking:!1,intersectionObserverForViewImpressionsEnabled:!1,eci:"",pfid:"",frameworkVersion:"2_10_1_12022025_215429",borrowingPowerPlacements:["bpheader","lobtile1","lobtile2","lobtile3"]};a.prototype.setAdConfig=function(e,t){void 0===t&&(t={});var e=__assign(__assign({},e=void 0===e?{}:e),t),t=e.loggingEnabled,i=e.debugEnabled,r=e.adTrackingDisabled,n=e.isAnalyticsEnabled,a=e.isPixelTagEnabled,o=e.analyticsBeaconEnabled,s=e.intersectionObserverForViewImpressionsEnabled,c=e.duplicateImpressionTracking,d=e.recoEngineDisabled,l=e.optimizeAnalyticsEnabled,u=e.disablePlacementDecisionService,e=__rest(e,["loggingEnabled","debugEnabled","adTrackingDisabled","isAnalyticsEnabled","isPixelTagEnabled","analyticsBeaconEnabled","intersectionObserverForViewImpressionsEnabled","duplicateImpressionTracking","recoEngineDisabled","optimizeAnalyticsEnabled","disablePlacementDecisionService"]),t=__assign(__assign(__assign({},p),e),((e={adBlockerDetected:"N",loggingEnabled:!!window.console&&"true"===t,adTrackingDisabled:"true"===r,analyticsEnabled:"true"===n,pixelTagEnabled:"true"===a,analyticsBeaconEnabled:"true"===o,intersectionObserverForViewImpressionsEnabled:"true"===s,duplicateImpressionTracking:"true"===c,_debugEnabled:!!window.console&&"true"===i,recoEngineDisabled:"true"===d})[f.adConstants.analytics.optimizeAnalytics.adConfigFlagName]="true"===l,e[f.adConstants.analytics.optimizeAnalytics.adConfigFlagNameForFlagsByPage]={},e[f.adConstants.decision.personalizedRecoEngine.adConfigFlagName]={},e.disablePlacementDecisionService="true"===u,e));this.config=(t=>{try{var e=(e=JSON.stringify(t)).replace(/##timestampParam##/g,Math.trunc((new Date).getTime()/1e3/60/10).toString());return JSON.parse(e)}catch(e){return t}})(t),Object.defineProperty(this.config,"debugEnabled",{get:function(){return this._debugEnabled||(()=>{try{return!(!localStorage||!localStorage.getItem("mktuiForceDebug"))}catch(e){return!1}})()},set:function(e){this._debugEnabled=e},enumerable:!0,configurable:!1}),f.adConstants.clientId="mkt-adf-version-".concat(this.config.frameworkVersion)},a.prototype.getProperty=function(e){e=this.config[e];return Array.isArray(e)?__spreadArray([],e,!0):"object"==typeof e?__assign({},e):e},a.prototype.setProperty=function(e,t){this.config[e]=t},a.prototype.setNestedProperty=function(e,t,i){this.config[e]?this.config[e][t]=i:this.config[e]=((e={})[t]=i,e)};var n=a;function a(){}t.adConfig=new n,t.adConfig.setAdConfig(i.default,r.default)}),define("mktui-fx/ads/decision/PersonalizedDecisionResponse",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.PersonalizedRecommendationEventTypeCode=void 0,t.PersonalizedRecommendationEventTypeCode={OFFER:"OFFER",INSIGHT:"INSIGHT",ENRICHED_OFFER:"ENRICHED_OFFER"}}),define("mktui-fx/ads/decision/DecisionRecord",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DecisionRecord=void 0,t.DecisionRecord=function(){this.turl="",this.ctype="html",this.dynamicData={},this.url="",this.targetsize="",this.target=""}}),define("mktui-fx/common/AdOperationType",["require","exports"],function(e,t){var i;Object.defineProperty(t,"__esModule",{value:!0}),t.AdOperationType=void 0,t.isTypeOfDecisionError=function(e){return e===i.decision_fail||e===i.decision_timeout_fail},(t=i||(t.AdOperationType=i={})).decision_fail="decision_fail",t.decision_timeout_fail="decision_timeout_fail",t.content_fail="content_fail",t.ad_data_fail="ad_data_fail",t.api_data_fail="api_data_fail",t.data_replace_fail="data_replace_fail",t.creative_mismatch="creative_mismatch",t.duplicate_impression="duplicate_impression",t.duplicate_click="duplicate_click",t.failover_service_error="failover_service_error",t.no_page_id="no_page_id",t.cardlytics_error="cardlytics_error",t.cardlytics_content_fail="cardlytics_content_fail",t.midas_turl_missing="midas_turl_missing",t.template_bundle_load_fail="template_bundle_load_fail",t.preview_template_bundle_load_fail="preview_template_bundle_load_fail",t.failover_ad_load="failover_ad_load",t.no_decision_url="no_decision_url",t.plc_config_fail="plc_config_fail",t.ad_render="ad_render",t.ad_error="ad_error",t.personalization_data_load_fail="personalization_data_load_fail"}),define("mktui-fx/ads/placement/PlacementDataRecord",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/analytics/AnalyticsEvents",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AnalyticsEvents=void 0,t.AnalyticsEvents={impression:"impression",click:"click"}}),define("mktui-fx/ads/analytics/PublicAnalyticsPayload",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/util/commonUtils",["require","exports","mktui-fx/common/adConfig"],function(e,i,t){function r(e){return encodeURIComponent(e).replace(/[!'()*]/g,escape)}function n(e){var t="",e=e&&e.dynamicData?Object.keys(e.dynamicData):[];return t=0<e.length?e[0]:t}function a(){var i={},e=new Promise(function(e,t){i.resolve=e,i.reject=t});return i.promise=function(){return e},i}Object.defineProperty(i,"__esModule",{value:!0}),i.objAssign=i.Deferred=void 0,i.debounce=function(r,n,a){void 0===n&&(n=100);void 0===a&&(a=!1);var o;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=null;o?clearTimeout(o):a&&r.apply(i,e),o=setTimeout(function(){a||r.apply(i,e),o=null},n)}},i.strictEncodeURIComponent=r,i.stringifyAndEncodeAdditionalLoggerDetails=function(e){var i="";return Object.entries(e).filter(function(e){e[0];e=e[1];return void 0!==e&&"undefined"!==e&&""!==e}).forEach(function(e){var t=e[0],e=e[1];i+=r("|".concat(t,":").concat(e))}),i},i.isCrossDomain=function(e){var t=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,e=t.exec(e.toLowerCase()),t=t.exec(document.location.protocol+"//"+document.location.host);return t&&e&&(t[1]!=e[1]||t[2]!=e[2]||(t[3]||("http:"===t[1]?80:443))!=(e[3]||("http:"===e[1]?80:443)))},i.replaceContentServerHost=function(e){return e.replace(/\"\//g,'"'+t.adConfig.getProperty("contentServer")+"/").replace(/\'\//g,"'"+t.adConfig.getProperty("contentServer")+"/")},i.addQueryParameterToUrl=function(e,t){var i=/[?&]/.test(e)?"&":"?",r=Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&");return e+i+r},i.getQueryStringFromURL=function(e){var t=e.indexOf("?");return 0<t?e.substring(t+1):e},i.generateValueArray=function(t){return"function"==typeof Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})},i.getJSONObj=function(e){try{return JSON.parse(e)}catch(e){return!1}},i.cleanObject=function(e){var t,i=Object.assign({},e);for(t in i)i[t]||delete i[t];return i},i.replaceDynamicDataForNonPersonalizedAd=function(e,t){var i=n(e);{var r;i&&(r=new RegExp("{{"+i+"}}","g"),t=t.replace(r,e.dynamicData[i]))}return t},i.getDynamicKey=n,i.isArray=function(e){return Array.isArray(e)},i.isEmptyObject=function(e){return!e||0===Object.keys(e).length},i.isPlainObject=function(e){return"object"==typeof e&&null!=e&&!(e.constructor&&!Object.prototype.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))},i.groupItemsByKey=function(e,i){void 0===e&&(e=[]);var r={};e&&e.forEach(function(e){var t=e[i]||"";r[t]=r[t]||[],r[t].push(e)});return r},i.convertToCaseInsensitive=function(e){return e.toLowerCase()},i.isFunction=function(e){return"function"==typeof e},i.convertQueryStringToJSON=function(e,r){void 0===e&&(e="");void 0===r&&(r={});return e.split("&").map(function(e){return e.split("=")}).map(function(e){var t=e[0],i={};return i[r[t]||t]=e[1],i}).reduce(function(e,t){return(0,i.objAssign)(t,e)},{})},i.defer=a,i.Deferred=a,i.objAssign=Object.assign||__assign}),define("mktui-fx/ads/topic",["require","exports","signals","mktui-fx/util/commonUtils"],function(e,t,i,d){Object.defineProperty(t,"__esModule",{value:!0}),t.Channel=void 0,t.Topic=l;var r,n={},a=(r=i.Signal,__extends(o,r),o.prototype.clear=function(){return this.forget()},o.prototype.publish=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.dispatch.apply(this,e)},o.prototype.subscribe=function(e,t,i){return this.add(e,t,i)},o.prototype.unsubscribe=function(e){return this.remove(e)},o);function o(e){var t=r.call(this)||this;return t.memorize=!0,t.name=e||"",t}function l(e){var t=e&&n[e];return t||(t=new a(e),e&&(n[e]=t)),t}t.Channel=a,l.Channel=a,l.channels=n,l.exists=function(e){return!!n[e]},l.publish=function(e,t){for(var i=e.split(" "),r=0,n=i.length;r<n;r++){var a=l(i[r]);a.publish.apply(a,t||[])}},l.subscribe=function(e,t,i){var r,n,a,o={},s={},c=0;(0,d.isPlainObject)(e)?(o=e,i=Array.prototype.pop.call(arguments),t=void 0):o[e]=t;for(a in o)(e=>{var t=o[e];r=l(e),i=i||r,n=function(){t.apply(i,arguments)},r.subscribe(n),s[e]=n,c++})(a);return 1===c?s[e]:s},l.unsubscribe=function(e,t){var i,r={};for(i in(0,d.isPlainObject)(e)?r=e:r[e]=t,r){var n=r[i];l(i).unsubscribe(n)}}}),define("mktui-fx/ads/analytics/AnalyticsChannels",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AnalyticsChannels=void 0,t.AnalyticsChannels={impressionChannel:"requestAdvertisementActionsDisplay",clickChannel:"requestAdvertisementDetails",personalizationChannel:"sendPersonalizationImpression"}}),define("mktui-fx/common/adEvents",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AdEvents=void 0,t.AdEvents={adError:"adError",adUpdate:"adUpdate",adFailover:"adFailover",adCollectionError:"adCollectionError",adCollectionUpdate:"adCollectionUpdate",trackfailOverImpression:"trackfailOverImpression",trackAdImpression:"trackAdImpression",trackfailOverClick:"trackfailOverClick",trackAdClick:"trackAdClick"}}),define("mktui-fx/util/featureDetection",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.supportsCookies=function(){return void 0!==document.cookie},t.supportsXhrCORS=function(){return XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}}),define("mktui-fx/util/CookieReader",["require","exports","js-cookie","mktui-fx/util/commonUtils"],function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieReader=void 0,t.readCookie=function(e){return(0,t.CookieReader)(e).read()},t.getCookieParamFromPipedList=function(e,t){void 0===e&&(e="");t=new RegExp(t+"\\|\\w+\\|").exec(decodeURIComponent(e));return(t?t[0].split("|"):[])[1]||""},r=__importDefault(r);var i=window.document.domain,a=window.location.protocol,o=/localhost|127\.0\.0\.1/.test(i),s=/\b\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\b/.test(i),a=/https/.test(a),c=(()=>{var e;return o||(s?e=i:i&&-1!==i.indexOf(".")&&(e="."+i.split(".").slice(-2).join("."))),e})(),d={};t.CookieReader=function(i,e){var t=i&&d[i];return t||(t={settings:e||{},erase:function(e){e=(0,n.objAssign)({},this.settings,e||{});try{r.default.remove(i,e)}catch(e){}},read:function(){var e;try{e=r.default.get(i)}catch(e){}return e},write:function(e,t){t=(0,n.objAssign)({},this.settings,t||{});try{r.default.set(i,e,t)}catch(e){}}},i&&(d[i]=t)),t},r.default.withAttributes({path:"/",secure:a,raw:!0,domain:c})}),define("mktui-fx/environment/VFirstCookie",["require","exports","mktui-fx/util/featureDetection","mktui-fx/util/CookieReader"],function(e,t,i,r){Object.defineProperty(t,"__esModule",{value:!0}),t.VFirstCookie=void 0;(t.VFirstCookie=void 0,i.supportsCookies)()&&(t.VFirstCookie=function(){var t=(0,r.CookieReader)("v1st"),i=/^\w+$/;return{read:function(){var e=t.read();return e=i.test(e)?e:void 0}}})}),define("mktui-fx/environment/PersonaCookie",["require","exports","mktui-fx/util/featureDetection","mktui-fx/util/CookieReader","mktui-fx/util/commonUtils"],function(e,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0}),t.PersonaCookie=t.Persona=void 0;var f,n,a=function(){this.pfid="",this.ECI="",this.locale="",this.segment="",this.zip=""};t.Persona=a,(0,i.supportsCookies)()&&(window.document,f=function(e,t){var i,r;return-1!==e.indexOf(t)?(r=(i=e.charAt(e.length-1)===t)&&e.charAt(e.length-2)===t,(i&&!r?e.substring(0,e.length-1):e).split(t)):e},n=function(e,t,i){var r=i[e];if(r)for(var n=0,a=r.length;n<a;n++)if(t==r[n])return"Y";return"N"},t.PersonaCookie=function(){return{read:function(e){void 0===e&&(e=!1);var t=(0,r.CookieReader)("PC_1_0").read();if(!e)try{(t=(e=>{for(var t=f(unescape(e),"|"),i={},r=0,n=t.length;r<n;r++){var a=t[r].split("="),o=a[0],s=f(decodeURIComponent(a[1]),"&");if((0,u.isArray)(s))for(var c=0,d=s.length;c<d;c++){var l=(l=s.shift()).split(",");s.push(l)}else s=f(s,",");i[o]=s}return i})(t)).pplr=n("ppl","A",t),t.fieir=n("fiei","Y",t),t.fpeir=n("fpei","Y",t),t.sieir=n("siei","Y",t),t.tieir=n("tiei","Y",t),t.accounts=(e=>{var t={};if(e)for(var i=0,r=e.length;i<r;i++){var n=e[i];t[n[0]]={},t[n[0]].uratc=n[1],t[n[0]].rwdb=n[2]}return t})(t.accts)}catch(e){}return __assign(__assign({},new a),t)}}})}),define("mktui-fx/environment/channelEnvironment",["require","exports","mktui-fx/environment/VFirstCookie","mktui-fx/environment/PersonaCookie","mktui-fx/common/adConfig","mktui-fx/util/CookieReader","mktui-fx/common/adConstants","mktui-fx/util/commonUtils"],function(e,t,i,r,n,a,o,s){Object.defineProperty(t,"__esModule",{value:!0}),t.channelEnvironment=t.ChannelEnvironment=void 0;d.prototype.getVFirstId=function(){return(0,i.VFirstCookie)().read()||""},d.prototype.getResolvedEci=function(){return this.getPersona().ECI||n.adConfig.getProperty("eci")||(0,a.CookieReader)(o.adConstants.cookies.iosEci).read()||(0,a.CookieReader)(o.adConstants.cookies.androidEci).read()||""},d.prototype.getResolvedProfileId=function(){return this.getPersona().pfid||n.adConfig.getProperty("pfid")||(0,a.CookieReader)(o.adConstants.cookies.profileId).read()||""},d.prototype.getPersona=function(){return(0,s.isFunction)(r.PersonaCookie)?(0,r.PersonaCookie)().read():new r.Persona},d.prototype.getChannel=function(){return this.isCXO()?"cxo":"public"},d.prototype.isCXO=function(){return window.Blue&&window.Blue.version},d.prototype.getTemplateBundleByChannel=function(e){return n.adConfig.getProperty("templateBundlesByChannel")[e]};var c=d;function d(){}t.ChannelEnvironment=c,t.channelEnvironment=new c}),define("mktui-fx/common/AdEvent",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AdEvent=void 0,t.AdEvent=function(e){this.eventType=e}}),define("mktui-fx/util/cors",["require","exports","mktui-fx/util/commonUtils","mktui-fx/common/adConstants","mktui-fx/util/Logger"],function(e,t,i,l,u){function r(e){return{textStatus:e.textStatus||l.adConstants.genericErrorMessage,statusText:e.statusText||l.adConstants.genericErrorMessage,status:e.status,readyState:void 0!==e.readyState?e.readyState:l.adConstants.httpReadyStateOk}}function f(e){var t,i;return e.ok?(t=0<=(e.headers.get("content-type")||"").indexOf("application/json")?e.json():e.text(),i=e,t.catch(function(e){var t;return e instanceof SyntaxError?((t=r(i)).statusText=e.message,t.stack=e.stack,Promise.reject(t)):Promise.reject(e)})):(t=r(e),Promise.reject(t))}function p(o){var e=Object.keys(o).map(function(e){var t=o[e];if(Array.isArray(t)&&0<t.length){for(var i="",r=0,n=t;r<n.length;r++){var a=n[r];i+=e+"="+encodeURIComponent(a),t.indexOf(a)!==t.length-1&&(i+="&")}return i}return e+"="+encodeURIComponent(o[e])}).join("&");return e=(e=e.replace(/%5Bobject%20Object%5D/g,"")).replace(/\[object%20Object\]/g,"")}function m(e){var t;return e instanceof TypeError?((t=r(e)).readyState=l.adConstants.httpReadyStateUnsent,t.statusText=e.message,t.stack=e.stack,Promise.reject(t)):Promise.reject(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CORS=void 0;t.CORS=function(r,e){var n,a=(e=void 0===e?{}:e).method||"GET",o=e.headers,s=e.timeout||l.adConstants.defaultFetchTimeout,c=window.AbortController&&new AbortController,d=c&&c.signal,t="";return 0<=["GET","HEAD","DELETE"].indexOf(a)&&e.data?t="?"+p(e.data):o&&"application/x-www-form-urlencoded"===o["Content-Type"]?n=p(e.data):e.data&&(n=(0,i.isPlainObject)(e.data)?JSON.stringify(e.data):e.data),r+=t,new Promise(function(e,t){var i=setTimeout(function(){u.Logger.debugMsg("".concat(l.adConstants.genericTimeoutErrorMessage," : ").concat(r)),c&&c.abort();var e={textStatus:l.adConstants.genericTimeoutErrorMessage,statusText:l.adConstants.genericTimeoutErrorMessage,status:l.adConstants.httpStatusTimeout,readyState:l.adConstants.httpReadyStateTimeout};t(e)},s);fetch(r,{method:a,signal:d,headers:o,body:n}).then(e,t).finally(function(){return clearTimeout(i)})}).then(f,m)}}),define("mktui-fx/util/domUtils",["require","exports","mktui-fx/util/Logger","mktui-fx/util/cors"],function(e,t,i,r){Object.defineProperty(t,"__esModule",{value:!0}),t.domUtil=t.DomUtil=void 0;a.prototype.invokePixelTag=function(t){i.Logger.debugMsg("[AdSummary] - Invoking the get call for URL: ",t),(0,r.CORS)(t).then(function(e){return i.Logger.debugMsg("[AdSummary] - Analytics event sent through AJAX for URL: ",t)},function(e){return i.Logger.debugMsg("[AdSummary] - Analytics event sent through AJAX is failed for URL: ".concat(t," with Error: ").concat(e))})},a.prototype.computeAreaOverlap=function(e,t){t=Math.max(0,Math.min(t.right,e.right)-Math.max(t.left,e.left))*Math.max(0,Math.min(t.bottom,e.bottom)-Math.max(t.top,e.top)),e=(e.right-e.left)*(e.bottom-e.top);return t&&e?t/e:0},a.prototype.checkAreaImpression=function(e,t){e=e&&e.getBoundingClientRect();return 50<=(e?100*this.computeAreaOverlap(e,t):0)},a.prototype.isElementInViewport=function(e){var t=e&&e.parentElement,i={left:0,top:0,right:window.innerWidth,bottom:window.innerHeight};return!(!this.checkAreaImpression(e,i)||t&&null!=t.getAttribute("aria-hidden")&&"false"!=t.getAttribute("aria-hidden"))},a.prototype.hasClass=function(e,t){return e&&t&&e.classList.contains(t)},a.prototype.addClass=function(e,t){e&&t&&e.classList.add(t)},a.prototype.updateHtml=function(e,t){window.jQuery?window.jQuery(e).html(t):e.innerHTML=t},a.prototype.pauseBrowser=function(e){for(var t=Date.now();Date.now()-t<e;);};var n=a;function a(){}t.DomUtil=n,t.domUtil=new n}),define("mktui-fx/common/AdLabels",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AdLabels=void 0,t.AdLabels={defaultAd:"default",decisionEngine:"midas"}}),define("mktui-fx/environment/AdobeCookie",["require","exports","mktui-fx/util/featureDetection","mktui-fx/util/CookieReader"],function(e,t,i,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AdobeCookie=t.MARKETING_CLOUD_VISITOR_ID_KEY=void 0;t.MARKETING_CLOUD_VISITOR_ID_KEY="MCMID";t.AdobeCookie=function(){var e=(0,i.supportsCookies)()?(0,r.CookieReader)("AMCV_EA673DFC5A2F19060A495C9C@AdobeOrg"):void 0,t={read:function(){return e?e.read():""},readParam:function(e){return(0,r.getCookieParamFromPipedList)(t.read(),e)}};return t}}),define("mktui-fx/ads/experimentation/adobeTarget.service",["require","exports","mktui-fx/common/adConfig","mktui-fx/common/adConstants","mktui-fx/util/Logger","mktui-fx/util/commonUtils","mktui-fx/util/cors"],function(e,t,o,r,s,c,d){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchExperienceVariationsFromAdobeTarget=function(e){var t=(0,c.Deferred)(),i=o.adConfig.getProperty("creativeExperimentationTargetUrl"),r=e.mboxIds,n=e.marketingId,a=e.eci,e=e.profileId,n={method:"GET",data:{mboxid:r.join(","),marketingid:n||"",eci:a||"",pfid:e||""}};return(0,d.CORS)(i,n).then(function(e){(0,c.isEmptyObject)(e)||!e.attributes?(s.Logger.errorMsg("Invalid response from Adobe Target for mboxId(s):".concat(r,". Received: ").concat(e)),t.reject("Invalid response from Adobe Target for mboxId(s):".concat(r))):(e=(e=>{for(var t=0,i=Object.entries(e.attributes);t<i.length;t++){var r=i[t],n=r[0],r=r[1];e.attributes[n]=(e=>{var t,i={mboxId:e.mboxid,testAndTargetId:e.tntid||"",analyticsId:e.analyticsid||""},r=e.content;if((0,c.isEmptyObject)(r)||u in r)i.result=void 0;else switch(r.type){case l.BOOLEAN:i.result=null==(t=r.property)?void 0:t.enableTargetedExperience;break;case l.PATH:f in r?i.result=r[f]:i.result=r.property;break;default:i.result=r}return i})(r)}return e.attributes})(e),t.resolve(e))},function(e){s.Logger.errorMsg("Unable to fetch experience variations from Adobe Target for mboxId(s):".concat(r,". Received: ").concat(e)),t.reject("Target call failed due to ".concat(e.statusText,". HTTP error code: ").concat(e.status))}),t.promise()},t.createTargetImpressionPayload=function(e,t,i){void 0===t&&(t=r.adConstants.analytics.personalization.elementName.failedTargetCall);void 0===i&&(i="");return{product:r.adConstants.analytics.personalization.product.testAndTarget,category:r.adConstants.analytics.personalization.eventCategory.abScreenTestCode,elementPlacement:e,elementName:t,elementContext:i}},t.createTargetImpressionPayloadForAnalyticsLite=function(e,t,i){void 0===t&&(t=r.adConstants.analytics.personalization.elementName.failedTargetCall);void 0===i&&(i="");return{jp_pepr:r.adConstants.analytics.personalization.product.testAndTarget,jp_petc:r.adConstants.analytics.personalization.eventCategory.abScreenTestCode,jp_pepl:e,jp_peid:t,jp_pecv:i}};var l,u="no_content",f="adCreativeURL";(t=l=l||{}).BOOLEAN="boolean-only-eval",t.PATH="path-evaluation"}),define("mktui-fx/ads/content/creativeExperimentation",["require","exports","mktui-fx/common/adConfig","mktui-fx/common/adConstants","mktui-fx/environment/AdobeCookie","mktui-fx/util/commonUtils","mktui-fx/ads/experimentation/adobeTarget.service"],function(e,t,n,a,o,s,c){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchCreativeExperimentation=function(i){var r=(0,s.Deferred)(),e={mboxIds:[i.mboxId],marketingId:(0,o.AdobeCookie)().readParam(o.MARKETING_CLOUD_VISITOR_ID_KEY)||"",eci:n.adConfig.getProperty("eci")||"",profileId:n.adConfig.getProperty("pfid")||""};return(0,c.fetchExperienceVariationsFromAdobeTarget)(e).then(function(e){var e=e[i.mboxId],t=null==e?void 0:e.result;i.creativeExperimentationDetails={analyticsid:null!=e&&e.analyticsId?e.analyticsId:a.adConstants.analytics.personalization.elementName.failedTargetCall},r.resolve(t)},function(e){i.creativeExperimentationDetails={experimentationStatusDetails:e},r.resolve(void 0)}),r.promise()},t.createCreativeExperimentationImpressionPayload=function(e){var t;return(0,c.createTargetImpressionPayload)(e.mboxId,null==(t=e.creativeExperimentationDetails)?void 0:t.analyticsid,null==(t=e.creativeExperimentationDetails)?void 0:t.experimentationStatusDetails)},t.createCreativeExperimentationImpressionPayloadForAnalyticsLite=function(e){var t;return(0,c.createTargetImpressionPayloadForAnalyticsLite)(e.mboxId,null==(t=e.creativeExperimentationDetails)?void 0:t.analyticsid,null==(t=e.creativeExperimentationDetails)?void 0:t.experimentationStatusDetails)}}),define("mktui-fx/ads/placement/AdParameterOptions",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/experimentation/splitio.service",["require","exports","mktui-fx/common/adConstants"],function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.createSplitImpressionPayload=function(e){return{product:i.adConstants.analytics.personalization.product.splitio,category:i.adConstants.analytics.personalization.eventCategory.abScreenTest,elementPlacement:"",elementName:i.adConstants.analytics.personalization.elementName.adExperiment,elementContext:e}},t.createSplitImpressionPayloadForAnalyticsLite=function(e){return{jp_pepr:i.adConstants.analytics.personalization.product.splitio,jp_petc:i.adConstants.analytics.personalization.eventCategory.abScreenTest,jp_pepl:"",jp_peid:i.adConstants.analytics.personalization.elementName.adExperiment,jp_pecv:e}}}),define("mktui-fx/ads/analytics/reportingPublicSite",["require","exports","mktui-fx/common/adConfig","mktui-fx/util/commonUtils","mktui-fx/ads/analytics/AnalyticsEvents","mktui-fx/util/Logger","mktui-fx/util/domUtils","mktui-fx/common/AdLabels","mktui-fx/common/adConstants","mktui-fx/ads/analytics/analyticsLiteService","mktui-fx/ads/content/creativeExperimentation","mktui-fx/ads/experimentation/splitio.service"],function(e,t,i,r,l,n,a,d,u,o,s,f){Object.defineProperty(t,"__esModule",{value:!0}),t.reportingPublicSite=t.ReportingPublicSite=void 0;p.prototype.handlePublicAdImpression=function(e,t,i,r,n){var a,o,s,c=__assign({},t);c.adLabel===d.AdLabels.defaultAd||c.failOverAdIds?(a=c.failOverAdIds&&c.failOverAdIds.pid?c.failOverAdIds.pid:c.failoverAdId,s=c.failoverReason):n&&(a=n.creativeId||n.wa_aid,o=n.midas_id),a&&this.sendAdImpressionToAdobe({wa_aid:a,pageId:r,placementId:e,midasId:o||"",adVariantData:i,failoverReason:s},n,t)},p.prototype.sendAdImpressionToAdobe=function(e,t,i){void 0===t&&(t={}),void 0===i&&(i={}),e.event=l.AnalyticsEvents.impression,t&&t.decisionAnalytics&&!e.failoverReason&&(e.decisionAnalytics=__assign(__assign({},t.decisionAnalytics),{"recommendation-event-type-code":"VIEW"})),t&&t.contentExperimentationDetails&&(e.contentExperimentationDetails=t.contentExperimentationDetails);i=this.createPixelUrl(e);t&&t.creativeExperimentationDetails&&t.experimentIndicator&&t.mboxId&&(t=(0,s.createCreativeExperimentationImpressionPayloadForAnalyticsLite)(t),i+=this.constructQueryParameters(t,!1)),this.sendAnalyticsToAdobeAnalytics(i),n.Logger.debugMsg("[AdSummary] Ad Impression sent to Adobe for pid: ".concat(e.placementId,"; midasId: ").concat(e.midasId))},p.prototype.handlePublicAdClick=function(e,t,i,r,n){var a=__assign({},r),o=a.adLabel===d.AdLabels.defaultAd;(t||o)&&(o=a.failOverAdIds&&a.failOverAdIds[e]||a.failoverAdId,o={wa_aid:t?t.creativeId||t.wa_aid:o,pageId:i,placementId:e,midasId:t?t.midas_id:"",adVariantData:n,failoverReason:a.failoverReason},this.sendClickToAdobe(o,t,r))},p.prototype.sendClickToAdobe=function(e,t,i){void 0===t&&(t={}),void 0===i&&(i={}),e.event=l.AnalyticsEvents.click,t&&t.decisionAnalytics&&!e.failoverReason&&(e.decisionAnalytics=t.decisionAnalytics),t&&t.contentExperimentationDetails&&(e.contentExperimentationDetails=t.contentExperimentationDetails);i=this.createPixelUrl(e);this.sendAnalyticsToAdobeAnalytics(i),a.domUtil.pauseBrowser(u.adConstants.analyticsClickEventDelayMillis),n.Logger.debugMsg("[AdSummary] Ad Click sent to Adobe for pid: ".concat(e.placementId,"; midasId: ").concat(e.midasId))},p.prototype.handlePublicPersonalizationImpression=function(e){e=__assign(__assign({},e),{wa_tp:u.adConstants.analytics.personalization.eventType.impression,wa_uri:this.getScreenUrl()}),e=this.createBaseTrackingPixelUrl()+this.constructQueryParameters(e);this.sendAnalyticsToAdobeAnalytics(e)},p.prototype.constructQueryParameters=function(e,t){void 0===t&&(t=!0);e=Object.entries(e);return(e=t?e.filter(function(e){e[0];e=e[1];return void 0!==e&&""!==e}):e).map(function(e){return"&"+e[0]+"="+e[1]}).join("")},p.prototype.createBaseTrackingPixelUrl=function(){return i.adConfig.getProperty("trackingPixelImagePath")+"&wa_cb="+this.random},p.prototype.getScreenUrl=function(){var e=document.location.href;return"true"===i.adConfig.getProperty("iFrameAdContainer")&&window.parent&&(e=window.parent.document.location.href),(0,r.strictEncodeURIComponent)(e)},p.prototype.sendAnalyticsToAdobeAnalytics=function(e){i.adConfig.getProperty("analyticsEnabled")&&o.analyticsLiteService.isAnalyticsReportingSupported()&&o.analyticsLiteService.sendImpression(e)},p.prototype.createPixelUrl=function(e){var t,i=e.event,r=e.pageId,n=e.placementId,a=e.midasId,o=e.adVariantData,s=e.failoverReason,s=void 0===s?"":s,c=e.decisionAnalytics,d=e.contentExperimentationDetails,i=((t={})[i===l.AnalyticsEvents.impression?"wa_aid_i":i===l.AnalyticsEvents.click?"wa_aid_lnk":""]=e.wa_aid,t.jp_aid_p=r+(n?"/"+n:""),t.jp_aid_c=o||"",t.wa_tp=u.adConstants.analytics.web.adEventCode,t.wa_uri=this.getScreenUrl(),t.wa_ad_fi=s,t.midas_id=a||"",t.templateEventTimestamp=Date.now(),t),r=(c&&(e={wa_aid_eci:c["enterprise-party-identifier"],ssv_v1st:c["first-cookie-identifier"],wa_aid_pct:c["page-location-identifier"],wa_aid_evt:c["recommendation-event-type-code"],wa_aid_did:c["recommendation-identifier"],wa_aid:c["recommendation-treatment-identifier"],wa_aid_rc:c["request-context"],wa_aid_src:c["source-application-system-name"],wa_aid_pg_name:c["source-request-component-name"],wa_aid_uri:c["decision-engine-rest-path"]},Object.assign(i,e)),this.createBaseTrackingPixelUrl()+this.constructQueryParameters(i));return d&&(n=(0,f.createSplitImpressionPayloadForAnalyticsLite)(d.experimentId),r+=this.constructQueryParameters(n,!1)),r};var c=p;function p(){this.random=Math.floor(9e8*Math.random())+1e8}t.ReportingPublicSite=c,t.reportingPublicSite=new c}),define("mktui-fx/ads/analytics/analyticsLiteService",["require","exports","mktui-fx/util/commonUtils","mktui-fx/common/adConfig","mktui-fx/common/adConstants","mktui-fx/ads/analytics/reportingPublicSite"],function(e,t,i,r,n,a){Object.defineProperty(t,"__esModule",{value:!0}),t.analyticsLiteService=t.AnalyticsLiteService=void 0;s.prototype.getAnalyticsHandler=function(){return("true"===r.adConfig.getProperty("iFrameAdContainer")?window.parent:window).analyticsLite},s.prototype.isAnalyticsReportingSupported=function(){var e=this.getAnalyticsHandler();return e&&e.hooks&&e.hooks.convertReportingJsData},s.prototype.sendImpression=function(e){this.getAnalyticsHandler().hooks.convertReportingJsData(e)},s.prototype.isAdOperationSupported=function(){var e=this.getAnalyticsHandler();return e&&e.hooks&&e.hooks.sendAdOperation},s.prototype.sendAdOperation=function(e){this.getAnalyticsHandler().hooks.sendAdOperation(e)},s.prototype.isAdLogSupported=function(){var e=this.getAnalyticsHandler();return e&&e.hooks&&e.hooks.logger},s.prototype.sendAdLog=function(e){this.getAnalyticsHandler().hooks.convertReportingJsData(a.reportingPublicSite.createBaseTrackingPixelUrl()+this.constructLogPayload(e.message))},s.prototype.constructLogPayload=function(e){var t={adBlockerDetected:e.adBlockerDetected||"",adfTraceId:e.adfTraceId||"",cid:e.cid||"",fxVersion:e.fxVersion||"",httpReadyState:e.httpReadyState||"",httpStatus:e.httpStatus||"",interactionId:e.interactionId||"",modernizeFileExtension:e.modernizeFileExtension||"",responseTime:e.responseTime||""},t={wa_aid_i:e.creativeId||"",jp_aid_p:"".concat(e.pageId||"--","/")+"".concat(e.placementId||"--"),midas_id:e.midasId||"",error:e.details&&(0,i.strictEncodeURIComponent)(e.details)||"",wa_tp:n.adConstants.analytics.web.logErrorCode,wa_uri:a.reportingPublicSite.getScreenUrl()||"",wa_ad_fi:e.errorType||e.eventType||"",search:(0,i.stringifyAndEncodeAdditionalLoggerDetails)(t),Channel:e.channel||""};return a.reportingPublicSite.constructQueryParameters(t,!0)};var o=s;function s(){}t.AnalyticsLiteService=o,t.analyticsLiteService=new o}),define("mktui-fx/util/Logger",["require","exports","mktui-fx/common/adConfig","mktui-fx/environment/channelEnvironment","mktui-fx/ads/analytics/analyticsLiteService","mktui-fx/common/AdOperationType","mktui-fx/util/BlueLoggerHelper"],function(e,t,i,r,n,a,o){Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.defaultLoggerApi=void 0,t.defaultLoggerApi={debug:function(e,t){i.adConfig.getProperty("loggingEnabled")&&console.debug(e,t)},info:function(e){i.adConfig.getProperty("loggingEnabled")&&console.info(e)},warn:function(e){i.adConfig.getProperty("loggingEnabled")&&console.warn(e)},error:function(e){i.adConfig.getProperty("loggingEnabled")&&console.error(e)}};var s=r.channelEnvironment.isCXO()?"cxo":"public",c=t.defaultLoggerApi;t.Logger={setChannel:function(e){s=e},setLoggerApi:function(e){c=e},logOperationalEvent:function(e){n.analyticsLiteService.isAdLogSupported()?n.analyticsLiteService.sendAdLog({logType:"log",message:e}):c.error(e)},logErrorMsgObject:function(e,t){t.adBlockerDetected=i.adConfig.getProperty("adBlockerDetected"),t.adfError=!0,t.eventType=a.AdOperationType.ad_error,t.errorType=e,t.fxVersion=i.adConfig.getProperty("frameworkVersion"),t.userAgent=window.navigator.userAgent,t.channel||(t.channel=s),this.logOperationalEvent(t)},logDebugMsg:function(e,t){c.debug(e,t)},logMsg:function(e,t){i.adConfig.getProperty("loggingEnabled")&&console.log(e,t)},debugMsg:function(e,t){i.adConfig.getProperty("debugEnabled")&&console.log(e,t||"")},debugMsgTable:function(e,t){i.adConfig.getProperty("debugEnabled")&&console.table(e,t)},errorMsg:function(e,t){i.adConfig.getProperty("debugEnabled")&&console.error("[AdFramework Error] "+e,t||"")},warn:function(e,t){i.adConfig.getProperty("loggingEnabled")&&console.warn("[AdFramework Error] "+e,t)}},o.BlueLoggerHelper.setUpLogger(t.Logger)}),define("mktui-fx/ads/content/failover/IFailoverDetail",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/content/failover/IPlacementFailover",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/common/AdEventBuilder",["require","exports"],function(e,t){function i(){this.adEvent={}}Object.defineProperty(t,"__esModule",{value:!0}),t.AdEventBuilder=void 0,i.prototype.getEvent=function(){return this.adEvent},i.prototype.errorType=function(e){return this.adEvent.errorType=e,this},i.prototype.eventDetails=function(e){return this.adEvent.eventDetails=e=void 0===e?"":e,this},i.prototype.failoverReason=function(e){return this.adEvent.failoverReason=e=void 0===e?"":e,this},i.prototype.httpStatus=function(e){return this.adEvent.httpStatus=e=void 0===e?-100:e,this},i.prototype.httpReady=function(e){return this.adEvent.httpReady=e=void 0===e?-100:e,this},i.prototype.respTime=function(e){return this.adEvent.respTime=e=void 0===e?-1:e,this},i.prototype.respStatus=function(e){return this.adEvent.respStatus=e=void 0===e?"":e,this},i.prototype.errorStack=function(e){return this.adEvent.errorStack=e=void 0===e?"":e,this},i.prototype.pageId=function(e){return this.adEvent.pageId=e=void 0===e?"":e,this},i.prototype.placementId=function(e){return this.adEvent.placementId=e=void 0===e?"":e,this},i.prototype.creativeId=function(e){return this.adEvent.creativeId=e=void 0===e?"":e,this},i.prototype.adfTraceId=function(e){return this.adEvent.adfTraceId=e=void 0===e?"":e,this},i.prototype.midasId=function(e){return this.adEvent.midasId=e=void 0===e?"":e,this},i.prototype.interactionId=function(e){return this.adEvent.interactionId=e=void 0===e?"":e,this},i.prototype.cid=function(e){return this.adEvent.cid=e=void 0===e?"":e,this},i.prototype.targetUrl=function(e){return this.adEvent.targetUrl=e=void 0===e?"":e,this},i.prototype.offerKey=function(e){return this.adEvent.offerKey=e=void 0===e?"":e,this},i.prototype.userAgent=function(e){return this.adEvent.userAgent=e,this},i.prototype.fxVersion=function(e){return this.adEvent.fxVersion=e,this},i.prototype.componentPath=function(e){return this.adEvent.componentPath=e,this},t.AdEventBuilder=i}),define("mktui-fx/ads/content/failover/failover.service",["require","exports","mktui-fx/common/adConfig","mktui-fx/util/cors","mktui-fx/common/AdOperationType","mktui-fx/util/Logger","mktui-fx/common/AdEventBuilder","mktui-fx/util/commonUtils"],function(e,t,i,r,l,u,f,n){Object.defineProperty(t,"__esModule",{value:!0}),t.failoverService=void 0;var p={};function a(a,o){var s,e,c,d=(0,n.Deferred)();return i.adConfig.getProperty("failOverAdServiceUrl")?(s=i.adConfig.getProperty("failOverAdServiceUrl")+"."+a+".json",e={timeout:i.adConfig.getProperty("timeoutFailover")},c=Date.now(),(0,r.CORS)(s,e).then(function(e){e=m(e);p[a]=e,d.resolve(e)},function(e){var t=e.textStatus,t=void 0===t?"error":t,i=e.statusText,r=e.status,n=e.readyState;u.Logger.logErrorMsgObject(l.AdOperationType.failover_service_error,(new f.AdEventBuilder).pageId(a).placementId(o.pid||o.placement||"").failoverReason(o.failoverReason||"").adfTraceId(o.adf_traceid||"").midasId(o.midas_id||"").eventDetails("".concat(i,"|").concat(t)).targetUrl(s).httpStatus(r).httpReady(n).respTime(Date.now()-c).errorStack(e.stack).getEvent()),d.reject(i+"Error")})):d.reject("Failover Url is not defined"),d.promise()}function m(e){var t={};return e.success&&e.result.failOverDetails&&0<e.result.failOverDetails.length&&e.result.failOverDetails.forEach(function(e){e.slotId&&e.failoverAdId&&e.failoverAdUrl&&(t[e.slotId]={failoverAdId:e.failoverAdId,failoverAdUrl:e.failoverAdUrl})}),t}function o(e,t){return{failover:!0,failoverReason:t=void 0===t?l.AdOperationType.failover_ad_load:t,creativeId:e.failoverAdId,cid:e.failoverAdUrl,timestamp:Date.now()}}t.failoverService={getFailOverAdData:function(e,t){void 0===t&&(t={});var i=(0,n.Deferred)();return e?p[e]?(i.resolve(p[e]),i.promise()):a(e,t):(i.reject("Error - pageId is undefined"),i.promise())},createDecisionRecord:o,getFailoverDetailsByPlacement:m,transformFailoverToDecisionResponse:function(t,i){void 0===t&&(t={});var r={};return Object.keys(t).forEach(function(e){r[e]=__assign(__assign({},o(t[e],i)),{placement:e})}),r},fetchFailover:a}}),define("mktui-fx/util/formatter",["require","exports","mktui-fx/util/Logger"],function(e,t,i){function l(e,t){return isNaN(e)?e:(100*parseFloat(e)).toFixed(t)+"%"}function u(e,t){return isNaN(e)?e:parseFloat(e).toFixed(t)+"%"}function f(e){return(e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1)+"/"+(e.getDate()<10?"0"+e.getDate():e.getDate())}function p(e){if(e&&"string"==typeof e)try{return f(new Date(e.replace(/-/g,"/")))}catch(e){i.Logger.errorMsg("Error converting the date: ",e)}else i.Logger.errorMsg("Invalid value",e);return e}function m(e){try{return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric"}).format(new Date(e))}catch(e){return"--"}}function y(e){return Number(e)==e&&e%1==0}function g(e){return Number(e)===e&&e%1!=0}function v(e){return isNaN(e)?e:parseInt(e).toLocaleString("en")}function h(e){e+="T00:00:00";return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(e))}function C(e,t){return y(e)?"$"+(t?e.toFixed(2):e).toLocaleString("en"):g(e)?"$"+(2==(t=String(e).split(".")).length?Number(t[0]).toLocaleString("en")+"."+((e,t)=>{if(e.length>=t)return e;for(var i=e,r=0;r<t-e.length;r++)i+="0";return i})(t[1].substring(0,2),2):Number(t[0]).toLocaleString("en")):e}function k(e){if(!isNaN(e))return"$"+Math.floor(e).toLocaleString("en")}function r(e,t,i,r){if(null!=e&&t)switch(t="string"==typeof t?t.toLowerCase():t){case"monthlyrent":case"homevalue":case"emergencyfundamount":case"moneytoinvestamount":case"totalprimarycardbalance":case"averageinvestmentbalance":case"totalprimarydepositbalance":case"averagemonthlycontributionamount":case"payment":case"downpayment":case"homeprice":case"examplecreditamountwithoriginationfee":case"creditamount":case"creditlimitincrease":case"cashoutamount":case"rewardscashvalue":case"rewardscashvaluebonus110percent":case"rewardscashvaluebonus125percent":return n=e,isNaN(n)?n:"$"+parseInt(n).toLocaleString("en");case"rate":if("pq_cwma_advisedlineofcredit"===(i=(i=i||"").toLowerCase()))return u(e,2);case"annualpercentagerate":return l(e,"gr_home_mortgage_refinance_cashout"===(i=(i=i||"").toLowerCase())||"gr_home_mortgage_purchase"===i||"df_home_mortgage_refinance_cashout"===i||"df_home_mortgage_refinance_rateterm"===i||"pq_home_mortgage_refinance_cashout"===i||"pq_home_mortgage_refinance_rateterm"===i||"pq_home_mortgage_purchase"===i||"gr1_home_mortgage_refinance_rateterm_digitalrefi"===i||"gr1_home_mortgage_purchase_fma"===i||"gr1_home_mortgage_refinance_cashout_fma"===i||"gr1_home_mortgage_refinance_rateterm_fhassl"===i||"gr1_home_mortgage_refinance_rateterm_fma"===i||"gr1_home_equitylineofcredit"===i||"df_home_mortgage_purchase"===i?3:2);case"downpaymentpercentage":return l(e,0);case"exampleannualpercentageratewithoriginationfee":return l(e,2);case"currentrate":return l(e,3);case"newinterestrate":return u(e,3);case"exampletermmonthswithoriginationfee":return e;case"expirydate":return p(e);case"retdetexpired":case"rettileexpired":case"cptileexpired":case"cpdetexpired":var n=e,a=t,o=["Jan","Feb","Mar","APR","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];try{var s=n.slice(6,-2),c=/^\d+$/.test(s)?parseInt(s):s,d=new Date(c);switch(a){case"rettileexpired":case"cpdetexpired":return o[d.getMonth()]+" "+d.getDate()+", "+d.getFullYear();case"retdetexpired":return f(d)+"/"+d.getFullYear();case"cptileexpired":return o[d.getMonth()]+" "+d.getDate()}}catch(e){console.log("Date Format Error",e)}return n;case"totalearned":return Number.isInteger(e)?e.toFixed(2):e;case"offeredamount":return!y(s=e)&&g(s)?s.toFixed(2):s;case"adofferscount":return 100<=(c=e)?"99+":c;case"ratediscountinpoints":return parseFloat(e);case"arn":case"totalamount":case"newcreditlineamount":case"creditlineincreaseamount":case"potentialcashback":case"monthlypaymentreduction":return k(e);case"actualrentalamount":case"cardcreditlimitamount":case"depositamount":case"homevalueamount":case"spendingamount":if(r)return k(e);break;case"pointscashvalue":return C(e,!1);case"marketinggenerationtimestamp":return m(e);case"updatetimestamp":if(r)return m(e);break;case"rewardbalanceasofdate":return h(e);case"potentialpoints":case"pointsbalance":case"totalrewardbalance":case"potentialrewardbalance":case"rewardsbalance":return v(e);case"creditscorechangeamount":if(r)return v(e);break;case"pcliproduct":return(a=e)&&"string"==typeof a?a.toLowerCase().split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" "):"";case"rateasofdate":if("pq_cwma_advisedlineofcredit"===(i=(i=i||"").toLowerCase()))return h(e)}var n;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.formatter=t.Formatter=void 0;var n=function(){this.version="1.0",this.format=r};t.Formatter=n,t.formatter=new n}),define("mktui-fx/ads/content/TemplateConfig",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateBundle=void 0,t.TemplateBundle={CXO:"CXO",CAP:"CAP"}}),define("mktui-fx/ads/personalization/PersonalizationDataConfig",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPersonalizationDataProvider=void 0,(t.CustomPersonalizationDataProvider={}).VAST="VAST"}),define("mktui-fx/ads/personalization/PersonalizationParameter",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/content/contentHelper",["require","exports","mktui-fx/common/adConfig","mktui-fx/environment/channelEnvironment","mktui-fx/util/Logger","mktui-fx/ads/topic","mktui-fx/common/AdLabels","mktui-fx/common/adConstants","mktui-fx/util/formatter","mktui-fx/util/commonUtils","mktui-fx/ads/content/creativeExperimentation"],function(e,m,n,a,y,g,v,h,o,s,r){Object.defineProperty(m,"__esModule",{value:!0}),m.contentHelper=m.ContentHelper=void 0;i.prototype.appendRPIForEmulationMode=function(e,t){var i=t.requestedPersonId,t=t.emulationTokenIdentifier,r={};return i&&-1===e.indexOf("rpi=")&&(r.rpi=i),t&&"null"!==t&&(r.emulationTokenIdentifier=t),e=(0,s.isEmptyObject)(r)?e:(0,s.addQueryParameterToUrl)(e,r)},i.prototype.appendContentServerHostToImagePaths=function(e){e.result.en.prefixImage.includes("http")||(e.result.en.prefixImage=n.adConfig.getProperty("contentServer")+e.result.en.prefixImage),e.result.es.prefixImage.includes("http")||(e.result.es.prefixImage=n.adConfig.getProperty("contentServer")+e.result.es.prefixImage)},i.prototype.getContentLocation=function(){return __awaiter(this,arguments,void 0,function(t,i){var r;return void 0===t&&(t=""),void 0===i&&(i={}),__generator(this,function(e){switch(e.label){case 0:return[4,this.checkForExperimentalContent(t,i)];case 1:return r=e.sent(),[2,r=(r=(r=(r=(r="/"==(r=i&&i.modernizeFileExtension&&r.endsWith(".html")?this.transformFileExtensionToJson(r):r).charAt(0)?n.adConfig.getProperty("contentServer")+r:r).replace("jcr:content","_jcr_content")).replace("{{content_placeholder}}",h.adConstants.cidVersionMapping[m.contentHelper.getContentApiVersion()])).replace(/{{channel}}/g,a.channelEnvironment.getChannel())).replace(/{{extension}}/g,m.contentHelper.getContentFormat())]}})})},i.prototype.checkForExperimentalContent=function(t,i){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return i&&i.experimentIndicator&&i.mboxId?[4,(0,r.fetchCreativeExperimentation)(i)]:[3,2];case 1:t=e.sent()||t,e.label=2;case 2:return[2,t]}})})},i.prototype.setAdVariationData=function(e){var t={};return t.adVariantData=e.adVariationContext,t.html=e.html,t.offerKey=e.offerKey||e.personalizedFor,t.lob=e.lob,t.disclosure=e.disclosure||!1,t.offerApiUrl=e.serviceUrl,t.broadcastParams=e.broadcastParams,t},i.prototype.evaluateDynamicAd=function(e,t){var i,r,n,a=t.audiences?t.audiences.split(","):[],e=JSON.parse(e);if(e&&e.result&&e.result.permutations)for(var o=0,s=e.result.permutations;o<s.length;o++){var c=s[o];if(""!=c.rules){for(var d="",l=0,u=c.rules.split(" ");l<u.length;l++){var f,p=u[l];-1!==p.indexOf("hA")?(f=p.substring(4,p.length-2),d+=-1<a.indexOf(f)):d+=p}if(new Function("return "+d)()){r=m.contentHelper.setAdVariationData(c);break}}else r=m.contentHelper.setAdVariationData(c)}return e&&e.ads&&e.ads[0]&&(i=e.ads[0].adVariationContext,n=JSON.stringify(e.ads[0].content),(i=__assign({adVariationContext:i,html:n},e.ads[0].data)).broadcastParams=e.ads[0].broadcastParams||void 0,r=m.contentHelper.setAdVariationData(i)),m.contentHelper.isConversationDeckContentJson(e)&&(n=JSON.stringify(e),i=__assign({adVariationContext:"",html:n},e.result),r=m.contentHelper.setAdVariationData(i)),t.trackVariation&&((n={}).adLabel=v.AdLabels.decisionEngine,y.Logger.debugMsg("[AdSummary] trackAdVariation Event Published for PID:",t.pid),(0,g.Topic)("trackAdVariation").publish(t.pid,n,r.adVariantData,t.pageId)),r},i.prototype.replaceReferenceVariables=function(t,e,i,r,n,a){void 0===n&&(n=!1),void 0===a&&(a=!1);var o=t.match(/{{(\w+\s*.\w+)*}}/g);if(o)for(var s=0,c=o;s<c.length;s++){var d=c[s],l=new RegExp(d,"g");try{var u=d.includes("INS_"),f=__assign({},e),p=(u&&(f=__assign({},e.insightData||{})),this.extractReferenceVariable(d)),m=this.resolveRefVarValue(p,r,f,i,u);if(!m)throw"AD-Error Reference variable could not be replaced:  ".concat(d);t=t.replace(l,m)}catch(e){if(a&&n)t=t.replace(l,h.adConstants.previewPageDefaultValue),y.Logger.errorMsg("Default value for ".concat(l," is missing or incorrectly formatted"));else if(!n)throw y.Logger.errorMsg("Reference variable could not be replaced: ",d),"AD-Error Reference variable could not be replaced:  ".concat(d)}}return t},i.prototype.extractReferenceVariable=function(e){e=e.substring(e.lastIndexOf("{{")+2);return e.substring(e.lastIndexOf("_")+1,e.indexOf("}}"))},i.prototype.resolveRefVarValue=function(e,t,i,r,n){i=o.formatter.format(i[e],e,r,n);return t[e]||t.dynamicData&&t.dynamicData[e]||t.broadcastParams&&t.broadcastParams[e]||i},i.prototype.adVariantFromJSON=function(e,t,i){void 0===i&&(i={});var r=JSON.parse(e);return(0,s.isCrossDomain)(t)&&r&&(m.contentHelper.checkComponentPathExists(e)?r.ads[0].content=JSON.parse(m.contentHelper.replaceContentServer(JSON.stringify(r.ads[0].content))):m.contentHelper.isConversationDeckContentJson(r)?m.contentHelper.appendContentServerHostToImagePaths(r):r.result.permutations[0].html=m.contentHelper.replaceContentServer(r.result.permutations[0].html),e=JSON.stringify(r)),m.contentHelper.evaluateDynamicAd(e,i)},i.prototype.replaceContentServer=function(e){return e=e&&(e=e.replace(/\"\//g,'"'+n.adConfig.getProperty("contentServer")+"/")).replace(/\'\//g,"'"+n.adConfig.getProperty("contentServer")+"/")},i.prototype.checkComponentPathExists=function(e){if(e&&(0,s.getJSONObj)(e))return(e=JSON.parse(e))&&e.template&&e.template.componentPath},i.prototype.isConversationDeckContentJson=function(e){return!(!e||!e.result||!e.result.en&&!e.result.es)},i.prototype.checkForClientRenderedTemplateJSON=function(e){var e=(0,s.getJSONObj)(e);return!(null==(e=null==e?void 0:e.template)||!e.isClientRendered)},i.prototype.checkForPersonalizedKey=function(e){return(e=void 0===e?{}:e).offerKey||e.personalizedFor},i.prototype.getContentApiVersion=function(){return"1.0"},i.prototype.getContentFormat=function(){return a.channelEnvironment.isCXO()?"json":"html"},i.prototype.transformFileExtensionToJson=function(e){var t=e.lastIndexOf(".html");return"".concat(e.slice(0,t),".json")};var t=i;function i(){}m.ContentHelper=t,m.contentHelper=new t}),define("mktui-fx/ads/personalization/OfferResponse",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.OfferResponseOfferDetails=void 0,t.OfferResponseOfferDetails=function(){}}),define("mktui-fx/ads/personalization/personalizationHelper.service",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isOfferDataAvailable=function(e){return"SUCCESS"===e.code&&void 0!==e.offers&&0<Object.keys(e.offers).length&&void 0===e.offers.faultCode},t.isOfferDataImpression=function(e){return!e.insightType},t.isVastOfferDataAvailable=function(e,t){return e&&Object.keys(e).length&&e[t]&&Object.keys(e[t]).length}}),define("mktui-fx/ads/content/ContentResponse",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/personalization/icon.service",["require","exports","mktui-fx/common/adConfig","mktui-fx/common/adConstants","mktui-fx/util/cors","mktui-fx/environment/channelEnvironment","mktui-fx/ads/personalization/personalizationHelper.service","mktui-fx/util/commonUtils"],function(e,t,s,c,d,l,u,f){Object.defineProperty(t,"__esModule",{value:!0}),t.iconService=void 0,t.iconService={getPersonalizationData:function(e,t){var a=(0,f.Deferred)(),i=l.channelEnvironment.getResolvedEci(),r=l.channelEnvironment.getResolvedProfileId(),n=t.cid||"",o="".concat(t.midas_id),t="".concat(t.midas_id),r={timeout:s.adConfig.getProperty("timeoutOfferApi"),method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-jpmc-csrf-token":"NONE","profile-id":r},xhrFields:{withCredentials:!1},data:{eci:i,cid:n,adf_traceid:o,midas_id:t}};return(0,d.CORS)(e.apiUrl,r).then(function(e){var t;(0,u.isOfferDataAvailable)(e)?(t=(0,u.isOfferDataImpression)(e.offers),a.resolve({response:e.offers,requireOfferDataImpression:t})):a.reject({details:c.adConstants.apiErrors.noData,crmodsStatus:e.code||c.adConstants.apiErrors.noStatusCode,httpStatus:c.adConstants.httpStatusOk,httpReadyState:c.adConstants.httpReadyStateOk})},function(e){var t=e.textStatus,i=e.statusText,i=void 0===i?"":i,r=e.status,n=e.readyState,e=e.stack,e=void 0===e?"":e;a.reject({details:"Error-".concat(void 0===t?"error":t,"-").concat(i),httpStatus:r,httpReadyState:n,errorStack:e})}),a.promise()}}}),define("mktui-fx/ads/personalization/PersonalizationDataStore",["require","exports"],function(e,t){function i(){this.personalizationDataMap={}}Object.defineProperty(t,"__esModule",{value:!0}),t.PersonalizationDataStore=void 0,i.prototype.createCacheKey=function(e,t){return"".concat(e,"_").concat(t)},i.prototype.savePersonalizationData=function(e,t,i,r){var n,a=this;e&&t&&i&&(n=this.createCacheKey(e,t),this.personalizationDataMap[n]=i,r)&&setTimeout(function(){delete a.personalizationDataMap[n]},r)},i.prototype.getPersonalizationData=function(e,t){if(e&&t)return e=this.createCacheKey(e,t),this.personalizationDataMap[e]},t.PersonalizationDataStore=i}),define("mktui-fx/ads/personalization/legacydata.service",["require","exports","mktui-fx/common/adConfig","mktui-fx/common/adConstants","mktui-fx/util/cors","mktui-fx/environment/channelEnvironment","mktui-fx/util/commonUtils","mktui-fx/ads/personalization/PersonalizationDataStore"],function(e,t,l,u,f,p,m,i){Object.defineProperty(t,"__esModule",{value:!0}),t._privateFunctionsLegacyData=t.legacyDataService=void 0;var r={insights:"personalizedinsights",borrowingPower:"offerbylob"},y="CIG_",g="SUCCESS",v=new i.PersonalizationDataStore;function h(e){return e&&-1<e.indexOf(r.borrowingPower)}function C(e){return e&&-1<e.indexOf(r.insights)}function k(e){return e&&"null"!==e.toLowerCase()}t.legacyDataService={getPersonalizationData:function(n,e){var t,i,r,a,o,s,c,d=(0,m.Deferred)();return k(n.apiUrl)?(t=e.adf_traceid,C(n.apiUrl)&&(t+="_".concat(n.personalizedKey)),!(i=((e,t)=>{if(t)return v.getPersonalizationData(t,e)})(n.apiUrl,t))&&(r=n,e=e,a=p.channelEnvironment.getResolvedEci(),o=p.channelEnvironment.getResolvedProfileId(),s="".concat(e.midas_id),e="".concat(e.midas_id),c={timeout:l.adConfig.getProperty("timeoutOfferApi"),method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-jpmc-csrf-token":"NONE"},xhrFields:{withCredentials:!1}},C(r.apiUrl)?(c.url=r.apiUrl,c.data={profileId:o,context:r.personalizedKey,adf_traceid:s,midas_id:e}):(h(r.apiUrl)?(o=r.lob||"",c.url=r.apiUrl.replace(/{{lob}}/g,o)):c.url=r.apiUrl,c.data={eci:a,adf_traceid:s,midas_id:e}),i=(0,f.CORS)(c.url,c),o=i,r=n.apiUrl,a=t)&&(s=u.adConstants.defaultFetchTimeout+parseInt(l.adConfig.getProperty("timeoutOfferApi")),v.savePersonalizationData(a,r,o,s)),i.then(function(e){var t,i,r;t=n,i=d,(e=e).code!==g||void 0===e.offers||void 0===e.offers[t.personalizedKey]||h(t.apiUrl)?e.code===g&&void 0!==e.offers&&h(t.apiUrl)?0<(r=Object.keys(e.offers)).length?i.resolve({response:e.offers[r[0]],requireOfferDataImpression:!0}):i.reject({details:u.adConstants.apiErrors.noResponseKeys,crmodsStatus:e.code,httpStatus:u.adConstants.httpStatusOk,httpReadyState:u.adConstants.httpReadyStateOk}):null!=e.insights&&null!=e.insights[0]?(r=e.insights[0]).insightType===y+t.personalizedKey&&i.resolve({response:r.insightDetails}):i.reject({details:u.adConstants.apiErrors.noData,crmodsStatus:e.code||u.adConstants.apiErrors.noStatusCode,httpStatus:u.adConstants.httpStatusOk,httpReadyState:u.adConstants.httpReadyStateOk}):i.resolve({response:e.offers[t.personalizedKey],requireOfferDataImpression:!0})},function(e){var t=e.textStatus,i=e.statusText,i=void 0===i?"":i,r=e.status,n=e.readyState,e=e.stack,e=void 0===e?"":e;d.reject({details:"Error-".concat(void 0===t?"error":t,"-").concat(i),httpStatus:r,httpReadyState:n,errorStack:e})})):d.reject({details:"Error- Url undefined in the content response",httpStatus:"--",httpReadyState:"--"}),d.promise()}},t._privateFunctionsLegacyData={isApiUrlDefined:k,isBorrowingPowerHeader:h,isPersonalizedInsightsOffer:C}}),define("mktui-fx/ads/personalization/VastErrorResponse",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/personalization/vast.service",["require","exports","mktui-fx/common/adConfig","mktui-fx/common/adConstants","mktui-fx/util/cors","mktui-fx/environment/channelEnvironment","mktui-fx/ads/personalization/personalizationHelper.service","mktui-fx/util/commonUtils"],function(e,t,r,c,n,a,o,d){Object.defineProperty(t,"__esModule",{value:!0}),t.vastService=void 0,t.vastService={getPersonalizationData:function(t,e){var s=(0,d.Deferred)(),i=a.channelEnvironment.getResolvedEci(),i={timeout:r.adConfig.getProperty("timeoutOfferApi"),method:"GET",data:__assign({eci:i},r.adConfig.getProperty("vastOfferRequestParams"))};return(0,n.CORS)(r.adConfig.getProperty("vastOfferServiceUrl"),i).then(function(e){(0,o.isVastOfferDataAvailable)(e,t.personalizedKey)?s.resolve({response:e[t.personalizedKey],requireOfferDataImpression:!0}):s.reject({details:c.adConstants.apiErrors.noData,crmodsStatus:e.errorCode||c.adConstants.apiErrors.noStatusCode,httpStatus:c.adConstants.httpStatusOk,httpReadyState:c.adConstants.httpReadyStateOk})},function(e){var t=e.errorDescription,i=e.errorCode,r=e.textStatus,n=e.statusText,n=void 0===n?"":n,a=e.status,o=e.readyState,e=e.stack,e=void 0===e?"":e;s.reject({details:"Error-".concat(t||(void 0===r?"Error":r),"-").concat(n),httpStatus:i||a,httpReadyState:o||c.adConstants.httpReadyStateOk,errorStack:e})}),s.promise()}}}),define("mktui-fx/ads/personalization/personalization.service",["require","exports","mktui-fx/util/Logger","mktui-fx/ads/personalization/icon.service","mktui-fx/ads/personalization/legacydata.service","mktui-fx/ads/personalization/vast.service","mktui-fx/ads/personalization/PersonalizationDataConfig"],function(e,t,s,r,n,a,o){var i,c;function d(e){return 0<=(null==e?void 0:e.indexOf(i.ICON))}Object.defineProperty(t,"__esModule",{value:!0}),t.personalizationService=void 0,t.isIconServiceEnabled=d,(c=i=i||{}).ICON="/icon/offer/list",c.BorrowingPower="/svc/wr/oao/offerbylob",c.MARS="/mars/offer/list",t.personalizationService={logPersonalizedError:function(e){var t=e.errorType,i=e.contentLocation,r=e.dataReqStartTime,n=e.adVariation,a=e.placementId,o=e.decisionResultToUse;s.Logger.logErrorMsgObject(t,__assign(__assign({},e.errorDetails),{offerApiUrl:(null==n?void 0:n.offerApiUrl)||"",offerKey:(null==n?void 0:n.offerKey)||"",cid:i,placementId:a,channel:o.channelId||"",respTime:Date.now()-r,creativeId:o.creativeId||"--",interactionID:o.interactionID||"--",midasId:o.midas_id,adfTraceId:o.adf_traceid}))},getPersonalizationData:function(e,t){var i;return e.apiUrl=e.offerApiUrl||e.serviceUrl||"",e.personalizedKey=e.offerKey||e.personalizedFor||"",((null==(i=t.personalizationDataConfig)?void 0:i.customDataProvider)===o.CustomPersonalizationDataProvider.VAST?a.vastService:d(e.apiUrl)?r.iconService:n.legacyDataService).getPersonalizationData(e,t)}}}),define("mktui-fx/ads/content/PlacementContext",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/decision/DecisionResponse",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/analytics/adDataStore",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.adDataStore=t.AdDataStore=void 0;var i={},r={},n=(a.prototype.getPageData=function(e){return i[e]},a.prototype.getPlacementData=function(e,t){return i[e]?i[e][t]:""},a.prototype.addPage=function(e,t){i[e]=t},a.prototype.setOfferId=function(e,t,i){e=e+"/"+t;!r[e]&&i&&(r[e]=i)},a.prototype.getOfferId=function(e,t){return r[e+"/"+t]},a);function a(){}t.AdDataStore=n,t.adDataStore=new n}),define("mktui-fx/ads/content/contentLoadService",["require","exports","mktui-fx/environment/channelEnvironment","mktui-fx/ads/topic","mktui-fx/common/AdOperationType","mktui-fx/util/Logger","mktui-fx/util/cors","mktui-fx/common/adConstants","mktui-fx/util/commonUtils","mktui-fx/common/adEvents"],function(e,s,r,n,c,d,l,u,f,a){Object.defineProperty(s,"__esModule",{value:!0}),s.contentLoadService=s.ContentLoadService=void 0;i.prototype.load=function(t,i){var r=Date.now(),n=(0,f.Deferred)(),a=i&&(i.pid||i.placement||""),o={pageId:i.pageId||"",placementId:a,cid:t,creativeId:i.creativeId||"",interactionID:i.interactionID||"",midasId:i.midas_id||"",adfTraceId:i.adf_traceid||"",details:u.adConstants.contentErrors.noData,httpStatus:u.adConstants.httpStatusOk,httpReadyState:u.adConstants.httpReadyStateOk};return i.modernizeFileExtension&&(o.modernizeFileExtension="".concat(i.modernizeFileExtension,"|originalCid-").concat(i.originalCid)),d.Logger.debugMsg("[AdSummary] Started loading content for CID: ".concat(t,"; pid: ").concat(a)),(0,l.CORS)(t).then(function(e){e=(0,f.isPlainObject)(e)?JSON.stringify(e):e;e.trim()?(d.Logger.debugMsg("[AdSummary] Content loaded successfully for CID: ".concat(t,"; pid: ").concat(a)),n.resolve(e)):(d.Logger.errorMsg("Content could not be loaded for CID: ".concat(t,"; pid: ").concat(a)),o.respTime=Date.now()-r,d.Logger.logErrorMsgObject(c.AdOperationType.content_fail,o),n.reject(i.optionalFailover||!1))},function(e){s.contentLoadService.handleAjaxError(o,e,r),n.reject(i.optionalFailover||!1)}),n.promise()},i.prototype.handleAjaxError=function(e,t,i){r.channelEnvironment.isCXO()&&((0,n.Topic)(a.AdEvents.trackfailOverImpression).publish(c.AdOperationType.content_fail,e.pageId,e.placementId),d.Logger.logMsg("Slot Placement - [trackfailOverImpression] Event Published for URL:",e.cid)),d.Logger.errorMsg("Content fail for CID: ".concat(e.cid,"; pid: ").concat(e.placementId)),e.respTime=Date.now()-i,e.details=t.statusText+"-"+t.textStatus,e.httpStatus=t.status,e.httpReadyState=t.readyState,e.errorStack=t.stack||"",d.Logger.logErrorMsgObject(c.AdOperationType.content_fail,e)};var t=i;function i(){}s.ContentLoadService=t,s.contentLoadService=new t}),define("mktui-fx/ads/client/AdComponent",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/common/Channels",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Channels=void 0,t.Channels={public:"Public",cxo:"CXO",cap:"CAP"}}),define("mktui-fx/ads/content/templateResolver",["require","exports","mktui-fx/util/commonUtils","mktui-fx/environment/channelEnvironment","mktui-fx/util/Logger","mktui-fx/common/AdOperationType","mktui-fx/common/Channels"],function(e,t,o,i,s,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.templateResolver=t.TemplateResolver=void 0;c.prototype.getTemplateHtml=function(e){var t=(0,o.Deferred)();return this.loadTemplateBundle(e).then(function(e){t.resolve(e)},t.reject),t.promise()},c.prototype.getTemplateBundleUrl=function(e,t){return e||(t&&i.channelEnvironment.getTemplateBundleByChannel(t)?i.channelEnvironment.getTemplateBundleByChannel(t):i.channelEnvironment.getTemplateBundleByChannel(n.Channels.cxo))},c.prototype.loadTemplateBundle=function(r){var e,t=this,n=(0,o.Deferred)(),a=r.componentPath,i=this.getTemplateBundleUrl(r.templateBundleUrl,(null==(e=r.templateConfig)?void 0:e.bundle)||r.channelId);return s.Logger.debugMsg("[AdSummary] Loading template bundle by channel",i),i?window.require([i],function(){window.require([a],function(i){return __awaiter(t,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,i.component.getTemplateHtml(r).catch(function(e){s.Logger.errorMsg("Could not load the template HTML: ",e),n.reject({success:!1,errorDetails:"Error getting template html for ".concat(a)})})];case 1:return t=e.sent(),n.resolve({success:!0,html:t}),[2]}})})},function(e){s.Logger.errorMsg("Could not load the component in template bundle: ",e),n.reject({success:!1,errorDetails:"[AdSummary] Error loading the Ad component in template bundle in componentPath: ".concat(a,", channel: ").concat(r.channelId,", err.requireType: ").concat(null==e?void 0:e.requireType," and err.requireModules: ").concat(null==e?void 0:e.requireModules)})})},function(e){s.Logger.errorMsg("Could not load the template bundle: ",e),n.reject({success:!1,errorDetails:"[AdSummary] Error loading the template bundle: ".concat(i,", channel: ").concat(r.channelId,", err.requireType: ").concat(null==e?void 0:e.requireType," and err.requireModules: ").concat(null==e?void 0:e.requireModules)})}):n.reject({success:!1,errorDetails:"[AdSummary] Error loading the template bundle - No Value defined"}),n.promise()},c.prototype.preLoadTemplateBundle=function(t){var i=this.getTemplateBundleUrl("",t);i?window.require([i],function(){s.Logger.debugMsg("[AdSummary] Successfully loaded template bundle by channel:"+t,i)},function(e){e={eventDetails:"[AdSummary] Error loading the template bundle by channel: ".concat(i,", channel: ").concat(t,", err.requireType: ").concat(null==e?void 0:e.requireType," and err.requireModules: ").concat(null==e?void 0:e.requireModules)};s.Logger.logErrorMsgObject(r.AdOperationType.preview_template_bundle_load_fail,e)}):s.Logger.logErrorMsgObject(r.AdOperationType.preview_template_bundle_load_fail,{eventDetails:"[AdSummary] Error loading the template bundle - No Value defined"})};var a=c;function c(){}t.TemplateResolver=a,t.templateResolver=new a}),define("mktui-fx/ads/content/contentExperimentation",["require","exports","mktui-fx/util/commonUtils"],function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.updateContentBasedOnExperimentation=function(e,t){var i=(0,o.getJSONObj)(e);if((0,o.isEmptyObject)(i)||!Array.isArray(i.ads)||(0,o.isEmptyObject)(null==(n=i.ads[0])?void 0:n.experimentation))return e;if((0,o.isEmptyObject)(t)||!Array.isArray(t.pniExperimentNames)||0===t.pniExperimentNames.length)return e;var r,n=i.ads[0],a=((e,t)=>{var i=new Set(Object.keys(e));if(e=t.find(function(e){return i.has(e.pniExperimentName)}))return e.pniExperimentName})(n.experimentation,t.pniExperimentNames);return a?(r=n.experimentation[a],r=__assign(__assign({},n.content),r),n.content=r,t.contentExperimentationDetails={experimentId:a},JSON.stringify(i)):e}}),define("mktui-fx/ads/content/contentAggregatorService",["require","exports","mktui-fx/util/commonUtils","mktui-fx/environment/channelEnvironment","mktui-fx/ads/personalization/personalization.service","mktui-fx/util/Logger","mktui-fx/common/adConstants","mktui-fx/common/AdOperationType","mktui-fx/ads/analytics/adDataStore","mktui-fx/ads/content/contentHelper","mktui-fx/ads/content/contentLoadService","mktui-fx/ads/content/failover/failover.service","mktui-fx/ads/topic","mktui-fx/util/commonUtils","mktui-fx/ads/content/templateResolver","mktui-fx/ads/content/contentExperimentation"],function(e,m,l,y,g,u,f,v,c,h,i,p,C,k,r,b){Object.defineProperty(m,"__esModule",{value:!0}),m.contentAggregatorService=m.ContentAggregatorService=void 0;n.prototype.processAdCollectionDynamicVariables=function(e,t,i){var r={},t=(0,l.isCrossDomain)(t)?(0,l.replaceContentServerHost)(e):e;return i.evaluateDynamicAd?(e=h.contentHelper.evaluateDynamicAd(t,i),r.adVariantData=e.adVariantData,r.content=e.html):r.content=t,r},n.prototype.processDynamicVariables=function(e,t,i,r){t=(0,l.isCrossDomain)(t)?(0,l.replaceContentServerHost)(e):e;return(t=r?m.contentAggregatorService.getDynamicAd(t):t).replace("${jpmcPageVar.clickThruUrl}",i)},n.prototype.getAdContentForConvoDeck=function(e,t,i){var e=e.replace("${jpmcPageVar.clickThruUrl}",i.clickThroughUrl||""),e=(0,l.getJSONObj)(e),r=(0,k.Deferred)();return e?((0,l.isCrossDomain)(t)&&h.contentHelper.appendContentServerHostToImagePaths(e),m.contentAggregatorService.getPersonalizedData(e.result,JSON.stringify(e),{adParameterOptions:i})):(r.reject("Invalid non-JSON response for cid ".concat(t)),r.promise())},n.prototype.loadContentForBlueAd=function(n,t,a,o){void 0===a&&(a=!1),void 0===o&&(o={});var s=t.adParameterOptions,c=t.decisionResultToUse,d=(0,k.Deferred)();return i.contentLoadService.load(n,s).then(function(r){var e,t,i=!(0,l.isEmptyObject)(c)&&c.failover;a||i||(r=(0,b.updateContentBasedOnExperimentation)(r,c)),h.contentHelper.checkForClientRenderedTemplateJSON(r)?(i=m.contentAggregatorService.processDynamicVariables(r,n,s.clickThroughUrl,!1),d.resolve({contentToRender:i,isFailover:a,failoverAdObject:o})):((i=h.contentHelper.adVariantFromJSON(r,n,s))&&i.offerApiUrl&&s.isEmulationUser&&(i.offerApiUrl=h.contentHelper.appendRPIForEmulationMode(i.offerApiUrl,s)),e=i.html.replace("${jpmcPageVar.clickThruUrl}",s.clickThroughUrl),t={contentLocation:n,isFailover:a,failoverAdObject:o,adParameterOptions:s,decisionResultToUse:c},m.contentAggregatorService.getPersonalizedData(i,e,t).then(function(e){var i=h.contentHelper.checkComponentPathExists(r),t=a!==e.isFailover;!i||s.clientTemplate||t?d.resolve(e):(e.templateConfig=s.templateConfig,m.contentAggregatorService.loadTemplateHtml(i,e).then(d.resolve,function(e){var t=(e=void 0===e?{}:e)&&"object"==typeof e&&"errorDetails"in e?e.errorDetails:"",t={componentPath:i,pageId:s.pageId,placementId:s.pid,cid:s.cid,eventDetails:t};u.Logger.logErrorMsgObject(v.AdOperationType.template_bundle_load_fail,t),d.reject(e)}))},d.reject))},function(e){a?d.reject():m.contentAggregatorService.manageFailover(v.AdOperationType.content_fail,t).then(d.resolve,d.reject)}),d.promise()},n.prototype.loadTemplateHtml=function(e,t){var i=(0,k.Deferred)(),e={componentPath:e,content:(0,l.getJSONObj)(t.contentToRender),templateConfig:t.templateConfig};return r.templateResolver.getTemplateHtml(e).then(function(e){t.contentToRender=(null==e?void 0:e.html)||"",i.resolve(t)},i.reject),i.promise()},n.prototype.getPersonalizedData=function(i,r,n){void 0===r&&(r="");var a=(0,k.Deferred)(),o=n.adParameterOptions,s=n.contentLocation,e=n.decisionResultToUse,c=n.isFailover,d=n.failoverAdObject,l=y.channelEnvironment.getResolvedEci(),t=h.contentHelper.checkForPersonalizedKey(i),u=e&&this.processInsightData(e)||{};if(t){var f=Date.now();g.personalizationService.getPersonalizationData(i,o).then(function(e){var t=e.response,t=__assign(__assign({adParameterOptions:o,contentLocation:s,response:t,requireOfferDataImpression:e.requireOfferDataImpression,eci:l,adVariation:i,isFailover:c,failoverAdObject:d},n),{html:r,insightData:u});m.contentAggregatorService.personalizationDataSuccess(f,t).then(a.resolve,a.reject)},function(e){var t=__assign({contentLocation:s,adVariation:i,isFailover:c},n);m.contentAggregatorService.personalizationDataError(v.AdOperationType.api_data_fail,e,f,t).then(function(e){return a.resolve(e)},function(){return a.reject("getPersonalizationData: ".concat(e&&e.details,"| timetaken: ").concat(Date.now()-f))})})}else if(r.includes("INS_")){e=__assign(__assign({adParameterOptions:o,contentLocation:s,response:{},requireOfferDataImpression:!0,eci:l,adVariation:i,isFailover:c,failoverAdObject:d},n),{html:r,insightData:u});m.contentAggregatorService.personalizationDataSuccess(0,e).then(a.resolve,a.reject)}else try{var p=this.replaceDynamicData(i,r,n,l,c,d);a.resolve(p)}catch(e){t=__assign({contentLocation:s,adVariation:i,isFailover:c},n);m.contentAggregatorService.personalizationDataError(v.AdOperationType.data_replace_fail,{details:e},0,t).then(function(e){return a.resolve(e)},function(){return a.reject("getPersonalizationData: ".concat(e))})}return a.promise()},n.prototype.replaceDynamicData=function(e,t,i,r,n,a){t=(t=(0,l.replaceDynamicDataForNonPersonalizedAd)(i.adParameterOptions,t=void 0===t?"":t)).replace(/{{eci}}/g,r);i=e.broadcastParams||{};return{success:!0,contentToRender:t=h.contentHelper.replaceReferenceVariables(t,e,"",i),adVariantData:e.adVariantData,disclosure:e.disclosure,isFailover:n,failoverAdObject:a,broadcastParams:e.broadcastParams}},n.prototype.manageFailover=function(c,d){return __awaiter(this,void 0,void 0,function(){var t,i,r,n,a,o,s;return __generator(this,function(e){switch(e.label){case 0:t=d.adParameterOptions,i=d.decisionResultToUse,r=(0,k.Deferred)(),e.label=1;case 1:return e.trys.push([1,6,,7]),n=__assign(__assign({},t),{failoverReason:c}),[4,p.failoverService.getFailOverAdData(t.pageId,n)];case 2:return(o=e.sent(),o=o[t.pid])?(a=p.failoverService.createDecisionRecord(o,n.failoverReason),[4,h.contentHelper.getContentLocation(o.failoverAdUrl,i)]):[3,4];case 3:return o=e.sent(),m.contentAggregatorService.loadContentForBlueAd(o,d,!0,a).then(function(e){r.resolve(e)},function(){return r.reject()}),[3,5];case 4:r.reject(),e.label=5;case 5:return[3,7];case 6:return s=e.sent(),r.reject(s),[3,7];case 7:return(0,C.Topic)("trackfailOverImpression").publish(c,t.pageId,t.pid),u.Logger.logMsg("Slot Placement - [trackfailOverImpression] Event Published"),[2,r.promise()]}})})},n.prototype.checkFailover=function(e,t,i){var r=(0,k.Deferred)();return e?r.reject():m.contentAggregatorService.manageFailover(t,i).then(r.resolve,r.reject),r.promise()},n.prototype.personalizationDataSuccess=function(e,t){var i=(0,k.Deferred)(),r=t.contentLocation,n=t.adVariation,a=t.isFailover,a=void 0!==a&&a,o=t.failoverAdObject,s=t.adParameterOptions,c=n.offerKey||n.personalizedFor||"",d=n.broadcastParams||{},c=m.contentAggregatorService.processPersonalizationData(s,{html:t.html,response:t.response,offerKey:c,broadcastParams:d,eci:t.eci,requireOfferDataImpression:t.requireOfferDataImpression,adParameterOptions:s,contentLocation:void 0===r?"":r,isFailover:a,failoverAdObject:o,decisionResultToUse:t.decisionResultToUse,insightData:t.insightData}),s=c.html,r=c.error;return s?(c={success:!0,contentToRender:s,adVariantData:n,disclosure:n.disclosure,isFailover:a,failoverAdObject:o,broadcastParams:d},i.resolve(c),i.promise()):(s={httpStatus:f.adConstants.httpStatusOk,httpReadyState:f.adConstants.httpReadyStateOk,details:void 0===r?"":r},m.contentAggregatorService.personalizationDataError(v.AdOperationType.data_replace_fail,s,e,t))},n.prototype.personalizationDataError=function(e,t,i,r){var n=r.contentLocation,a=r.isFailover,a=void 0!==a&&a,o=r.adParameterOptions;return g.personalizationService.logPersonalizedError({errorType:e,errorDetails:t,contentLocation:n,dataReqStartTime:i,adVariation:r.adVariation,placementId:o.pid,decisionResultToUse:r.decisionResultToUse||o||{}}),m.contentAggregatorService.checkFailover(a,e,{adParameterOptions:o})},n.prototype.processPersonalizationData=function(e,t){var i=t.response,r=t.offerKey,r=void 0===r?"":r,n=t.eci,a=t.requireOfferDataImpression,o=t.broadcastParams,o=void 0===o?{}:o,s=t.html,s=void 0===s?"":s,n=(e.eci=void 0===n?"":n,"object"==typeof i?i:JSON.parse(i)),n=__assign(__assign({},n),{insightData:t.insightData}),i=i.offerId||(null==(t=n.insightData)?void 0:t.offerId)||"",t=(n.offerId=i,__assign(__assign({},e),o));try{return(s=h.contentHelper.replaceReferenceVariables(s,n,r,t))&&a&&c.adDataStore.setOfferId(e.pageId,e.pid,i),u.Logger.debugMsg("Processed Offer Response",e.midas_id),{html:s}}catch(e){return s="",u.Logger.errorMsg(e),{html:s,error:e}}},n.prototype.processInsightData=function(e){return("ENRICHED_OFFER"===e.contentTypeCode||"INSIGHT"===e.contentTypeCode)&&e.insightDetailsText&&(0,l.getJSONObj)(e.insightDetailsText)||{}},n.prototype.getDynamicAd=function(e){return h.contentHelper.evaluateDynamicAd(e,{trackVariation:!1}).html};var t=n;function n(){}m.ContentAggregatorService=t,m.contentAggregatorService=new t}),define("mktui-fx/ads/content/content.service",["require","exports","mktui-fx/util/Logger","mktui-fx/common/AdOperationType","mktui-fx/common/adConstants","mktui-fx/environment/channelEnvironment","mktui-fx/ads/content/failover/failover.service","mktui-fx/ads/content/contentHelper","mktui-fx/ads/content/contentAggregatorService","mktui-fx/ads/content/contentLoadService","mktui-fx/util/commonUtils"],function(e,a,l,d,c,u,f,p,m,y,g){Object.defineProperty(a,"__esModule",{value:!0}),a.contentService=a.ContentService=void 0;i.prototype.loadAd=function(r,n,a,o,s){return __awaiter(this,void 0,void 0,function(){var t,i;return __generator(this,function(e){switch(e.label){case 0:return t=__assign({cid:r||""},s),[4,p.contentHelper.getContentLocation(r,s)];case 1:return i=e.sent(),0<=r.indexOf(c.adConstants.dynamicAdCheck)?y.contentLoadService.load(i,t).then(function(e){e=m.contentAggregatorService.processDynamicVariables(e,i,o,!0);l.Logger.debugMsg("[Ad Summary] Successfully loaded Ad for PID",t.pid),n(e)},function(e){l.Logger.errorMsg("Error loading Ad for PID: ".concat(t.pid,"; Error Message: "),e),a(e)}):y.contentLoadService.load(i,t).then(function(e){m.contentAggregatorService.getAdContentForConvoDeck(e,i,t).then(function(e){e=e.contentToRender;l.Logger.debugMsg("[Ad Summary] Successfully loaded Ad for PID",t.pid),n(e)},function(e){l.Logger.errorMsg("Error loading Ad for PID: ".concat(t.pid,"; Error Message: "),e),a(e)})},function(e){l.Logger.errorMsg("Error loading Ad for PID: ".concat(t.pid,"; Error Message: "),e),a(e)}),[2]}})})},i.prototype.loadBlueAd=function(r,c,n,a,d){return __awaiter(this,void 0,void 0,function(){var o,s,t,i;return __generator(this,function(e){switch(e.label){case 0:return s=__assign({clickThroughUrl:void 0,trackVariation:!0,creativeId:(o=d||{}).creativeId||"--",interactionID:o.interactionID||"--",midas_id:o.midas_id||"",adf_traceid:o.adf_traceid||"",dynamicData:o.dynamicData||{},cid:r||"",modernizeFileExtension:o.modernizeFileExtension||!1,originalCid:d.originalCid},a),[4,p.contentHelper.getContentLocation(r,d)];case 1:return t=e.sent(),-1!==t.indexOf(".dynamic.html")?y.contentLoadService.load(t,s).then(function(e){e=m.contentAggregatorService.processDynamicVariables(e,t,s.clickThroughUrl||"",!1);l.Logger.debugMsg("[Ad Summary] Successfully loaded Ad for PID",s.pid),c(e)},function(e){l.Logger.errorMsg("Error loading Ad for PID: ".concat(s.pid,"; Error Message: "),e),n(e)}):(i={adParameterOptions:s,decisionResultToUse:o},m.contentAggregatorService.loadContentForBlueAd(t,i).then(function(e){var t=e.contentToRender,i=e.adVariantData,r=e.disclosure,n=e.isFailover,a=e.failoverAdObject,e=e.broadcastParams;l.Logger.debugMsg("[Ad Summary] Successfully loaded Ad for PID",s.pid),n&&(o.failover=!0,o.failoverReason=a.failoverReason,o.cid=a.cid,o.creativeId=a.creativeId),c(t,i,r,n,a,e)},function(e){l.Logger.errorMsg("Error loading Ad for PID: ".concat(s.pid,"; Error Message: "),e),n(e)})),[2]}})})},i.prototype.loadFailoverAd=function(a,o,s,c){return __awaiter(this,void 0,void 0,function(){var t,i,r,n;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,5,,6]),t={failoverReason:d.AdOperationType.failover_ad_load},[4,f.failoverService.getFailOverAdData(a,t)];case 1:return(n=e.sent(),n=n[o])?(i=f.failoverService.createDecisionRecord(n,t.failoverReason),[4,p.contentHelper.getContentLocation(n.failoverAdUrl)]):[3,3];case 2:return r=e.sent(),y.contentLoadService.load(r,{}).then(function(e){var e=p.contentHelper.adVariantFromJSON(e,r),t=u.channelEnvironment.getResolvedEci(),t=e.html.replace("{{eci}}",t);s(t,e.adVariantData,e.disclosure,!0,i)},function(e){c()}),[3,4];case 3:c(),e.label=4;case 4:return[3,6];case 5:return n=e.sent(),c(n),[3,6];case 6:return l.Logger.logErrorMsgObject(d.AdOperationType.failover_ad_load,{pageId:a,placementId:o}),l.Logger.logMsg("Slot Placement - [trackfailOverImpression] Event Published"),[2]}})})},i.prototype.getFailoverContentPaths=function(s){return __awaiter(this,void 0,void 0,function(){var t,i,r,n,a,o;return __generator(this,function(e){switch(e.label){case 0:t={},i={},r=(0,g.Deferred)(),e.label=1;case 1:return e.trys.push([1,3,,4]),a={failoverReason:d.AdOperationType.content_fail},[4,f.failoverService.getFailOverAdData(s,a)];case 2:return(n=e.sent())&&0<Object.keys(n).length&&Object.keys(n).forEach(function(e){t[e]=n[e].failoverAdUrl,i[e]=n[e].failoverAdId}),0<Object.keys(t).length?(a={failoverAdUrls:t,failoverAdIds:i},r.resolve(a)):r.reject(),[3,4];case 3:return o=e.sent(),r.reject(o),[3,4];case 4:return[2,r.promise()]}})})},i.prototype.loadAdCollectionContent=function(c,d){return __awaiter(this,void 0,void 0,function(){var o,s,t,i,r,n,a;return __generator(this,function(e){switch(e.label){case 0:for(n in o=[],t=d.failoverAdIds||{},s={failoverAdIds:t,adVariationArray:{},contentArray:{}},t=function(t){var i,r,n,a;return __generator(this,function(e){switch(e.label){case 0:return i=c[t],r=(0,g.Deferred)(),[4,p.contentHelper.getContentLocation(i)];case 1:return n=e.sent(),i&&(a=__assign({clickThroughUrl:null,trackVariation:!0,pid:t},d),y.contentLoadService.load(n,a).then(function(e){e=m.contentAggregatorService.processAdCollectionDynamicVariables(e,n,a);s.contentArray[t]=e.content,e.adVariantData&&(s.adVariationArray[t]=e.adVariantData),r.resolve(s)},function(e){r.reject(e)}),o.push(r.promise())),[2]}})},r=[],i=c)r.push(n);a=0,e.label=1;case 1:return a<r.length?(n=r[a])in i?[5,t(n)]:[3,3]:[3,4];case 2:e.sent(),e.label=3;case 3:return a++,[3,1];case 4:return[2,Promise.all(o)]}})})},i.prototype.loadAdCollection=function(e,i){var t=(0,g.Deferred)(),r=__assign({evaluateDynamicAd:!1},i);return a.contentService.loadAdCollectionContent(e,r).then(function(e){l.Logger.debugMsg("[AdSummary] Successfully loaded adCollection content for PageId:",r.pageId),e&&e.length&&(e={contentArray:(e=e[0]).contentArray,adVariationArray:e.adVariationArray,failoverAdIds:e.failoverAdIds},t.resolve(e))},function(){a.contentService.getFailoverContentPaths(i.pageId).then(function(e){var t=e.failoverAdUrls;i.failoverAdIds=e.failoverAdIds,a.contentService.loadAdCollection(t,i)},function(){t.reject()})}),t.promise()},i.prototype.loadBlueAdCollection=function(e,i,r,t){var n=__assign({loadFailover:!1,evaluateDynamicAd:!0},t);n.loadFailover?a.contentService.getFailoverContentPaths(n.pageId).then(function(e){var t=e.failoverAdUrls;n.failoverAdIds=e.failoverAdIds,a.contentService.loadAdCollection(t,n).then(function(e){var t=e.contentArray;i(t,e.adVariationArray,e.failoverAdIds)},function(){r()})},r):a.contentService.loadAdCollection(e,n).then(function(e){var t=e.contentArray;i(t,e.adVariationArray,e.failoverAdIds)},function(){r()})};var t=i;function i(){this.settings={cache:!0}}a.ContentService=t,a.contentService=new t}),define("mktui-fx/common/adSizes",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.adSizes=void 0,t.adSizes={"iab-pop-medrec":{width:300,height:250},"iab-pop-wideskyscraper":{width:160,height:600},"iab-pop-leaderboard":{width:728,height:90},"iab-pop-halfpage":{width:300,height:600},"iab-large-portrait":{width:300,height:1050},"iab-large-billboard":{width:970,height:250},"iab-small-rectangle":{width:180,height:150},"iab-small-button1":{width:120,height:90},"iab-small-button2":{width:120,height:60},"iab-small-microbar":{width:88,height:31},"pb-tile":{width:250,height:65},"pb-tile1":{width:232,height:100},"pb-tile2":{width:232,height:200},"pb-medrec":{width:226,height:157},"pb-halfpage":{width:720,height:360},"cig-navad":{width:155,height:90},"cig-banner":{width:379,height:75},"cig-widebanner":{width:530,height:75},"cig-tout":{width:46,height:88},"cig-halfpage":{width:720,height:700},"cig-marque":{width:572,height:150},"cig-masthead":{width:680,height:287},"cig-carousel":{width:867,height:200},"cig-smallmarquee":{width:350,height:150},"cig-hero-marquee":{width:600,height:250},banw:{width:575,height:350},ban:{width:375,height:35},rtnv1:{width:155,height:90},rtnv2:{width:155,height:90},nvann:{width:155,height:90},interstitial:{width:833,height:380},ur_primary_bnr:{width:894,height:392},ur_dual_bnr:{width:440,height:205},ur_quad_bnr:{width:219,height:195},ur_footer_bnr:{width:468,height:215},"ur-hero-main":{width:716,height:300},"ur-hero-travel":{width:650,height:325},"ur-tile-travel":{width:345,height:204},"pb-tile3":{width:474,height:200},"ur-tile-mobile":{width:575,height:223},"cig-hero-marquee2":{width:960,height:250},"cig-hero-marquee3":{width:930,height:490}}}),define("mktui-fx/ads/client/AdType",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AdType=void 0,t.AdType={adCollection:"adCollection",ad:"ad"}}),define("mktui-fx/ads/placement/spinner/SpinnerType",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SpinnerType=void 0,t.SpinnerType={placementSpinner:"placement-spinner",overlaySpinner:"overlay-spinner",spinner:"spinner"}}),define("mktui-fx/ads/placement/spinner/SpinnerConfig",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/placement/spinner/Spinner",["require","exports","mktui-fx/common/adConfig"],function(e,t,i){function r(e){this.spinnerConfig=e}function n(e){this.spinnerConfig=e}function a(e){this.spinnerConfig=e}Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultSpinner=t.OverlaySpinner=t.PlacementSpinner=void 0,r.prototype.show=function(){this.spinnerConfig.element.style.position="relative";var e=document.createElement("div");e.className="jpui spinner",this.spinnerConfig.element.appendChild(e)},r.prototype.hide=function(){this.spinnerConfig.element.removeAttribute("style");var e=this.spinnerConfig.element.querySelector(".jpui.spinner");e&&e.parentNode&&e.parentNode.removeChild(e)},t.PlacementSpinner=r,n.prototype.show=function(){var e=document.createElement("div");e.className="jpui spinner",this.spinnerConfig.element.appendChild(e)},n.prototype.hide=function(){var e=this.spinnerConfig.element.querySelector(".jpui.spinner");e.parentNode&&e.parentNode.removeChild(e)},t.OverlaySpinner=n,a.prototype.show=function(){var e;this.spinnerConfig.spinnerType&&(e={background:'url("'+i.adConfig.getProperty("loadingImagePath")+'") no-repeat scroll center center',border:"1px solid #D5DCE2",opacity:"0.75",overflow:"hidden",display:"block"},e=this.spinnerConfig.spinnerType.responsive?__assign(__assign({},e),{"min-height":"60px"}):__assign(__assign({},e),{width:this.spinnerConfig.width,height:this.spinnerConfig.height}),this.applyStyles(e))},a.prototype.hide=function(){var e;this.spinnerConfig.spinnerType&&(e={background:"none",opacity:"1",border:"none",display:"block",overflow:"visible"},this.spinnerConfig.spinnerType.responsive||(e=__assign(__assign({},e),{width:this.spinnerConfig.width,height:this.spinnerConfig.height})),this.applyStyles(e))},a.prototype.applyStyles=function(e){var t,i=this.spinnerConfig.element;for(t in e)i.style[t]=e[t]},t.DefaultSpinner=a}),define("mktui-fx/ads/placement/spinner/SpinnerFactory",["require","exports","mktui-fx/util/Logger","mktui-fx/ads/placement/spinner/SpinnerType","mktui-fx/ads/placement/spinner/Spinner"],function(e,t,r,n,a){Object.defineProperty(t,"__esModule",{value:!0}),t.spinnerFactory=t.SpinnerFactory=void 0;o.prototype.createSpinner=function(e){var t,i=this.createSpinnerConfig(e);switch(e.loadingView){case n.SpinnerType.placementSpinner:t=new a.PlacementSpinner(i);break;case n.SpinnerType.overlaySpinner:t=new a.OverlaySpinner(i);break;case n.SpinnerType.spinner:t=new a.DefaultSpinner(i);break;default:return}return t.show(),t},o.prototype.createSpinnerConfig=function(e){if(e.pid)r.Logger.logMsg("Slot Placement - Configuring new Slot Placement for PID:",e.pid),t=e.pid,i=document.querySelector("#".concat(t));else{if(!(e.pids&&0<e.pids.length))return void r.Logger.logMsg("Slot Placement - [InitializePlacementError] Invalid API call - pid or pids must be passed");r.Logger.logMsg("Slot Placement - Configuring new Slot Placement for an array of PID's:",e.pids);var t=e.pids[0],t=document.querySelector("#".concat(t)),i=t&&t.parentElement&&t.parentElement.parentElement}return{element:i,spinnerType:{loadingView:e.loadingView,responsive:e.responsive}}};var i=o;function o(){}t.SpinnerFactory=i,t.spinnerFactory=new i}),define("mktui-fx/ads/placement/AdCollectionPlacementRenderer",["require","exports","mktui-fx/util/Logger","mktui-fx/ads/analytics/TrackingService","mktui-fx/common/adConfig","mktui-fx/common/Channels"],function(e,t,i,n,r,a){function o(e){this.pid="",this.pid=e.pid,this.placementData=e.data,this.slot=e.slot}Object.defineProperty(t,"__esModule",{value:!0}),t.AdCollectionPlacementRenderer=void 0,o.prototype.render=function(){var e=this.pid,t=this.placementData,i=this.slot;this.showDebugMsg(),n.trackingService.invokeAdImpression(e,t,i),i.options.pid=e,i.options&&i.options.adRequest&&i.options.adRequest.channelId===a.Channels.cap||this.assignTrackClickForAdCollection(e,t,i)},o.prototype.assignTrackClickForAdCollection=function(t,i,r){var e=document.querySelectorAll("[data-pt-id=".concat(t,"]"));0<e.length?e.forEach(function(e){n.trackingService.clickThroughMgr(e,t,i,r)}):(e=document.querySelector("div #"+t),n.trackingService.clickThroughMgr(e,t,i,r))},o.prototype.showDebugMsg=function(){var e=this.placementData,t=this.pid;r.adConfig.getProperty("debugEnabled")&&(e.failover?i.Logger.debugMsg("[AdSummary] Ad Collection failover template successfully rendered on UI for PID: ".concat(t)):i.Logger.debugMsg("[AdSummary] Ad Collection template successfully rendered on UI for PID: ".concat(t,"; midasId ").concat(e.midas_id)))},t.AdCollectionPlacementRenderer=o}),define("mktui-fx/ads/placement/SinglePlacementRenderer",["require","exports","mktui-fx/util/Logger","mktui-fx/ads/analytics/TrackingService","mktui-fx/common/Channels"],function(e,t,r,n,a){function i(e){this.pid="",this.pid=e.pid,this.placementData=e.data,this.slot=e.slot}Object.defineProperty(t,"__esModule",{value:!0}),t.SinglePlacementRenderer=void 0,i.prototype.render=function(){var e=this.pid,t=this.placementData,i=this.slot;r.Logger.debugMsg("[AdSummary] Ad template successfully rendered on UI for PID: ".concat(e,"; midasId: ").concat(t.midas_id)),n.trackingService.invokeAdImpression(e,t,i),i.options.pid=e,i.options&&i.options.adRequest&&i.options.adRequest.channelId===a.Channels.cap||n.trackingService.clickThroughMgr(i.element,e,t,i)},t.SinglePlacementRenderer=i}),define("mktui-fx/ads/client/AdParameters",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/client/AdOptions",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/client/AdRequest",["require","exports","mktui-fx/ads/client/AdType","mktui-fx/util/commonUtils"],function(e,t,i,r){function n(e){this.pageId="",this.adParams={},this.placements=[],(0,r.objAssign)(this,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.AdRequest=void 0,n.prototype.isAdCollection=function(){return this.callerContext===i.AdType.adCollection},t.AdRequest=n}),define("mktui-fx/ads/content/contentResolver",["require","exports","mktui-fx/util/commonUtils","mktui-fx/util/Logger","mktui-fx/ads/content/contentHelper","mktui-fx/ads/content/contentLoadService","mktui-fx/ads/personalization/personalization.service","mktui-fx/common/AdOperationType","mktui-fx/common/adConstants","mktui-fx/common/Channels","mktui-fx/ads/personalization/PersonalizationDataConfig","mktui-fx/ads/content/contentExperimentation"],function(e,f,p,s,m,c,y,g,r,d,l,u){Object.defineProperty(f,"__esModule",{value:!0}),f.contentResolver=f.ContentResolver=void 0;i.prototype.resolvePlacementContent=function(a,o){return __awaiter(this,void 0,void 0,function(){var t,i,r,n;return __generator(this,function(e){switch(e.label){case 0:return r=a.cid||"",t={cid:r||"",pageId:o.pageId,pid:a.placement||a.pid||"",creativeId:a.creativeId||"--",midas_id:a.midas_id||"",adf_traceid:a.adf_traceid||"",clickThroughUrl:"",interactionID:a.interactionID||"--",placement:a.placement||"",audiences:"",trackVariation:!0,channelId:o.channelId||""},o.channelId===d.Channels.cap&&(t.personalizationDataConfig={customDataProvider:l.CustomPersonalizationDataProvider.VAST}),s.Logger.debugMsg("[AdSummary] Load ad fired for CID:",r),[4,m.contentHelper.getContentLocation(r,a)];case 1:return i=e.sent(),[4,c.contentLoadService.load(i,t)];case 2:return(r=e.sent(),r=(0,u.updateContentBasedOnExperimentation)(r,a),r=(0,p.isCrossDomain)(i)?(0,p.replaceContentServerHost)(r):r,n=(0,p.getJSONObj)(r))?[4,this.getContentWithPersonalization(n,JSON.stringify(n),t)]:[2,r];case 3:return[2,e.sent()]}})})},i.prototype.getContentWithPersonalization=function(e){return __awaiter(this,arguments,void 0,function(t,e,i){var r,n,a,o,s,c,d,l,u;return void 0===e&&(e=""),__generator(this,function(e){switch(e.label){case 0:if(u=(0,p.isEmptyObject)(null==(u=null==t?void 0:t.ads[0])?void 0:u.data)?"":t.ads[0].data,r=m.contentHelper.checkForPersonalizedKey(u),n=(null==i?void 0:i.cid)||"",a=!1,o={offerKey:r,offerApiUrl:(null==u?void 0:u.serviceUrl)||""},s=Date.now(),c="",!r)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,y.personalizationService.getPersonalizationData(u,i)];case 2:return d=e.sent(),c=(null==d?void 0:d.response)||"",[3,4];case 3:return d=e.sent(),l={contentLocation:n,adVariation:o,isFailover:a,adParameterOptions:i},f.contentResolver.personalizationDataError(g.AdOperationType.api_data_fail,d,s,l),[2];case 4:return l={personalizedKey:r,personalisedResponse:c,adVariation:o,adData:u,contentResponse:t,adParameterOptions:i,contentLocation:n,isFailover:a,dataReqStartTime:s},[2,t=f.contentResolver.resolveDynamicVariables(l)]}})})},i.prototype.resolveDynamicVariables=function(t){var e="";try{var i=t.personalizedKey?__assign({},t.adParameterOptions):t.contentResponse.broadcastParams||{},r=t.personalizedKey&&t.personalisedResponse,n=r?t.personalisedResponse:t.adData,a=r?t.personalizedKey:"",e=JSON.parse(m.contentHelper.replaceReferenceVariables(JSON.stringify(t.contentResponse),n,a,i))}catch(e){return void f.contentResolver.logPersonalisationDataError(e,t,t.dataReqStartTime)}return e},i.prototype.logPersonalisationDataError=function(e,t,i){e={details:e||"Error: Reference variable could not be replaced",httpStatus:r.adConstants.httpStatusOk,httpReadyState:r.adConstants.httpReadyStateOk};f.contentResolver.personalizationDataError(g.AdOperationType.data_replace_fail,e,i,t)},i.prototype.personalizationDataError=function(e,t,i,r){var n=r.contentLocation,a=r.adVariation,o=r.adParameterOptions,r=r.decisionResultToUse;s.Logger.errorMsg("Error in personalisation service: ",t.details),y.personalizationService.logPersonalizedError({errorType:e,errorDetails:t,contentLocation:n,dataReqStartTime:i,adVariation:a,placementId:o.pid,decisionResultToUse:r||o||{}})};var t=i;function i(){}f.ContentResolver=t,f.contentResolver=new t}),define("mktui-fx/ads/placement/adClickHandler",["require","exports","mktui-fx/ads/topic","mktui-fx/common/adEvents"],function(e,t,a,o){Object.defineProperty(t,"__esModule",{value:!0}),t.adClickHandler=t.AdClickHandler=void 0;r.prototype.setClickHandlerForAd=function(t,i,r){var e,n=this;i&&(e=document.querySelector("#".concat(i)))&&e.addEventListener("click",function(e){(0,a.Topic)(o.AdEvents.trackAdClick).publish(i,t.options,t.adVariantData,t.pageId),n.clickEventHandler(e,r)})},r.prototype.clickEventHandler=function(e,t){var i,r,e=this.getElementWithClickAttributes(e.target);e&&(r=e.getAttribute("mktui-click"),e=e.getAttribute("mktui-param"),i=[],e&&i.push(e),r=(e=this.getSemanticAttributes(r))[0],(e=e[2])&&e.split(",").forEach(function(e){i.push(e)}),"".concat(r,"(").concat(i,")"),"function"==typeof t)&&t(i)},r.prototype.getElementWithClickAttributes=function(e){for(;e&&e!==document;){if(e.getAttribute("mktui-click"))return e;var t=e.getAttribute("on-click");if(t)return e.setAttribute("mktui-click",t),e;e=e.parentNode}},r.prototype.getSemanticAttributes=function(e){var t="",i=e,r="",n=e.indexOf("-"),e=(-1!=n&&(t=e.substr(0,n),i=e.substr(n+1)),i.indexOf(":"));return-1!=e&&(r=i.substr(e+1),i=i.substr(0,e)),[i,t,r]};var i=r;function r(){}t.AdClickHandler=i,t.adClickHandler=new i}),define("mktui-fx/ads/placement/PlacementService",["require","exports","mktui-fx/common/adSizes","mktui-fx/common/AdLabels","mktui-fx/ads/content/contentResolver","mktui-fx/ads/content/templateResolver","mktui-fx/ads/placement/placementHelper","mktui-fx/ads/placement/adClickHandler","mktui-fx/util/Logger","mktui-fx/common/AdOperationType","mktui-fx/util/commonUtils"],function(e,t,r,n,d,l,a,u,f,p,o){Object.defineProperty(t,"__esModule",{value:!0});var i={size:null,failoverTreatment:"hide",failoverAdId:"",failoverAdUrl:"",responsive:!(t.PlacementService=void 0)};function s(e){var r=this;this.pageId=null,this.render=function(e,t){r.options.creativeId=e.creativeId;e=document.querySelector("#".concat(e.placement));e&&(e.innerHTML=t)},this.registerTracking=function(e,t){var t=t.callerContext,i=r.options.pid||e.placement;a.placementHelper.handlePlacementComplete(i,r.adVariantData,t,e,r)},this.options=__assign(__assign({},i),e),this.pageId=this.options.pageId,this.options.pid&&(this.element=document.querySelector("#".concat(this.options.pid))),this.initializePlacement(e)}s.prototype.isContainerSizeZero=function(e,t){return 0==e||0==t},s.prototype.initializePlacement=function(e){var t=r.adSizes[e.size]?r.adSizes[e.size].width:0,i=r.adSizes[e.size]?r.adSizes[e.size].height:0;this.adLabel=n.AdLabels.decisionEngine,this.adVariantData={},e.isDisabled||this.isContainerSizeZero(t,i)&&this.options.responsive},s.prototype.load=function(s,c){return __awaiter(this,void 0,void 0,function(){var t,i,r,n,a,o;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,d.contentResolver.resolvePlacementContent(s,c)];case 1:return t=e.sent(),[3,3];case 2:return n=e.sent(),f.Logger.errorMsg("Error while fetching Ad data for PID: ".concat(s.placement,"; Error Message: ").concat(n)),[3,3];case 3:if(!t)return[2];if(!(i=this.buildPlacementContext(t,c)).componentPath)return[2];e.label=4;case 4:return e.trys.push([4,6,,7]),[4,l.templateResolver.getTemplateHtml(i)];case 5:return r=e.sent(),[3,7];case 6:return n=e.sent(),a=n&&"object"==typeof n&&"errorDetails"in n?n.errorDetails:"Error getting template html",a={componentPath:i.componentPath,pageId:c.pageId,placementId:s.placement,cid:s.cid,channel:i.channelId,eventDetails:a},f.Logger.logErrorMsgObject(p.AdOperationType.template_bundle_load_fail,a),[3,7];case 7:return null!=r&&r.success&&(this.render(s,r.html),s.placement&&(a=c.options?c.options.adClickHandler:"",u.adClickHandler.setClickHandlerForAd(this,s.placement,a)),o=(Array.isArray(t.ads)?t.ads[0]:t.ads).adVariationContext,this.adVariantData=o||{},this.registerTracking(s,c)),[2]}})})},s.prototype.buildPlacementContext=function(e,t){var i=!(0,o.isEmptyObject)(e)&&(null==(i=e.template)?void 0:i.componentPath)||"",r=t.channelId,t=t.options&&t.options.templateBundleUrl,n={};return{componentPath:i,content:n=e&&e.ads?(Array.isArray(e.ads)?e.ads[0]:e.ads).content:n,channelId:r,templateBundleUrl:t}},s.prototype.track=function(e,t,i,r){var n=e.match(/\?/)?"&":"?";return r=this.options.pid||r,e+="".concat(n).concat(t,"=").concat(i,"&jp_aid_p=").concat(this.pageId,"/").concat(r),this[t]=i,e},t.PlacementService=s}),define("mktui-fx/ads/placement/placementHelper",["require","exports","mktui-fx/common/AdLabels","mktui-fx/util/Logger","mktui-fx/ads/client/AdType","mktui-fx/ads/placement/AdCollectionPlacementRenderer","mktui-fx/ads/placement/SinglePlacementRenderer","mktui-fx/common/AdOperationType"],function(e,o,r,a,s,c,d,l){Object.defineProperty(o,"__esModule",{value:!0}),o.placementHelper=o.PlacementHelper=void 0;i.prototype.setPidDataUrlForMidas=function(e,t){var i=e.adLabel===r.AdLabels.decisionEngine;t.url&&t.turl&&t.wa_aid&&i&&-1===t.url.lastIndexOf("jp_aid_a")&&(t.url=e.track(t.url,"jp_aid_a",t.creativeId||t.wa_aid))},i.prototype.processFailOverAdData=function(e,t,i){e&&e[i.options.pid]&&(e=e[i.options.pid],i.options.failoverAdUrlApi=e.failoverAdUrl,i.options.failoverAdIdApi=e.failoverAdId),i.options.failoverAdUrlApi?(i.adLabel=r.AdLabels.defaultAd,i.options.adLabel=r.AdLabels.defaultAd,t.cid=i.options.failoverAdUrlApi,t.turl=null,t.url=null,i.getAd(t,!0)):"hide"===i.options.failoverTreatment&&(i.element.style.display="none")},i.prototype.handlePlacementComplete=function(e,t,i,r,n){var a="";i===s.AdType.adCollection&&r.pid==e?a=s.AdType.adCollection:n.options.pid&&!n.options.pids&&e===n.options.pid&&(a=s.AdType.ad),a&&o.placementHelper.adPlacementComplete(e,t,a,r,n)},i.prototype.adPlacementComplete=function(e,t,i,r,n){n.adVariantData=t;t={pid:e,data:r,slot:n},i===s.AdType.adCollection?new c.AdCollectionPlacementRenderer(t).render():i===s.AdType.ad&&new d.SinglePlacementRenderer(t).render(),n.options.adLabel=n.adLabel,e={adfTraceId:r.adf_traceid,cid:r.cid,creativeId:r.creativeId,midasId:r.midas_id,interactionId:r.interactionID,placementId:r.placement,eventType:l.AdOperationType.ad_render};a.Logger.debugMsg(e)};var t=i;function i(){}o.PlacementHelper=t,o.placementHelper=new t}),define("mktui-fx/ads/placement/placement",["require","exports","mktui-fx/ads/content/content.service","mktui-fx/util/Logger","mktui-fx/ads/topic","mktui-fx/common/adSizes","mktui-fx/util/commonUtils","mktui-fx/common/adEvents","mktui-fx/ads/client/AdType","mktui-fx/ads/content/failover/failover.service","mktui-fx/common/AdLabels","mktui-fx/common/AdOperationType","mktui-fx/ads/placement/spinner/SpinnerFactory","mktui-fx/ads/placement/placementHelper","mktui-fx/ads/content/contentHelper","mktui-fx/ads/content/contentLoadService","mktui-fx/ads/analytics/TrackingService","mktui-fx/util/domUtils"],function(e,t,m,y,s,a,d,o,c,r,l,u,f,g,v,h,i,C){Object.defineProperty(t,"__esModule",{value:!0});var k={size:null,failoverTreatment:"hide",failoverAdId:"",failoverAdUrl:"",loadingView:"placement-spinner",responsive:!(t.Slot=void 0)};function n(e){var p=this;this.pageId=null,this.getAdCollection=function(e,i,t,r){p.pageId=t;for(var n={},a={},o=!1,s=(a.pageId=t,p),c=function(e,t){t&&(i.failoverAdIds=t),s.renderAdCollection(i,e,r)},d=function(){return r.hide()},l=0,u=e.pids;l<u.length;l++){var f=u[l];if(p.element=document.querySelector("#".concat(f)),y.Logger.debugMsg("[AdSummary] AdCollection rendered for PID: ".concat(f,"; midasId: ").concat(i&&i[f]&&i[f].midas_id||"")),!i[f]){y.Logger.logMsg("Slot Placement - [adCollectionUpdateError] RF response does not match for this placement: ",f),r.hide(),o=!0;break}if(!i[f].cid){y.Logger.logMsg("Slot Placement - [adCollectionUpdateError] RF response has empty cid for this placement: ",f),o=!0,m.contentService.getFailoverContentPaths(t).then(function(e){var t=e.failoverAdUrls;a.failoverAdIds=e.failoverAdIds,m.contentService.loadAdCollection(t,a).then(function(e){var t=e.contentArray;c(t,e.failoverAdIds)},d)},d);break}n[f]=i[f].cid}o||m.contentService.loadAdCollection(n,a).then(function(e){var t=e.contentArray;c(t,e.failoverAdIds)},d)},this.initializePlacement=function(e){p.options=__assign(__assign({},k),e);var r,t=a.adSizes[e.size]?a.adSizes[e.size].width:0,i=a.adSizes[e.size]?a.adSizes[e.size].height:0,n=__assign(__assign({},k),e);p.adVariantData={},p.adLabel=l.AdLabels.decisionEngine,e.isDisabled||p.isContainerSizeZero(t,i)&&!n.responsive||(r=f.spinnerFactory.createSpinner(n),s.Topic.subscribe(o.AdEvents.adUpdate,p.handleAdUpdate),s.Topic.subscribe(o.AdEvents.adError,p.handleAdError),s.Topic.subscribe(o.AdEvents.adCollectionUpdate,function(e,t,i){p.handleAdCollectionUpdate(e,t,i,r)}),s.Topic.subscribe(o.AdEvents.adCollectionError,function(e,t,i){p.handleAdCollectionError(e,t,i,r)}))},this.handleAdUpdate=function(e,t,i){var r=p.options.pid,n=t[r];r&&i!=c.AdType.adCollection&&(p.pageId=e,null==n?(p.options.failoverReason=u.AdOperationType.plc_config_fail,p.adDataFail({}),y.Logger.logErrorMsgObject(u.AdOperationType.plc_config_fail,{placementId:r,currentPlacements:Object.keys(t)})):n.cid?(y.Logger.debugMsg("[AdSummary] Rendering ad for PID: ".concat(r,"; midasId: ").concat(n.midas_id)),p.getAd(n)):"hide"===p.options.failoverTreatment?p.element.style.display="none":p.adDataFail(n))},this.handleAdError=function(e,t,i){p.options.pid&&t!=c.AdType.adCollection&&null==p.options.pids&&(p.pageId=e,p.options.failoverReason=i,y.Logger.debugMsg("[AdSummary] Loading ad data fail for PID:",p.options.pid),p.adDataFail({}))},this.handleAdCollectionError=function(e,t,i,r){var n,a,o,s;p.options.pids&&0<p.options.pids.length&&t==c.AdType.adCollection&&p.options.pageId===e&&(p.pageId=e,p.options.failoverReason=i,n={},(a={}).pageId=e,o=p,s=function(){return r.hide()},y.Logger.debugMsg("[AdSummary] Getting failover content of adCollection for an array of placement ID's:",p.options.pids),m.contentService.getFailoverContentPaths(p.options.pageId).then(function(e){var t=e.failoverAdUrls;a.failoverAdIds=e.failoverAdIds,m.contentService.loadAdCollection(t,a).then(function(e){var t=e.contentArray;t=t,(e=e.failoverAdIds)&&(n.failoverAdIds=e),o.renderAdCollection(n,t,r)},s)},s))},this.handleAdCollectionUpdate=function(e,t,i,r){p.options.pids&&0<p.options.pids.length&&i===c.AdType.adCollection&&(y.Logger.debugMsg("[AdSummary]  Rendering adCollection for an array of placement ID's:",p.options.pids),void 0===p.options.pageId?((0,s.Topic)(o.AdEvents.adCollectionError).publish("error","","Page Id not defined"),y.Logger.logErrorMsgObject("no-page-id",{adErrorCollectionUpdate:!0,pageId:"--"})):p.options.pageId==e&&p.getAdCollection(p.options,t,e,r))},this.getAd=function(s,c){return __awaiter(p,void 0,void 0,function(){var t,i,r,n,a,o;return __generator(this,function(e){switch(e.label){case 0:return s.ctype&&(s.ctype=s.ctype.toLowerCase()),t=this,g.placementHelper.setPidDataUrlForMidas(t,s),i=function(e){t.options.failoverAdIdApi&&t.options.failoverAdUrlApi&&(t.options.failoverAdId=t.options.failoverAdIdApi,t.options.failoverAdUrl=t.options.failoverAdUrlApi),t.render(s,e)},r=function(e){t.options.failoverReason=u.AdOperationType.content_fail,e?"hide"===t.options.failoverTreatment&&(t.element.style.display="none"):t.adDataFail(s)},n=s.cid||"",a={cid:n,optionalFailover:c||""},y.Logger.debugMsg("[AdSummary] Load ad fired for CID:",n),[4,v.contentHelper.getContentLocation(n,s)];case 1:return o=e.sent(),h.contentLoadService.load(o,a).then(function(e){e=(0,d.isCrossDomain)(o)?(0,d.replaceContentServerHost)(e):e;i(e)},function(e){r(e)}),[2]}})})},this.track=function(e,t,i,r){var n=e.match(/\?/)?"&":"?";return r=p.options.pid||r,e+="".concat(n).concat(t,"=").concat(i,"&jp_aid_p=").concat(p.pageId,"/").concat(r),p[t]=i,e},this.invokeClientConfigAdFailure=function(){var e=new Array,t=p;t.options.failoverAdUrl?(t.adLabel=l.AdLabels.defaultAd,t.options.adLabel=l.AdLabels.defaultAd,e.cid=t.options.failoverAdUrl,e.turl=null,e.url=null,t.getAd(e,!0)):"hide"===t.options.failoverTreatment&&(t.element.style.display="none")},this.adDataFail=function(t){var i=p,e=i.options.failoverReason||u.AdOperationType.ad_data_fail,e=__assign(__assign({},t),{failoverReason:e});r.failoverService.getFailOverAdData(""+p.pageId,e).then(function(e){g.placementHelper.processFailOverAdData(e,t,i)},function(e){i.invokeClientConfigAdFailure()})},this.renderAdCollection=function(e,t,i){var r,n=p;for(r in t){var a=t[r],o={};e.failoverAdIds&&Object.keys(e.failoverAdIds).length?(n.options.failOverAdIds=e.failoverAdIds,o.pid=r,o.ctype="html",o.failover=!0):0<Object.keys(e).length&&((o=e[r]).pid=r,o.ctype=e[r].ctype||"html"),n.element=document.querySelector("#".concat(r)),n.render(o,a)}i.hide(),(0,s.Topic)("adCarouselRendered").publish("success",n.pageId)},this.render=function(r,e){p.options.creativeId=r.creativeId;var n=p;e=(0,d.replaceDynamicDataForNonPersonalizedAd)(r,e),C.domUtil.updateHtml(p.element,e),s.Topic.subscribe("placementComplete",function(e,t,i){g.placementHelper.handlePlacementComplete(e,t,i,r,n)}),n.options.responsive||((0,s.Topic)(o.AdEvents.trackAdImpression).publish(n.options.pid,n.options,null,n.pageId,r),y.Logger.debugMsg("[AdSummary] Assigning track click: ".concat(n.options.pid,"; midasId ").concat(n.options.midas_id||"")),i.trackingService.clickThroughMgr(n.element,n.options.pid,r,n))},this.arguments=__assign(__assign({},k),e),this.arguments.pid&&(this.element=document.querySelector("#".concat(this.arguments.pid))),this.initializePlacement(e)}n.prototype.isContainerSizeZero=function(e,t){return 0==e||0==t},t.Slot=n}),define("mktui-fx/ads/placement/popupSizes",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getPopupWindowSize=function(e){var t=i;return t[e]?"width="+t[e].width+", height="+t[e].height+",toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes":""};var i={small:{width:200,height:200},medium:{width:980,height:600},large:{width:1006,height:600}}}),define("mktui-fx/util/NamespacedEventHandler",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.eventHandler=void 0;r.prototype.addEventListener=function(e,t,i,r){this.namespaces[t]=i,e.addEventListener(t.split(".")[0],i,r||!1)},r.prototype.removeEventListener=function(e,t){e.removeEventListener(t.split(".")[0],this.namespaces[t]),delete this.namespaces[t]};var i=r;function r(){this.namespaces={}}t.eventHandler=new i}),define("mktui-fx/ads/analytics/ViewImpressionTracker",["require","exports","mktui-fx/common/adConstants"],function(e,a,r){function t(e,t){this.viewHandler=t,this.startViewObserver(e,{threshold:r.adConstants.adViewPercentageForViewImpression})}Object.defineProperty(a,"__esModule",{value:!0}),a.ViewImpressionTracker=a.VIEW_IMPRESSION_TIMEOUT_ATTRIBUTE=void 0,a.VIEW_IMPRESSION_TIMEOUT_ATTRIBUTE="mktui-view-impression-timeout",t.prototype.startViewObserver=function(e,t){new IntersectionObserver(this.handleObserverInteraction.bind(this),t).observe(e)},t.prototype.handleObserverInteraction=function(e,r){var n=this;e.forEach(function(e){var t=e.target,i=t.getAttribute(a.VIEW_IMPRESSION_TIMEOUT_ATTRIBUTE);e.isIntersecting?i||n.startImpressionTimer(t,function(){r.unobserve(t),n.viewHandler()}):n.clearImpressionTimer(t,i)})},t.prototype.startImpressionTimer=function(e,t){var i=setTimeout(function(){e.removeAttribute(a.VIEW_IMPRESSION_TIMEOUT_ATTRIBUTE),t()},r.adConstants.adImpressionTimeout);e.setAttribute(a.VIEW_IMPRESSION_TIMEOUT_ATTRIBUTE,i.toString())},t.prototype.clearImpressionTimer=function(e,t){t&&clearTimeout(t),t&&e.removeAttribute(a.VIEW_IMPRESSION_TIMEOUT_ATTRIBUTE)},a.ViewImpressionTracker=t}),define("mktui-fx/ads/analytics/TrackingService",["require","exports","mktui-fx/ads/topic","mktui-fx/common/adEvents","mktui-fx/util/Logger","mktui-fx/common/adConstants","mktui-fx/util/domUtils","mktui-fx/common/AdLabels","mktui-fx/util/commonUtils","mktui-fx/ads/placement/popupSizes","mktui-fx/util/NamespacedEventHandler","mktui-fx/ads/analytics/ViewImpressionTracker","mktui-fx/common/adConfig"],function(e,c,a,o,s,d,l,u,n,t,f,p,m){Object.defineProperty(c,"__esModule",{value:!0}),c.trackingService=c.TrackingService=void 0;r.prototype.invokeAdImpression=function(e,t,i){var r=document.querySelector("#"+e);r&&(window.addEventListener("click",(0,n.debounce)(function(){c.trackingService.invokeAdImpressionOnWindowClick(r,e,t,i)},d.adConstants.adImpressionTimeout)),m.adConfig.getProperty("intersectionObserverForViewImpressionsEnabled")?new p.ViewImpressionTracker(r,function(){c.trackingService.saveAdImpression(r,e,t,i)}):(c.trackingService.shouldSendImpression(r)&&(i.options.creativeId=t.creativeId,i.options.location=t.location,c.trackingService.saveAdImpression(r,e,t,i)),window.addEventListener("scroll",(0,n.debounce)(function(){c.trackingService.shouldSendImpression(r)&&c.trackingService.saveAdImpression(r,e,t,i)},d.adConstants.adImpressionTimeout))))},r.prototype.saveAdImpression=function(e,t,i,r){s.Logger.debugMsg("[AdSummary] Ad impression detected in viewport: ".concat(t,"; midasId: ").concat(i.midas_id||"")),(0,a.Topic)(o.AdEvents.trackAdImpression).publish(t,r.options,r.adVariantData,r.pageId,i),m.adConfig.getProperty("intersectionObserverForViewImpressionsEnabled")||l.domUtil.addClass(e,d.adConstants.adImpression)},r.prototype.invokeAdImpressionOnWindowClick=function(t,e,i,r){var n,a=e;c.trackingService.shouldSendImpression(t)?(c.trackingService.saveAdImpression(t,a,i,r),0<(n=document.querySelectorAll('[data-pt-id="'.concat(a,'"]'))).length&&n.forEach(function(e){l.domUtil.isElementInViewport(t)&&l.domUtil.addClass(t,d.adConstants.adImpression)})):0<(n=document.querySelectorAll('[data-pt-id="'.concat(a,'"]'))).length&&n.forEach(function(e){c.trackingService.shouldSendImpression(e)&&(c.trackingService.saveAdImpression(e,a,i,r),l.domUtil.addClass(e,d.adConstants.adImpression))})},r.prototype.trackClick=function(e,t,i){var r=e.currentTarget.href,r=r.substr(r.lastIndexOf("jp_aid_p")),r=r.substr(r.lastIndexOf("/")+1),n=t.options.failOverAdIds;t.options.adLabel=n&&0<Object.keys(n).length?u.AdLabels.defaultAd:t.adLabel,s.Logger.debugMsg("[AdSummary] trackAdClick Event Published for PID:",r),(0,a.Topic)(o.AdEvents.trackAdClick).publish(r,t.options,t.adVariantData,t.pageId),i.isPopup&&(window.open(e.currentTarget.href,"popup",i.targetSize),e.preventDefault())},r.prototype.clickThroughMgr=function(e,r,n,a){var o={vendorAd:!n.failover&&a.adLabel==u.AdLabels.decisionEngine,isHtml:"html"==n.ctype,isPopup:"window"==(n.target&&n.target.toLowerCase()||""),targetSize:n.targetsize&&(0,t.getPopupWindowSize)(n.targetsize)||""},e=e.querySelectorAll("a"),s=a.options.weblinkClickHandler;e.forEach(function(e){var t,i=e.getAttribute("href");!o.vendorAd&&i&&-1===i.lastIndexOf("jp_aid_a")&&(t=a.options.failOverAdIds&&a.options.failOverAdIds[r]||a.options.failoverAdId,e.setAttribute("href",a.track(i,"jp_aid_a",t,r))),o.vendorAd&&i&&o.isHtml&&-1===i.lastIndexOf("jp_aid_a")&&e.setAttribute("href",a.track(i,"jp_aid_a",n.creativeId||n.wa_aid,r)),s&&"function"==typeof s&&f.eventHandler.addEventListener(e,"click.slotplacement",s),f.eventHandler.addEventListener(e,"click.slotplacement",function(e){return c.trackingService.trackClick(e,a,o)})})},r.prototype.isImpressionReported=function(e){return l.domUtil.hasClass(e,d.adConstants.adImpression)},r.prototype.shouldSendImpression=function(e){return!l.domUtil.hasClass(e,d.adConstants.adImpression)&&l.domUtil.isElementInViewport(e)};var i=r;function r(){}c.TrackingService=i,c.trackingService=new i}),define("mktui-fx/ads/analytics/impressionErrorHelper",["require","exports","mktui-fx/util/Logger","mktui-fx/common/adConfig","mktui-fx/common/AdOperationType","mktui-fx/environment/channelEnvironment"],function(e,a,o,s,c,d){Object.defineProperty(a,"__esModule",{value:!0}),a.impressionErrorHelper=void 0;var r={};a.impressionErrorHelper={handleImpressionError:function(e,t,i,r){var n=(n=RegExp("[?&]ssv_random=([^&]*)").exec(r.turl))?decodeURIComponent(n[1].replace(/\+/g," ")):"";return!!(s.adConfig.getProperty("duplicateImpressionTracking")&&d.channelEnvironment.isCXO()&&a.impressionErrorHelper.checkDuplicateImpression(r.interactionID,r.creativeId,n)&&(a.impressionErrorHelper.logImpressionError(c.AdOperationType.duplicate_impression,e,t,i,r),a.impressionErrorHelper.isBPPlacement(t)))||(i.creativeId!==r.creativeId&&a.impressionErrorHelper.logImpressionError(c.AdOperationType.creative_mismatch,e,t,i,r),!1)},logImpressionError:function(e,t,i,r,n){var a={midasCreativeId:n.creativeId||"--",adobeCreativeId:r.creativeId||"--",pageId:t||"--",placementId:i||"--",interactionID:n.interactionID||"--",midasId:n.midas_id||"--",adfTraceId:n.adf_traceid||"--"};setTimeout(function(){o.Logger.logErrorMsgObject(e,a)},1e3)},checkDuplicateImpression:function(e,t,i){if(e&&t&&i){e=e+"|"+t+"|"+i;if(r[e])return!0;r[e]=!0}return!1},isBPPlacement:function(e){var t=s.adConfig.getProperty("borrowingPowerPlacements");return e&&0<=t.indexOf(e.toLowerCase())}}}),define("mktui-fx/ads/analytics/optimizeAnalytics",["require","exports","mktui-fx/common/adConfig","mktui-fx/common/adConstants"],function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.optimizeAnalytics=void 0,t.optimizeAnalytics={shouldConsolidateAnalyticsPayload:function(e){void 0===e&&(e="");var t,i=r.adConfig.getProperty(n.adConstants.analytics.optimizeAnalytics.adConfigFlagName);return e?(void 0===(t=r.adConfig.getProperty(n.adConstants.analytics.optimizeAnalytics.adConfigFlagNameForFlagsByPage)[e])&&r.adConfig.setNestedProperty(n.adConstants.analytics.optimizeAnalytics.adConfigFlagNameForFlagsByPage,e,t=i),t):i},setConsolidateAnalyticsPayloadFlag:function(e,t){void 0===t&&(t=null),(e=void 0===e?"":e)&&null!==t&&r.adConfig.setNestedProperty(n.adConstants.analytics.optimizeAnalytics.adConfigFlagNameForFlagsByPage,e,t)}}}),define("mktui-fx/ads/analytics/reportingDecisionEngine",["require","exports","mktui-fx/util/Logger","mktui-fx/common/AdOperationType","mktui-fx/ads/analytics/adDataStore","mktui-fx/ads/analytics/impressionErrorHelper","mktui-fx/util/domUtils","mktui-fx/common/AdLabels","mktui-fx/environment/channelEnvironment","mktui-fx/common/adConstants","mktui-fx/common/adConfig","mktui-fx/util/commonUtils"],function(e,t,a,o,n,s,c,d,r,l,u,f){Object.defineProperty(t,"__esModule",{value:!0}),t.reportingDecisionEngine=t.ReportingDecisionEngine=void 0;p.prototype.sendClickEventToDecisionEngine=function(e,t,i,r){var n;t.turl?(t.turl=this.addV1stIfNotExists(t.turl),this.isMidasAnalyticEvent(t.turl)&&u.adConfig.getProperty("analyticsBeaconEnabled")&&window.navigator.sendBeacon?(n=(0,f.convertQueryStringToJSON)((0,f.getQueryStringFromURL)(t.turl)),window.navigator.sendBeacon(t.turl,JSON.stringify(n))):(c.domUtil.invokePixelTag(t.turl),c.domUtil.pauseBrowser(l.adConstants.analyticsClickEventDelayMillis))):a.Logger.logErrorMsgObject(o.AdOperationType.midas_turl_missing,{creativeId:t.creativeId||"--",pageId:i||"--",placementId:e||"--",midasId:r&&r.midasId||"",interactionID:t.interactionID||"--"})},p.prototype.sendImpressionToDecisionEngine=function(e,t,i){void 0===t&&(t={});var r=n.adDataStore.getPageData(i)?n.adDataStore.getPlacementData(i,e):null;t.adLabel&&t.adLabel===d.AdLabels.defaultAd?a.Logger.debugMsg("Failover Ad. Skipping midas impression for placementId ",e):r&&(r.turl?s.impressionErrorHelper.handleImpressionError(i,e,t,r)||(t=this.createViewImpressionUrl(r.turl),c.domUtil.invokePixelTag(t)):(t={creativeId:r.creativeId||"--",pageId:i||"--",placementId:e||"--",interactionID:r.interactionID||"--"},a.Logger.logErrorMsgObject(o.AdOperationType.midas_turl_missing,t)))},p.prototype.createViewImpressionUrl=function(e){return e=null!=e&&e.toLowerCase().includes("recommendation-event-type-code")?e.replace("recommendation-event-type-code=CLICK","recommendation-event-type-code=VIEW"):(e=e.replace("/click","/view"),this.addV1stIfNotExists(e))},p.prototype.addV1stIfNotExists=function(e){var t=e.toLocaleLowerCase().includes("ssv_v1st="),i=r.channelEnvironment.getVFirstId();return t||!i?e:e+"&ssv_v1st=".concat(i)},p.prototype.isMidasAnalyticEvent=function(e){return 0<=(e=void 0===e?"":e).toUpperCase().indexOf("MIDAS")};var i=p;function p(){}t.ReportingDecisionEngine=i,t.reportingDecisionEngine=new i}),define("mktui-fx/ads/analytics/reportingPrivate",["require","exports","mktui-fx/ads/analytics/AnalyticsChannels","mktui-fx/util/Logger","mktui-fx/ads/analytics/adDataStore","mktui-fx/common/adConstants","mktui-fx/util/BlueAnalyticsHelper","mktui-fx/ads/content/creativeExperimentation","mktui-fx/ads/experimentation/splitio.service"],function(e,t,s,c,d,a,l,u,f){Object.defineProperty(t,"__esModule",{value:!0}),t.reportingPrivate=t.ReportingPrivate=void 0;r.prototype.handleFailoverEvent=function(e,t,i,r,n){r={placement:r,adId:(n=void 0===n?{creativeId:a.adConstants.analytics.defaultAdId,midas_id:""}:n).creativeId,midasId:n.midas_id,tagMap:i,failoverReason:t};l.BlueAnalyticsHelper.sendPayloadToAnalytics(e,r),c.Logger.debugMsg("Slot Placement - [Failover Ad Impression] Fired for pageId:",i)},r.prototype.handlePrivateAdImpression=function(e,t,i,r,n){var a,o;n&&n.midas_id&&(a=d.adDataStore.getOfferId(r,e),o=n.creativeId,e={placement:e||"",adId:t.creativeId||o||"",midasId:t.midasId||"",location:t.location||n.location||"",variations:i||"",tagMap:r,templateEventTimestamp:Date.now(),offerId:a||""},n.experimentIndicator&&n.mboxId&&(e.tntPersonalizationData=(0,u.createCreativeExperimentationImpressionPayload)(n)),n.contentExperimentationDetails&&(e.splitIoPersonalizationData=(0,f.createSplitImpressionPayload)(n.contentExperimentationDetails.experimentId)),null!=(o=t.analytics)&&o.consolidatePayload&&n.decisionAnalytics&&!t.isFailoverAdContent&&(e.decisionAnalytics=__assign(__assign({},n.decisionAnalytics),{"recommendation-event-type-code":"VIEW"})),l.BlueAnalyticsHelper.sendPayloadToAnalytics(s.AnalyticsChannels.impressionChannel,e),c.Logger.debugMsg("[AdSummary] Ad Impression sent to Analytics for pid: ".concat(e.placement,"; midasId: ").concat(e.midasId)))};var i=r;function r(){}t.ReportingPrivate=i,t.reportingPrivate=new i}),define("mktui-fx/ads/analytics/tracking",["require","exports","mktui-fx/ads/topic","mktui-fx/common/adEvents","mktui-fx/ads/analytics/reportingPublicSite","mktui-fx/ads/analytics/reportingPrivate","mktui-fx/environment/channelEnvironment","mktui-fx/ads/analytics/reportingDecisionEngine","mktui-fx/ads/analytics/adDataStore","mktui-fx/ads/analytics/AnalyticsChannels","mktui-fx/util/commonUtils","mktui-fx/ads/analytics/optimizeAnalytics"],function(e,t,i,r,o,a,s,c,d,n,l,u){Object.defineProperty(t,"__esModule",{value:!0}),t.adTracking=t.AdTracking=void 0;p.prototype.subscribeToAdEvents=function(){i.Topic.subscribe(r.AdEvents.trackAdImpression,this.handleAdImpression.bind(this)),i.Topic.subscribe(r.AdEvents.trackAdClick,this.handleAdClick.bind(this)),i.Topic.subscribe(r.AdEvents.trackfailOverImpression,function(e,t,i,r){s.channelEnvironment.isCXO()&&a.reportingPrivate.handleFailoverEvent(n.AnalyticsChannels.impressionChannel,e,t,i,r)}),i.Topic.subscribe(r.AdEvents.trackfailOverClick,function(e,t,i,r){s.channelEnvironment.isCXO()&&a.reportingPrivate.handleFailoverEvent(n.AnalyticsChannels.clickChannel,e,t,i,r)})},p.prototype.handleAdImpression=function(e,t,i,r,n){void 0===t&&(t={}),(0,l.isEmptyObject)(n=void 0===n?{}:n)&&(n=d.adDataStore.getPageData(r)?d.adDataStore.getPlacementData(r,e):null),s.channelEnvironment.isCXO()?(this.appendConsolidatePayloadFlagToAdOptions(r,t,n),a.reportingPrivate.handlePrivateAdImpression(e,t,i,r,n)):o.reportingPublicSite.handlePublicAdImpression(e,t,i,r,n),!d.adDataStore.getPageData(r)||t.isFailoverAdContent||null!=(i=t.analytics)&&i.consolidatePayload||!s.channelEnvironment.isCXO()||c.reportingDecisionEngine.sendImpressionToDecisionEngine(e,t,r)},p.prototype.handleAdClick=function(e,t,i,r,n,a){void 0===t&&(t={}),void 0===n&&(n={}),void 0===a&&(a=""),d.adDataStore.getPageData(r)&&!t.isFailoverAdContent&&(n=(0,l.isEmptyObject)(n)?d.adDataStore.getPlacementData(r,e):n)&&(a=s.channelEnvironment.isCXO()?a:e,this.checkClickAttribute(a)||(this.setClickAttribute(a),s.channelEnvironment.isCXO()?(this.appendConsolidatePayloadFlagToAdOptions(r,t,n),null!=(a=t.analytics)&&a.consolidatePayload||c.reportingDecisionEngine.sendClickEventToDecisionEngine(e,n,r,t)):o.reportingPublicSite.handlePublicAdClick(e,n,r,t,i)))},p.prototype.setClickAttribute=function(e){var t;e&&(t=document.querySelector("#"+e))&&t.setAttribute("mktui-tc",e)},p.prototype.checkClickAttribute=function(e){if(e){e=document.querySelector("#"+e);if(e)return e.getAttribute("mktui-tc")}},p.prototype.appendConsolidatePayloadFlagToAdOptions=function(e,t,i){t.analytics=t.analytics||{},t.analytics.consolidatePayload?t.analytics.consolidatePayload=t.analytics.consolidatePayload&&!(0,l.isEmptyObject)(i.decisionAnalytics):t.analytics.consolidatePayload=u.optimizeAnalytics.shouldConsolidateAnalyticsPayload(e)&&!(0,l.isEmptyObject)(i.decisionAnalytics)};var f=p;function p(){}t.AdTracking=f,t.adTracking=new f}),define("mktui-fx/ads/placement/placementConfig",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/client/AdClient",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/client/AdPreviewRequest",["require","exports","mktui-fx/ads/client/AdType","mktui-fx/util/commonUtils"],function(e,t,i,r){function n(e){this.placements=[],(0,r.objAssign)(this,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.AdPreviewRequest=void 0,n.prototype.isAdCollection=function(){return this.callerContext===i.AdType.adCollection},t.AdPreviewRequest=n}),define("mktui-fx/ads/client/clientRequestHelper.service",["require","exports","mktui-fx/environment/channelEnvironment","mktui-fx/common/adConstants","mktui-fx/util/commonUtils","mktui-fx/common/adConfig"],function(e,t,a,n,o,r){function s(e){return e?(e+"").substr(0,5):""}function c(e){return void 0!==e&&(0,o.isArray)(e)?e.join(t.MULTIVALUE_PARAM_DELIMITER):e}Object.defineProperty(t,"__esModule",{value:!0}),t.MULTIVALUE_PARAM_DELIMITER=void 0,t.isValidPageId=function(e){return!!e},t.isValidDecisionUrl=function(e){return!!e},t.getRecoDomain=function(e){var t=r.adConfig.getProperty("defaultRecoDomain")||"";e&&r.adConfig.getProperty("recoPodMapping")[e]&&(t=r.adConfig.getProperty("recoPodMapping")[e]);return t},t.getDecisionUrl=function(e,t){void 0===t&&(t="");var i=r.adConfig.getProperty("decisionUrl").midas;e&&(i=t+(r.adConfig.getProperty("decisionUrl").recoEngine||""));return i},t.getPersonalizedDecisionUrl=function(e){void 0===e&&(e="");return e+(r.adConfig.getProperty("decisionUrl").personalizedRecoEngine||"")},t.processAdParameters=function(e,t,i){var r={},n=a.channelEnvironment.getPersona();"object"==typeof e&&(r.eci=e.eci||a.channelEnvironment.getResolvedEci(),r.pfid=e.pfid||n.pfid,r.zip=s(e.zip||n.zip),r.cigseg=e.cigseg||n.segment,r.locale=e.locale||n.locale,r.product=e.product,r.userType=e.userType,r.sitebrand=e.sitebrand,r.siteacct=e.siteacct,r.pnpc=e.pnpc,r.pageLayout=e.pageLayout,r.origin=e.origin,r.products=c(e.products),r.pnpcs=c(e.pnpcs),r.lids=c(e.lids),r.accttype=e.accttype,void 0!==e.dig_test_profile&&(r.dig_test_profile="".concat(e.dig_test_profile)),void 0!==e.lobtype&&(r.lobtype=e.lobtype),r.useNewRecoEngine=t,r.pod=i,void 0!==e.userGroup)&&(r.userGroup=(0,o.convertToCaseInsensitive)(e.userGroup));return r},t.processZipCode=s,t.parsePageQueryParams=function(e){var i={};return e.forEach(function(e){var t,e=e.split("=");2===e.length&&(t=e[0],e=e[1],i[t]=decodeURIComponent(e.replace(/\+/g," ")))}),i},t.getMultiValueParam=c,t.generateRequestTraceId=function(){var e=((n.adConstants.clientId.match(/web-framework-core:[0-9.]*/g)||n.adConstants.clientId.match(/mkt-adf-version-[0-9_]{5}/g)||[""])[0].match(/[0-9._]+/g)||[""])[0],t=((n.adConstants.clientId.match(/xpins-react:[0-9.]*/g)||[""])[0].match(/[0-9.]+/g)||["na"])[0],i=Math.floor(1e9*Math.random()),r=Date.now();return["adf",e,"xpins",t,i,r].join("_").substring(0,36)},t.MULTIVALUE_PARAM_DELIMITER=";"}),define("mktui-fx/ads/decision/personalizedDecisionRequestHelper",["require","exports","mktui-fx/environment/channelEnvironment","mktui-fx/common/adConstants","mktui-fx/common/AdOperationType","mktui-fx/util/Logger","mktui-fx/util/commonUtils","mktui-fx/common/adEvents","mktui-fx/ads/topic"],function(e,t,l,u,f,p,i,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.handleDecisionRequestError=function(e,t,i,r,n){var a=r.textStatus,a=void 0===a?u.adConstants.genericErrorMessage:a,o=r.statusText,o=void 0===o?"":o,s=r.status,c=r.readyState,r=r.stack,r=void 0===r?"":r,d="timeout"===a?f.AdOperationType.decision_timeout_fail:f.AdOperationType.decision_fail,i=Date.now()-i,a=a+","+o;return p.Logger.logErrorMsgObject(d,{pageId:e,sectionId:n,respTime:i,details:a,httpStatus:s,httpReadyState:c,channel:l.channelEnvironment.getChannel(),adfTraceId:t,errorStack:r}),d},t.printDebugDecisionResponse=function(e){e=e.offers.filter(function(e){return!!e.cid}).map(function(e){return"".concat(e.placement,": ").concat(e.midas_id," ; AdID: ").concat(e.creativeId," ; cid: ").concat(e.cid)}).join("\n");p.Logger.debugMsg("[AdSummary]: Decision Response ",e)},t.createDecisionAnalyticsParams=function(e){return __assign(__assign({},(0,i.convertQueryStringToJSON)((0,i.getQueryStringFromURL)(e))),{"decision-engine-rest-path":e.split("?")[0]})},t.handleInvalidDecisionUrl=function(e,t){("adCollection"!=t?(p.Logger.logErrorMsgObject(f.AdOperationType.no_decision_url,{pageId:e}),(0,n.Topic)(r.AdEvents.adError)):(p.Logger.logErrorMsgObject(f.AdOperationType.no_decision_url,{adErrorCollection:!0,pageId:e}),(0,n.Topic)(r.AdEvents.adCollectionError))).publish(e,t,f.AdOperationType.no_decision_url)}}),define("mktui-fx/ads/decision/personalizedDecision.provider",["require","exports","mktui-fx/common/adConstants","mktui-fx/ads/decision/PersonalizedDecisionRequest","mktui-fx/common/adConfig","mktui-fx/environment/channelEnvironment","mktui-fx/environment/AdobeCookie","mktui-fx/util/commonUtils","mktui-fx/util/cors","mktui-fx/ads/decision/personalizedDecisionRequestHelper","mktui-fx/ads/client/clientRequestHelper.service","mktui-fx/ads/decision/DecisionRecord"],function(e,t,f,p,m,y,g,v,h,C,k,b){function A(e,t){var i,r=[];return e.products&&"string"==typeof e.products&&(r=null==(i=e.products)?void 0:i.split(k.MULTIVALUE_PARAM_DELIMITER)),(e.product&&"string"==typeof e.product||"number"==typeof e.product)&&r.push(e.product),t===p.httpRequestMethods.GET?r.join(","):r.map(function(e){return{productName:e}})}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchDecisionFromPersonalizedDecisionProvider=function(t,e,i){var r=f.adConstants.decision.personalizedRecoEngine.httpRequestMethod===p.httpRequestMethods.POST,n=(0,v.Deferred)(),a=Date.now(),o=(0,k.generateRequestTraceId)();e.lids&&(e.lids=(e=>{try{return"number"==typeof e?e:null==e?void 0:e.replace(/;/g,",")}catch(e){return""}})(e.lids));var s=(r?e=>{var t=e.pfid&&!isNaN(e.pfid);return{enterprisePartyIdentifier:e.eci||"",onlineProfileIdentifier:t?e.pfid:"",firstCookieIdentifier:y.channelEnvironment.getVFirstId()||"",requestContextParams:{customerHouseholdRelationshipManagementClassificationCode:e.cigseg||"",originationName:e.origin||"",digitalAccountTypeCode:e.accttype||"",siteBrandCode:e.sitebrand||"",customerJourneyPersonaText:e.userType||"",libraryIdentifier:e.lids||"",lineOfBusinessGroupCode:e.lobtype||"",localeCode:e.locale||""},customerLocationParams:{postalAreaCode:e.zip||""},contentFilter:{productNameArray:A(e,p.httpRequestMethods.POST)}}}:e=>{var t=e.pfid&&!isNaN(e.pfid);return{"enterprise-party-identifier":e.eci||"","online-profile-identifier":t?e.pfid:"","first-cookie-identifier":y.channelEnvironment.getVFirstId()||"","locale-code":e.locale||"","line-of-business-group-code":e.lobtype||"","library-identifier":e.lids||"","customer-journey-persona-text":e.userType||"","site-brand-code":e.sitebrand||"","digital-account-type-code":e.accttype||"","origination-name":e.origin||"","customer-household-relationship-management-classification-code":e.cigseg||"","postal-area-code":e.zip||"","unknown-visitor-identifier":(0,g.AdobeCookie)().readParam(g.MARKETING_CLOUD_VISITOR_ID_KEY)||"",productNameArray:A(e,p.httpRequestMethods.GET)}})(e),c=f.adConstants.decision.personalizedRecoEngine.screenSectionIdentifier,d={"source-application-system-name":f.adConstants.decision.personalizedRecoEngine.sourceApplicationSystemName,"source-request-component-name":t,"screen-section-identifier":c,"page-request-identifier":o},l={sourceApplicationSystemName:f.adConstants.decision.personalizedRecoEngine.sourceApplicationSystemName,sourceRequestComponentName:t,screenSectionIdentifier:c,pageRequestIdentifier:o},l=r?l:d,d={method:r?p.httpRequestMethods.POST:p.httpRequestMethods.GET,timeout:!y.channelEnvironment.isCXO()&&m.adConfig.getProperty("timeoutPublicRecoApi")?m.adConfig.getProperty("timeoutPublicRecoApi"):m.adConfig.getProperty("timeout"),data:__assign(__assign({},s),l)},u=(0,k.getRecoDomain)(e.pod),r=(0,k.getPersonalizedDecisionUrl)(u);(0,k.isValidDecisionUrl)(r)||(0,C.handleInvalidDecisionUrl)(t,i);s=m.adConfig.getProperty("decisionUrlHeaders");s&&(d.headers=s);return(0,h.CORS)(r,d).then(function(e){e=((e,t,i)=>{for(var r={},n=0,a=(null==e?void 0:e.positionRecommendations)||[];n<a.length;n++){var o=a[n],s=(null==(s=o.recommendations.content)?void 0:s[0])||{},c=__assign(__assign({},new b.DecisionRecord),{interactionID:e.interactionIdentifier,cid:s.recommendationContentIdentifier||"",creativeId:s.marketingTreatmentIdentifier,placement:o.placementIdentifier,turl:s.recommendationEventsUrl,midas_id:s.recommendationIdentifier,adf_traceid:t,dynamicData:{ProductIdentifier:null==(c=s.contentDetails)?void 0:c.productIdentifier,SPID:null==(c=s.contentDetails)?void 0:c.sourceCode},title:s.offerName,marketingTreatmentThemeName:s.marketingTreatmentThemeName,experimentIndicator:s.channelExperimentIndicator,mboxId:s.channelExperimentIdentifier,contentTypeCode:o.contentTypeCode,rankNumber:s.rankNumber,pniExperimentNames:s.pniExperimentNames,insightIdentifier:s.insightIdentifier,insightTypeCode:s.insightTypeCode,insightDetailsText:s.insightDetailsText});c.turl&&(c.decisionAnalytics=(0,C.createDecisionAnalyticsParams)(s.recommendationEventsUrl),c.turl=i+c.turl),r[o.placementIdentifier]=c}return m.adConfig.getProperty("debugEnabled")&&(0,C.printDebugDecisionResponse)({offers:Object.values(r)}),r})(e,o,u);n.resolve(e)},function(e){e=(0,C.handleDecisionRequestError)(t,o,a,e,c);n.reject(e)}),n.promise()},t.setPersonalizedRecoEngineEnabledFlag=function(e,t){m.adConfig.setNestedProperty(f.adConstants.decision.personalizedRecoEngine.adConfigFlagName,e,!0)}}),define("mktui-fx/ads/client/DecisionService",["require","exports","mktui-fx/common/adConfig","mktui-fx/ads/topic","mktui-fx/util/Logger","mktui-fx/environment/channelEnvironment","mktui-fx/ads/client/clientRequestHelper.service","mktui-fx/common/adEvents","mktui-fx/ads/content/failover/failover.service","mktui-fx/ads/analytics/adDataStore","mktui-fx/common/AdOperationType","mktui-fx/ads/decision/personalizedDecision.provider"],function(e,t,a,d,o,l,s,u,f,i,c,p){function r(e){this.adRequest=e}Object.defineProperty(t,"__esModule",{value:!0}),t.DecisionService=void 0,r.prototype.setLibIds=function(e){this.libIds=e},r.prototype.makeDecisionCall=function(){return __awaiter(this,void 0,void 0,function(){var t,i,r,n;return __generator(this,function(e){return r=this.adRequest,t=r.pageId,i=r.adParams,r=r.callerContext,this.libIds&&(i.lids=(0,s.getMultiValueParam)(this.libIds)),o.Logger.logDebugMsg("Slot Placement - Calling decision engine with Page Id:",t),n=this,[2,(0,p.fetchDecisionFromPersonalizedDecisionProvider)(t,i,r).then(function(e){return n.handleDecisionSuccess(e),e},function(e){return n.handleDecisionError(e)})]})})},r.prototype.handleDecisionSuccess=function(e){var t=this.adRequest,i=t.pageId,r=t.callerContext;(t.isAdCollection()?(0,d.Topic)(u.AdEvents.adCollectionUpdate):(0,d.Topic)(u.AdEvents.adUpdate)).publish(i,e,r),o.Logger.logMsg("[AdSummary] adUpdate Event Published for Page Id:",i),this.createAdtracker(i,e),o.Logger.debugMsg("[AdSummary] Decision Success for pageId",i),a.adConfig.getProperty("debugEnabled")&&this.logMidasResponseForDebug(e)},r.prototype.handleDecisionError=function(t){var i=this.adRequest,e=i.pageId,r=(o.Logger.debugMsg("[AdSummary] Decision Fail: Fetching failover ads for pageId",e),this),n={failoverReason:c.AdOperationType.decision_fail};return this.createAdtracker(e,{}),window.Blue&&window.Blue.version&&"test_cpo_secure_exploreproducts"!=e&&"cpo_secure_exploreproducts"!=e&&(o.Logger.logMsg("[AdSummary] Decision Error: tracking failover impression for pageId:",e),(0,d.Topic)(u.AdEvents.trackfailOverImpression).publish(t,e)),f.failoverService.getFailOverAdData(e,n).then(function(e){return a.adConfig.getProperty("debugEnabled")&&o.Logger.debugMsg("[AdSummary] Failover Ads received successfully for PIDs",Object.keys(e)),r.publishFailures(i,t,e,n.failoverReason)},function(){return o.Logger.debugMsg("[AdSummary] Error getting failover Ads for pageId",e),r.publishFailures(i,t)})},r.prototype.createAdtracker=function(e,t){i.adDataStore.addPage(e,t),o.Logger.debugMsg("[AdSummary] Created Ad Tracker for Page Id:",e)},r.prototype.publishFailures=function(e,t,i,r){var n,a,o=e.pageId,s=e.callerContext,c=!l.channelEnvironment.isCXO();return i?n=f.failoverService.transformFailoverToDecisionResponse(i,r):(a={})[u.AdEvents.adError]=t,c?(i=e.isAdCollection()?u.AdEvents.adCollectionError:u.AdEvents.adError,(0,d.Topic)(i).publish(o,s,t)):n?(0,d.Topic)(u.AdEvents.adFailover).publish(o,s,t,n):(0,d.Topic)(u.AdEvents.adError).publish(o,s,t,a),n||a},r.prototype.logMidasResponseForDebug=function(t){var e=Object.keys(t).filter(function(e){return!!t[e].cid}).map(function(e){return t[e]});o.Logger.debugMsgTable(e,["placement","cid","creativeId"])},t.DecisionService=r}),define("mktui-fx/ads/dso/dsolib.provider",["require","exports","mktui-fx/environment/channelEnvironment","mktui-fx/common/adConfig","mktui-fx/util/cors","mktui-fx/util/Logger","mktui-fx/util/commonUtils"],function(e,t,r,n,a,o,s){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchDsoLibraryIds=function(){var i=(0,s.Deferred)(),e={headers:{"Content-Type":"application/json","x-jpmc-csrf-token":"NONE"},cache:"no-cache",data:{enterpriseID:r.channelEnvironment.getResolvedEci()},timeout:n.adConfig.getProperty("timeoutDSOApi"),method:"POST"};return(0,a.CORS)(n.adConfig.getProperty("dsoOfferServiceUrl"),e).then(function(e){e.status&&"true"===e.status&&null!=e.libId&&""!=e.libId?i.resolve(e.libId):i.reject(null)},function(e){var t=e.textStatus;o.Logger.errorMsg("Error getting library ids ",(void 0===t?"error":t)+", "+e.statusText),i.reject(null)}),i.promise()}}),define("mktui-fx/ads/decision/DecisionEngine",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DecisionEngine=void 0,t.DecisionEngine={midas:"Midas",recoEngine:"RecoEngine",noEngine:"NoEngine"}}),define("mktui-fx/ads/client/client.service",["require","exports","mktui-fx/common/adConfig","mktui-fx/ads/topic","mktui-fx/util/Logger","mktui-fx/common/AdOperationType","mktui-fx/ads/analytics/tracking","mktui-fx/environment/channelEnvironment","mktui-fx/ads/client/clientRequestHelper.service","mktui-fx/ads/dso/dsolib.provider","mktui-fx/ads/client/AdRequest","mktui-fx/ads/analytics/adDataStore","mktui-fx/ads/client/DecisionService","mktui-fx/ads/client/PlacementDecisionService","mktui-fx/util/commonUtils","mktui-fx/util/NamespacedEventHandler","mktui-fx/ads/content/templateResolver","mktui-fx/ads/decision/DecisionEngine","mktui-fx/ads/analytics/optimizeAnalytics","mktui-fx/ads/decision/personalizedDecision.provider","mktui-fx/ads/experimentation/splitio.service"],function(e,t,l,r,p,u,i,f,m,y,g,n,v,h,C,k,b,A,a,o,s){Object.defineProperty(t,"__esModule",{value:!0}),t.clientService=void 0;var x={},O="";function c(e,t,i,r,n,a){if(void 0===t&&(t={}),void 0===n&&(n=!0),(l.adConfig.getProperty("botUserAgents")||[]).some(function(e){return 0<=navigator.userAgent.toLowerCase().indexOf(e.toLowerCase())}))p.Logger.logMsg("Suppressing call to decision engine due to presence of automation bots");else{var o,s,c,d;if(p.Logger.logMsg("Slot Placement - Service.init() called with Page Id:",e),O=e,(0,m.isValidPageId)(e))return n=(0,m.processAdParameters)(t,n,a),a=n,c=f.channelEnvironment.getPersona(),l.adConfig.setProperty("eci",a.eci||f.channelEnvironment.getResolvedEci()),l.adConfig.setProperty("pfid",c.pfid||""),l.adConfig.setProperty("decisionEngine",a.useNewRecoEngine?A.DecisionEngine.recoEngine:A.DecisionEngine.midas),c=r&&r.options,!l.adConfig.getProperty("disablePlacementDecisionService")&&r&&c&&c.loadPlacementsImmediate?(o=new g.AdRequest({pageId:e,adParams:n,options:c,placements:r.placements,channelId:r.channelId,callerContext:i}),s=new h.PlacementDecisionService(o),b.templateResolver.preLoadTemplateBundle(null==o?void 0:o.channelId)):(o=new g.AdRequest({pageId:e,adParams:n,callerContext:i}),s=new v.DecisionService(o)),l.adConfig.getProperty("eci")&&t.DSO_flag?(0,y.fetchDsoLibraryIds)().then(function(e){s.setLibIds(e),d=s.makeDecisionCall()},function(){d=s.makeDecisionCall()}):d=s.makeDecisionCall(),d;"adCollection"!=i?p.Logger.warn(u.AdOperationType.no_page_id,{pageId:"--"}):p.Logger.warn(u.AdOperationType.no_page_id,{adErrorCollection:!0,pageId:"--"})}}i.adTracking.subscribeToAdEvents(),t.clientService={init:function(e,t,i,r,n,a){void 0===n&&(n=!0),c(e,t=void 0===t?{}:t,i,r,n=void 0!==(null==r?void 0:r.useNewRecoEngine)?null==r?void 0:r.useNewRecoEngine:n,a)},loadDecision:c,destroy:function(e){if(""!==O&&O===e)for(var t in p.Logger.logMsg("Slot Placement - Destroying Page Id:",e),!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i=[],r=0,n=e;r<n.length;r++){var a=n[r];("string"==typeof a||(0,C.isArray)(a))&&i.push(a)}for(var o=0,s=i;o<s.length;o++){var c=s[o];if(void 0!==x[c]){p.Logger.debugMsg("Slot Placement - Destroying Event Handlers for Placement:",c);for(var d=document.querySelector("#".concat(c)),l=0,u=d.children;l<u.length;l++){var f=u[l];k.eventHandler.removeEventListener(f,"click.slotplacement")}x[c]=null,delete x[c]}}}((O="",C.generateValueArray)(x)),e=e,p.Logger.debugMsg("Slot Placement - Destroying Ad Tracker for Page Id:",e),n.adDataStore.addPage(e,{}),r.Topic.channels){var i=r.Topic.channels[t];p.Logger.debugMsg("Slot Placement - Destroying Topic Channel:",i.name),r.Topic.channels[t]=null,delete r.Topic.channels[t]}},registerPlacement:function(e){void 0===x[e]&&(x[e]=e)},shouldConsolidateAnalyticsPayload:a.optimizeAnalytics.shouldConsolidateAnalyticsPayload,setConsolidateAnalyticsPayloadFlag:a.optimizeAnalytics.setConsolidateAnalyticsPayloadFlag,setPersonalizedRecoEngineEnabledFlag:o.setPersonalizedRecoEngineEnabledFlag,createSplitImpressionPayload:s.createSplitImpressionPayload}}),define("mktui-fx/ads/client/PreviewHelperService",["require","exports","mktui-fx/ads/content/templateResolver","mktui-fx/util/commonUtils","mktui-fx/ads/content/contentHelper","mktui-fx/util/Logger","mktui-fx/common/AdOperationType","mktui-fx/common/adConstants"],function(e,t,s,c,n,d,l,a){function i(){this.render=function(e,t){e=document.querySelector("#".concat(e));e&&(e.innerHTML=t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewHelperService=void 0,i.prototype.invokePlacement=function(e,t){for(var i=0,r=t.placements;i<r.length;i++){var n=r[i].pid;n&&this.loadPreview(e,t,n)}},i.prototype.loadPreview=function(n,a,o){return __awaiter(this,void 0,void 0,function(){var t,i,r;return __generator(this,function(e){switch(e.label){case 0:t=(0,c.replaceContentServerHost)(JSON.stringify(n));try{n=this.getPreviewContentWithPersonalization(t,a)}catch(e){console.log("[AdSummary] Error while fetching Ad data for PID - using default values",e),t=this.useDynamicDefaultValuesForError(t),n=(0,c.getJSONObj)(t)}if(!n)return[2];t=this.buildPlacementContext(n,a),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,s.templateResolver.getTemplateHtml(t)];case 2:return i=e.sent(),[3,4];case 3:return r=e.sent(),r=r&&"object"==typeof r&&"errorDetails"in r?r.errorDetails:"Error getting template html",r={componentPath:t.componentPath,placementId:o.placement,cid:o.cid,channel:t.channelId,eventDetails:r},d.Logger.logErrorMsgObject(l.AdOperationType.preview_template_bundle_load_fail,r),[3,4];case 4:return null!=i&&i.success&&this.render(o,i.html),[2]}})})},i.prototype.buildPlacementContext=function(e,t){var i=e&&e.template.componentPath,r=t.channelId,t=t.options&&t.options.templateBundleUrl,n={};return{componentPath:i,content:n=e&&e.ads?(Array.isArray(e.ads)?e.ads[0]:e.ads).content:n,channelId:r,templateBundleUrl:t}},i.prototype.getPreviewContentWithPersonalization=function(e,t){var i,r=e,e=(0,c.getJSONObj)(e);return e?(i=__assign({},e.ads[0].data),t=__assign({},t),(e=n.contentHelper.replaceReferenceVariables(JSON.stringify(e),i,i.offerKey,t,!0,!0))?JSON.parse(e):(0,c.getJSONObj)(r)):r},i.prototype.useDynamicDefaultValuesForError=function(e){var t=e.match(/{{(\w+\s*.\w+)*}}/g);if(t)for(var i=0,r=t;i<r.length;i++){var n=r[i];e=e.replace(n,a.adConstants.previewPageDefaultValue)}return e},t.PreviewHelperService=i}),define("mktui-fx/ads/client/adframeworkclient",["require","exports","mktui-fx/ads/client/client.service","mktui-fx/ads/placement/PlacementService","mktui-fx/ads/client/PreviewHelperService"],function(e,t,i,r,n){Object.defineProperty(t,"__esModule",{value:!0});var a={size:null,failoverTreatment:"hide",failoverAdId:"",failoverAdUrl:"",loadingView:"placement-spinner",responsive:!(t.MktAdLoader=void 0)};function o(){this.pageId=null}o.getInstance=function(){return o.mktObj=o.mktObj?o.mktObj:new o},o.prototype.initAdsForPage=function(e){i.clientService.init(e.pageId,e.parameters,e.callerContext||"",e)},o.prototype.loadPlacement=function(e){this.placementDetails=__assign(__assign({},a),e),this.placementDetails.pid&&(this.element=document.querySelector("#"+this.placementDetails.pid))},o.prototype.invokePlacement=function(e,t,i){e=__assign(__assign(__assign({},a),e),{pageId:i.pageId,adRequest:i});new r.PlacementService(e).load(t,i)},o.prototype.initAemPreview=function(e,t){(new n.PreviewHelperService).invokePlacement(e,t)},t.MktAdLoader=o}),define("mktui-fx/ads/client/PlacementDecisionService",["require","exports","mktui-fx/util/Logger","mktui-fx/ads/client/DecisionService","mktui-fx/ads/client/adframeworkclient"],function(e,t,i,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.PlacementDecisionService=void 0;n=r.DecisionService,__extends(a,n),a.prototype.handleDecisionSuccess=function(e){var t=this.adRequest,t=t.pageId;i.Logger.logMsg("[AdSummary] Fetching AEM content immediately for placement for Page Id:",t),this.invokeLoadPlacement(e),this.createAdtracker(t,e),i.Logger.debugMsg("[AdSummary] Decision Success for pageId",t)},a.prototype.invokeLoadPlacement=function(e){for(var t=this.adRequest,i=0,r=t.placements;i<r.length;i++){var n=r[i],a=e[n.pid];a&&a.cid&&o.MktAdLoader.getInstance().invokePlacement(n,a,t)}};var n,r=a;function a(e){var t=n.call(this,e)||this;return t.adRequest=e,t}t.PlacementDecisionService=r}),define("mktui-fx/ads/client/UserGroup",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.UserGroup=void 0,t.UserGroup={default:"default",control:"control",variation1:"variation1",variation2:"variation2"}}),define("mktui-fx/ads/personalization/dataSettings.interface",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/personalization/offerResponse.interface",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/cardlytics/model/CardlyticsOfferState",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CardlyticsOfferStateText=t.CardlyticsOfferState=void 0,t.CardlyticsOfferState={NotActivated:"NotActivated",Activated:"Activated",redeemed:"redeemed",expired:"expired",available:"available",slideIn:"dashboard",added:"added",all:"all"},t.CardlyticsOfferStateText={expired:"Expired",redeemed:"Redeemed"}}),define("mktui-fx/cardlytics/model/CardlyticsOffer.interface",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/cardlytics/CardlyticsStore",["require","exports","mktui-fx/cardlytics/model/CardlyticsOfferState","mktui-fx/util/commonUtils","mktui-fx/util/Logger"],function(e,t,n,r,i){Object.defineProperty(t,"__esModule",{value:!0}),t.cardlyticsStore=t.CardlyticsStore=void 0;o.prototype.getAccounts=function(){return Object.keys(this.acctToCDLXMap)},o.prototype.getWinningAccount=function(){try{var i=(0,r.cleanObject)(this.acctToCDLXMap);return Object.keys(i).reduce(function(e,t){return i[e].AdCount>i[t].AdCount?e:t})}catch(e){return""}},o.prototype.getSourceCustomerId=function(e){return this.acctToCDLXMap[e]&&this.acctToCDLXMap[e].SourceCustomerId},o.prototype.getSourceCustomerIdMap=function(e){for(var t={},i=0,r=e;i<r.length;i++){var n=r[i];if(!this.acctToCDLXMap[n]||!this.acctToCDLXMap[n].SourceCustomerId)return{};t[n]=this.acctToCDLXMap[n].SourceCustomerId}return t},o.prototype.getSecToken=function(e){return this.acctToCDLXMap[e]&&this.acctToCDLXMap[e].TokenId},o.prototype.getAdCount=function(e){return this.acctToCDLXMap[e]&&this.acctToCDLXMap[e].AdCount},o.prototype.getIsOptIn=function(e){return this.acctToCDLXMap[e]&&this.acctToCDLXMap[e].isOptIn},o.prototype.getOfferList=function(e){return this.acctToCDLXMap[e]&&this.acctToCDLXMap[e].offerList},o.prototype.setIsOptIn=function(e,t){this.acctToCDLXMap[e].isOptIn=t},o.prototype.setOfferList=function(e,t){this.acctToCDLXMap[e].offerList=t},o.prototype.setCDLXDetails=function(e,t){this.acctToCDLXMap[e]=t},o.prototype.createCacheKey=function(e,t,i){return"".concat(e,"_").concat(t,"_").concat(i)},o.prototype.clearAccounts=function(t){var i=this;Object.keys(this.offerListMap).forEach(function(e){e.startsWith(t)||delete i.offerListMap[e]})},o.prototype.activateOffer=function(t,i){var r=this;Object.keys(this.offerListMap).filter(function(e){return e.startsWith(t)&&r.offerListMap[e].DisplayOffers}).map(function(e){return r.offerListMap[e].DisplayOffers}).forEach(function(e){e.filter(function(e){return e.OfferId===i}).forEach(function(e){e.ActivatedDate=(new Date).getTime(),r.addToOfferList(t,n.CardlyticsOfferState.added,e)})})},o.prototype.addToOfferList=function(t,i,r){var n=this;Object.keys(this.offerListMap).forEach(function(e){e.startsWith(t)&&e.endsWith(i)&&n.offerListMap[e].DisplayOffers&&(n.offerListMap[e].DisplayOffers.some(function(e){return e.OfferId===r.OfferId})||n.offerListMap[e].DisplayOffers.unshift(r))})},o.prototype.getStaticOfferList=function(e,t,i){return this.offerListMap[this.createCacheKey(e,t,i)]},o.prototype.setStaticOfferList=function(e,t,i,r){this.sortOfferList(this.getStaticOfferList(e,t,i),r),this.offerListMap[this.createCacheKey(e,t,i)]=r,this.setupExpiration(e)},o.prototype.sortOfferList=function(e,t){var i,r=this;e&&e.DisplayOffers&&t&&t.DisplayOffers&&(i=[],e.DisplayOffers.forEach(function(e){e=r.pullOfferFromList(e.OfferId,t);e&&i.push(e)}),t.DisplayOffers=t.DisplayOffers.concat(i))},o.prototype.pullOfferFromList=function(t,e){var i;return void 0===t&&(t=0),e&&e.DisplayOffers&&(i=e.DisplayOffers.find(function(e){return e.OfferId===t}),e.DisplayOffers=e.DisplayOffers.filter(function(e){return e.OfferId!==t})),i},o.prototype.setExpiration=function(e){e&&(this.expirationInMs=e)},o.prototype.setupExpiration=function(e){this.clearAccounts(e),clearInterval(this.expirationTimer);var t=this;this.expirationTimer=setInterval(function(){i.Logger.debugMsg("static offers cache deleted",t.offerListMap),t.offerListMap={},clearInterval(t.expirationTimer),t.expirationTimer=void 0},this.expirationInMs)};var a=o;function o(){this.expirationInMs=3e5,this.offerState=n.CardlyticsOfferState.all,this.activeAccountIds=[],this.acctToCDLXMap={},this.offerListMap={}}t.CardlyticsStore=a,t.cardlyticsStore=new a}),define("mktui-fx/cardlytics/model/AccountLookupMap.interface",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Account=void 0,t.Account=function(){this.maskNumber="",this.nickname="",this.isBusinessAccount=!1}}),define("mktui-fx/cardlytics/model/CardlyticsToken",["require","exports","mktui-fx/cardlytics/model/AccountLookupMap.interface"],function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CardlyticsToken=void 0;r=i.Account,__extends(n,r);var r,i=n;function n(){var e=null!==r&&r.apply(this,arguments)||this;return e.accountId="",e.count=0,e.securityToken="",e.location=0,e.IsOptedIn=!1,e}t.CardlyticsToken=i}),define("mktui-fx/cardlytics/util/CardlyticsPages",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CardlyticsPages=void 0,t.CardlyticsPages={OvdDashboard:"OvdDashboard",OvdSlideIn:"OvdSlideIn",ClassicDashboard:"ClassicDashboard",ClassicSlideIn:"ClassicSlideIn",OfferDetails:"offerDetails",AllOffers:"AllOffers",TotalRewards:"TotalRewards"}}),define("mktui-fx/cardlytics/cardlyticsconfig",["require","exports","slotplacement/clientconfig","slotplacement/slotplacementconfig","mktui-fx/util/commonUtils"],function(e,t,i,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.cardlyticsConfig=void 0,i=__importDefault(i),r=__importDefault(r),t.cardlyticsConfig={dpsHashApiUrl:((0,n.isEmptyObject)(i.default)||void 0===i.default.dpsHashApiUrl?r:i).default.dpsHashApiUrl,dpsHashListApiUrl:((0,n.isEmptyObject)(i.default)||void 0===i.default.dpsHashListApiUrl?r:i).default.dpsHashListApiUrl,timeOutDsoHashApi:((0,n.isEmptyObject)(i.default)||void 0===i.default.timeOutDsoHashApi?r:i).default.timeOutDsoHashApi,timeOutCardlyticsApi:((0,n.isEmptyObject)(i.default)||void 0===i.default.timeOutCardlyticsApi?r:i).default.timeOutCardlyticsApi,cardlyticsServiceUrl:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsServiceUrl?r:i).default.cardlyticsServiceUrl,cardlyticsChannel:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsChannel?r:i).default.cardlyticsChannel,cardlyticsDisplayType:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsDisplayType?r:i).default.cardlyticsDisplayType,cardlyticsTranasctionId:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsTranasctionId?r:i).default.cardlyticsTranasctionId,cardlyticsOfferCountLevel:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsOfferCountLevel?r:i).default.cardlyticsOfferCountLevel,cardlyticsMaxOffers:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsMaxOffers?r:i).default.cardlyticsMaxOffers,cardlyticsRedemeptionLookback:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsRedemeptionLookback?r:i).default.cardlyticsRedemeptionLookback,cardlyticsExpiredLookback:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsExpiredLookback?r:i).default.cardlyticsExpiredLookback,cardlyticsOfferTileTemplateUrlEN:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsOfferTileTemplateUrlEN?r:i).default.cardlyticsOfferTileTemplateUrlEN,cardlyticsOfferTileTemplateUrlES:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsOfferTileTemplateUrlES?r:i).default.cardlyticsOfferTileTemplateUrlES,cardlyticsOfferDetailTemplateUrlEN:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsOfferDetailTemplateUrlEN?r:i).default.cardlyticsOfferDetailTemplateUrlEN,cardlyticsOfferDetailTemplateUrlEs:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsOfferDetailTemplateUrlEs?r:i).default.cardlyticsOfferDetailTemplateUrlEs,cardlyticsImageHost:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsImageHost?r:i).default.cardlyticsImageHost,contentServer:((0,n.isEmptyObject)(i.default)||void 0===i.default.contentServer?r:i).default.contentServer,marketingCxoAdsUi:((0,n.isEmptyObject)(i.default)||void 0===i.default.marketingCxoAdsUi?r:i).default.marketingCxoAdsUi,cardlyticsDisplayTypeOffer:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsDisplayTypeOffer?r:i).default.cardlyticsDisplayTypeOffer,cardlyticsDisplayTypeOther:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsDisplayTypeOther?r:i).default.cardlyticsDisplayTypeOther,cardlyticsRedemeptionLookbackAvailable:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsRedemeptionLookbackAvailable?r:i).default.cardlyticsRedemeptionLookbackAvailable,cardlyticsExpiredLookbackAvailable:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsExpiredLookbackAvailable?r:i).default.cardlyticsExpiredLookbackAvailable,cardlyticsRedemeptionLookbackRedeemed:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsRedemeptionLookbackRedeemed?r:i).default.cardlyticsRedemeptionLookbackRedeemed,cardlyticsExpiredLookbackRedeemed:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsExpiredLookbackRedeemed?r:i).default.cardlyticsExpiredLookbackRedeemed,cardlyticsRedemeptionLookbackExpired:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsRedemeptionLookbackExpired?r:i).default.cardlyticsRedemeptionLookbackExpired,cardlyticsExpiredLookbackExpired:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsExpiredLookbackExpired?r:i).default.cardlyticsExpiredLookbackExpired,cardlyticsRedemeptionLookbackGetCount:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsRedemeptionLookbackGetCount?r:i).default.cardlyticsRedemeptionLookbackGetCount,cardlyticsExpiredLookbackGetCount:((0,n.isEmptyObject)(i.default)||void 0===i.default.cardlyticsExpiredLookbackGetCount?r:i).default.cardlyticsExpiredLookbackGetCount,showExpiredState:((0,n.isEmptyObject)(i.default)||void 0===i.default.showExpiredState?r:i).default.showExpiredState,isLogCardlyticsError:((0,n.isEmptyObject)(i.default)||void 0===i.default.isLogCardlyticsError?r:i).default.isLogCardlyticsError,ovdTagMapCode:["cxo_account_dashboard","test_cxo_account_dashboard","test_cbo_overview_executive","cbo_overview_executive","test_jpo_summary","jpo_summary"],classicDashboardTagMapCode:["cpo_dashboard_retail","test_cpodashboard_retail","cpo_dashboard_card","test_cpodashboard_card","test_cbo_dashboard_retail","cbo_dashboard_retail"],offerDetailsTagMapCode:["cxo_cdlx_offer_details","test_cxo_cdlx_offer_details"],seeAllOffersTagMapCode:["cxo_cdlx_rewards_summary","test_cxo_cdlx_rewards_summary"],cardlyticsOfferState:{0:"none",1:"Not Activated",2:"Activated",3:"Redeemed",4:"Expired",5:"Parked"},cardlyticsMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],cardlyticslocation:{OvdDashboard:11,ClassicDashboard:8,classic:8,OvdSlideIn:11,ClassicSlideIn:8,"ovd-singlepage":11,"dashboard-singlepage":8,AllOffers:7,"debit-widget":12,"credit-widget":13,CHK:12,DDA:12,PPA:12,PPX:12,PPG:12,BAC:13,OLM:13,PAC:13,BCC:13}}}),define("mktui-fx/cardlytics/util/cardlyticsConstants",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.cardlyticsConstants=void 0,t.cardlyticsConstants={cardlyticsApiNames:{hash:"Hash_Api",secToken:"SecurityToken_Api",multiSecToken:"multiSecurityToken_Api",getOfferCountDetail:"GetOfferCountDetail_Api",getSession:"getSession_Api",getOffers:"getOffers_Api"},cardlyticsImpressionEvents:{dislayElementExpanded:"DisplayElementExpanded API",MarkMultipleServed:"MarkMultipleServed API",UrlLinkClicked:"UrlLinkClicked API",RewardSummaryLinkClicked:"RewardSummaryLinkClicked API"},cardlyticsPlacementId:{allOfferPlacementIds:["cardlyticsAvailableOffers","cardlyticsAllOffers","cardlyticsAddedOffers","cardlyticsRedeemedOffers","cardlyticsExpiredOffers","cardlyticsRewardsEarned"],rewardsEarnedPlacementIds:["cardlyticsAvailableRewardsEarned","cardlyticsAllRewardsEarned","cardlyticsAddedRewardsEarned","cardlyticsRedeemedRewardsEarned","cardlyticsExpiredRewardsEarned"]},cardlyticsCategoryList:{en:{0:"All",1:"Entertainment",2:"Dining",3:"Shopping",4:"Services",5:"Travel",6:"Other"},es:{0:"Todas",1:"Entretenimiento",2:"Restaurantes",3:"Compras",4:"Servicios",5:"Viajes",6:"Otros"}},showExpiredState:4,dashboardAccountId:"dashboardAccountId",sourceCustomerId:"sourceCustomerId",securityToken:"securityToken",cardlyticsLocation:"cardlyticsLocation",offerCount:"offerCount",offerList:"offerList",IsOptedIn:"IsOptedIn",extraData:"Chase Cardlytics",offerState:"offerState",availableDisplayType:"Offer",redeemedDisplayType:"Redemption",expiredDisplayType:"Offer Cannot Activate",cardlyticsExtraData:"Chase Cardlytics",topicCardlyticsOfferList:"cardlyticsOfferList",limitNumberOfOffersCustom:"Custom",limitNumberOfOffersAll:"All",maxOffersSlideIn:2,enableSuppressionFalse:!1,maxOffersDashboard:6,maxOffersAllOffers:0,carouselCTA:"Add to card",slideInCTA:"+ Add to card",accountIds:"accountIds",offerIdValue:"offerIdValue",badgeText:"New",fewBorderDays:3,fewDaysText:"fewDays",lastDay:"Last day",daysLeft:"days left",odHeader:"Offer Details",expiresText:"Expires",backText:"back",carouselContentLabels:{en:{offerTitle:"Chase Offers",seeAllOffers:"See all offers",showMore:"See more offers",totalEarnedToDate:"Amount Earned to Date",important:"Important",errorMessage:"Chase Offers is not available",forText:"For ",defaultAd:{defaultAdTitle:"Chase Offers",defaultAdContent:"Use your card and check back here for offers from various merchants",defaultAdLink:"Go to Chase Offers",defaultAdImage:'<img alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAACrBJREFUeAHtnQtsU9cZgP//+vptJ5AApaEhPEabFJLSBASt1A36ouvabYW166RVbNIkpqGyiobEoevWrSUklIdGN6kRmtS11djKCtugQx0bQbApagnNwwEK4blQaEcTQuwktmP77D/Xccjj2vG1rx9xcqSbe30e//nP5//cex6/bxBSKNy3nRmdbjCIZhAFX48IbrdWUk+v7/NrTF5vN3gtenDVrcfeVFEbk6HI0+8xTev5nmIf+pYzhsXA4C5ENo8xMEeiDyJ0U7lWQDhD5T7RME3tvLmmT/Y8g75IyquZJ2EAS6pYppv1rELwrSRQD1AjMtRsCMnqIrDHGGj26tH0/gkb3lRZvqy4uAJkZCaF1T2PI/OvJmhPAjCDrBaqR6KLYO5nKPzeXm76O5KZql5Fv8C4AFxWy8Qbdd3f8wGzEbS746V8ZHLxlAawavJ95t1HlqM3sjKR51Id4IIq5/fJ4l4li5sVuRrxz0kWeYks8uUWm+VdNWtTDeCC151F2Md+w4Dx+1vqBsR/g4hrWzZYmtVQMmaAJTVM6+5wbELA9XTP06ihVLxl0D3RR1/0dn2W9aUTa7AvlvpiAli42TWHgeePNAxZHIsSSSuLcBxB96y9wnAhWh2EaAveU+2g4YinYczC4w2nL563oWizY1W0HKICWFTl/KnPD3+mStUey0XbjljKZfgB9hRVOl+IRoiiLiyN66oc1fTNbYimspQvI8BWe7m1TMm4URHAwkrHm3TzXZPyIGJQkB6GNfaN1h9HKiLiLryg0rEp3eFxaLyNRZudlZECjMgCCyud6xn4t0UqNB3yIQgv2jdato/WllEBFlZ1f50x/wdA89rRhKVVOs2fEYVv2G3mg+HaFRbK4m09ub0eLx+qZIcTkrZpCO1GnXjv8RdNbaHaGPIeyGcYLo/3vXELjxMjw+EMOAvFAD03nOW0ILA0VMHxEs8ZcBah2ivbhUu2uOa6vX0t9BUkaP0ulHqpEo8uvahdcKLMcH64RrJdmOD9dgLeYFTMEGAyOC5wPQLgPZXdTxC8FSOzjvcYtiLAZiiHEQBpo+fnQ7NMfAoSkGMzBCCNwB+jJ8/YXJoKtjKeZ2IjMRpUxxCAfmAvDUqbuJQhMJzRwFO4uNpR4PGxUzJlJqKGEdDqcH5DqVViNWCBfT78wbB8Ex9DEPB6cHUwSbLAVxgT3q9yttF6X04wQY3ztwpFWFGghbwsAQwhx/Jq1CQvo8vF4NPPaeW3sQ9OtKnntEDrhVdX2Sy5ryD6JYALNzuWeRmrlVdDeWxOJsJrTxhg8UwRPnODr6kbNO0xbd0o14G2MSFPD6zIDCxTBPxDvQd31LrBpdLOsIi4vLHCekTkqpHMh5WrKF/CpAN46zkzMxiQrT0Hwj86IZk7dUiV40+oX60t0bFsC2LpPpe84gpj+5kdke6BCOwhheVDZi99UA9TLQjPnZXghcyXqATecd+4CvBaG+CKfC2syJdsJubqg8xwyU6W0eN0ttNKbMySp5gRatdZWM01wK2fxayj6gL2FYDf2OvHb+/qHhh9RFsJLf17TRZLtuDqdZaoAY8rUpIr9VY82hWtWvEtd/QmCHOnCJhpjL0ezoyzE2i5Jj92cQEJU6jr8tCaMu6PAb2Cf8/265VtGhi9BZOiOnN2gp+cG6MqLVNI6O8YfbTRmorB0+/kplGHH3B2As19VbPAVIQWV52IHQ1nIIdMMWEhk26Tj0wKVHeGupS9J3zVvacvQHfTGXiqcBrsa7wG98/JgnPtPeDIyQFzcXJdDzk7evIya/gmqJs6g8aJm2cHZO76PDxAv8sN1989AOD3wdyFk6GnpRWmTS+AixevQvt/7KC7Yzpop2Wpq6AiacwqkvElFKAS/XzOXlh851SYRK75c27PhEcW5cFXZnDzZZB3WyZ86ugGSCJAzk4EhgQwgX1YAUELdffbJpugvcsFNfsD/pCH6i9LEvhUTa8hl3UF8lTPSuz44DlFn5kATqJzoO5CyHZPW8IgqbteNB2haTZ0kgFOD6llEhO4Bd49Kxu+7Bw5sNSQ9Zm0CAleoxhCg3z/u0T600kdOCUBuqlvFM+ZApPMeijIy4bTl9vhrtwsuNbhhE6nB2qHNCfxHxiymwIg60x81ZHV6NNq4U+Hz0j3vw5H4D5Yf/YL2Hu0FXYdaAYHX2tJYiDvmS4+Jk9ZgJoMM2Q8UAKCyQjcGtGghz6ksb9OD6Z7C0Cfe3sS8UlVt/On8PlUfQpzFSc9/lXp2E3Xub9YCh/xyAcBpvBzkgP5q50SUMMakqzHmK2ePOBOisyvaYQEjqbaPAAvkM3zcF6dxeGAsCT81YB4UrzDbGq54nR61VoTHK0dDhrbfXBjtFxjIR39epOxRTi4Dt00jCFPrMQEvhS3lOY+/JipT0yd8amF1X+0LvAUprE00Iw9MWEWQXuHViD58ezUxNQZj1oExINcrrS0KKCwNx6VpLVMprkFsKnC3ECT80tp3WAVG0cbStdXVhiPc5GSBUqyESasMELINHx5m3slDAUIwlsRlh/f2YieoNHVBCEMWKDdZrFTN5b6dTBx4jySAD1w/9VYZmgNpgwA5BGCgK8HEybOIQgIjPzHb4UhAJvKrbU0ppFujreyTFwFCZD11TeXWf8a/MzPQwDyCHqJza/4eSKMJCBocMRPYUcAbNpoPkD3wr+NLD6+Y/jzQeqhwzDIOhSJWu06r8f7MM2PTcPyx/zxC1qD33olIKaBNtXGREB0i1ooldN1hAXyTA2lxssgsF/KFYg1rp0c62poP5gfHztilZaY8rRs/3LQJ3p4jbIAeSbdZOsOOn08vECsn2kfCHJpc50f3Esh1QPNOo6ttJm3hdIzJED+PhVBI64if+D/hSocTfw82oc8XBQ41iR9RX7UFnShVlwdnHXI5Q4JkGduLjddISP5LncmlCucznG8zRpBeKZ5g/FiuHaGBcgLckdqQCwLJyQd02i/4/kmm+XD0do2KkAuwF5h2UHvENgymrB0SSc/x20tFdY3I2lPRAC5IHoBQ/l4gEhd940mm3VDJPB4nogB8swSRBSq+XVaBsRN9M6YdUpevKMIIIdG3dlGo3IbbXNL62FpAZIvUaFQRt32Z0rboxhgAGJGNWjwMVp4aFdaYerlx2vUbR9trrBEtRIVFUAOoaXcckgE7SIy97G7MY9wQK9jRdSr/hntFxs1QF5hY4XxUvZ0y/3UpXcQSNrxHRuBdHXT8XxLRcaTJ0ozvoxFa9nFBCUCj/wQuX/B+oVbnG+bdMj3VWaHK99BQ/Ld/XObRme4nPFJu9LDOmZPFZ7a+yPzUTVqoJmpeoF+Lit82Am/3nARHur1QYF6klWR1DbLCK8emg+/I+tT7QGoKsBgM/l7BvPr4Zv0Y1obf3FNMD5J5xZBgJ05WfDOkdlSb1FVjbgAHKxh/nG2zCsNe+BRciWOe31S3Sj5fe8nL+CdZ0rw8GB91L5OTINI6/n1bCatpX6H/HCepmOJ6jAD0OqoQX8RBdhzuhgvqw1LTl7CAA6uPP80y/b1wjKyk69RF19ESiwgqORupCBw53iAk1S2juy6jib/x84V43UFElTJmhSAcprf2chm0BudZxGIqTTBtPr9ElAOFQUGTiZAN4Hi/3Dgv1odnD85Hzvk5CQ67v8whi8x0J45hwAAAABJRU5ErkJggg==">'},carouselAda:{forwardNav:"Next carousel slide",backwardNav:"Previous carousel slide",currentSlidePosition:"Slide {x} of {y}",currentSelection:"Current selection",updatesContentAbove:"Updates content above"},disclaimerHeader:"Disclaimer",disclaimerBodyA:"Chase is only responsible for posting the statement credit to your account based on the data it receives from its third-party service provider. It is possible that a merchant may split your purchase into multiple transactions. In this case you may only receive your statement credit on the first transaction amount. If this occurs, please call the number on the back of your card. The statement credit will appear on your statement within 14 business days of Chase's receipt of this information.",disclaimerBodyB:"If you purchase a subscription service, your card may be billed for automatic renewals at recurring periods without further notice from the merchant. This offer will not apply to such renewals once the offer expires or is fully used."},es:{offerTitle:"Ofertas de Chase",seeAllOffers:"Ver todas las ofertas",showMore:"Ver ms ofertas",totalEarnedToDate:"Cantidad acumulada hasta la fecha",importantEs:"Importante",errorMessage:"Las Ofertas de Chase no estn disponibles",forText:"Para ",defaultAd:{defaultAdTitle:"Ofertas de Chase",defaultAdContent:"Usa tu tarjeta, luego vuelve aqu para ver las ofertas de varios comercios",defaultAdLink:"Ir a Ofertas de Chase",defaultAdImage:'<img alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAACrBJREFUeAHtnQtsU9cZgP//+vptJ5AApaEhPEabFJLSBASt1A36ouvabYW166RVbNIkpqGyiobEoevWrSUklIdGN6kRmtS11djKCtugQx0bQbApagnNwwEK4blQaEcTQuwktmP77D/Xccjj2vG1rx9xcqSbe30e//nP5//cex6/bxBSKNy3nRmdbjCIZhAFX48IbrdWUk+v7/NrTF5vN3gtenDVrcfeVFEbk6HI0+8xTev5nmIf+pYzhsXA4C5ENo8xMEeiDyJ0U7lWQDhD5T7RME3tvLmmT/Y8g75IyquZJ2EAS6pYppv1rELwrSRQD1AjMtRsCMnqIrDHGGj26tH0/gkb3lRZvqy4uAJkZCaF1T2PI/OvJmhPAjCDrBaqR6KLYO5nKPzeXm76O5KZql5Fv8C4AFxWy8Qbdd3f8wGzEbS746V8ZHLxlAawavJ95t1HlqM3sjKR51Id4IIq5/fJ4l4li5sVuRrxz0kWeYks8uUWm+VdNWtTDeCC151F2Md+w4Dx+1vqBsR/g4hrWzZYmtVQMmaAJTVM6+5wbELA9XTP06ihVLxl0D3RR1/0dn2W9aUTa7AvlvpiAli42TWHgeePNAxZHIsSSSuLcBxB96y9wnAhWh2EaAveU+2g4YinYczC4w2nL563oWizY1W0HKICWFTl/KnPD3+mStUey0XbjljKZfgB9hRVOl+IRoiiLiyN66oc1fTNbYimspQvI8BWe7m1TMm4URHAwkrHm3TzXZPyIGJQkB6GNfaN1h9HKiLiLryg0rEp3eFxaLyNRZudlZECjMgCCyud6xn4t0UqNB3yIQgv2jdato/WllEBFlZ1f50x/wdA89rRhKVVOs2fEYVv2G3mg+HaFRbK4m09ub0eLx+qZIcTkrZpCO1GnXjv8RdNbaHaGPIeyGcYLo/3vXELjxMjw+EMOAvFAD03nOW0ILA0VMHxEs8ZcBah2ivbhUu2uOa6vX0t9BUkaP0ulHqpEo8uvahdcKLMcH64RrJdmOD9dgLeYFTMEGAyOC5wPQLgPZXdTxC8FSOzjvcYtiLAZiiHEQBpo+fnQ7NMfAoSkGMzBCCNwB+jJ8/YXJoKtjKeZ2IjMRpUxxCAfmAvDUqbuJQhMJzRwFO4uNpR4PGxUzJlJqKGEdDqcH5DqVViNWCBfT78wbB8Ex9DEPB6cHUwSbLAVxgT3q9yttF6X04wQY3ztwpFWFGghbwsAQwhx/Jq1CQvo8vF4NPPaeW3sQ9OtKnntEDrhVdX2Sy5ryD6JYALNzuWeRmrlVdDeWxOJsJrTxhg8UwRPnODr6kbNO0xbd0o14G2MSFPD6zIDCxTBPxDvQd31LrBpdLOsIi4vLHCekTkqpHMh5WrKF/CpAN46zkzMxiQrT0Hwj86IZk7dUiV40+oX60t0bFsC2LpPpe84gpj+5kdke6BCOwhheVDZi99UA9TLQjPnZXghcyXqATecd+4CvBaG+CKfC2syJdsJubqg8xwyU6W0eN0ttNKbMySp5gRatdZWM01wK2fxayj6gL2FYDf2OvHb+/qHhh9RFsJLf17TRZLtuDqdZaoAY8rUpIr9VY82hWtWvEtd/QmCHOnCJhpjL0ezoyzE2i5Jj92cQEJU6jr8tCaMu6PAb2Cf8/265VtGhi9BZOiOnN2gp+cG6MqLVNI6O8YfbTRmorB0+/kplGHH3B2As19VbPAVIQWV52IHQ1nIIdMMWEhk26Tj0wKVHeGupS9J3zVvacvQHfTGXiqcBrsa7wG98/JgnPtPeDIyQFzcXJdDzk7evIya/gmqJs6g8aJm2cHZO76PDxAv8sN1989AOD3wdyFk6GnpRWmTS+AixevQvt/7KC7Yzpop2Wpq6AiacwqkvElFKAS/XzOXlh851SYRK75c27PhEcW5cFXZnDzZZB3WyZ86ugGSCJAzk4EhgQwgX1YAUELdffbJpugvcsFNfsD/pCH6i9LEvhUTa8hl3UF8lTPSuz44DlFn5kATqJzoO5CyHZPW8IgqbteNB2haTZ0kgFOD6llEhO4Bd49Kxu+7Bw5sNSQ9Zm0CAleoxhCg3z/u0T600kdOCUBuqlvFM+ZApPMeijIy4bTl9vhrtwsuNbhhE6nB2qHNCfxHxiymwIg60x81ZHV6NNq4U+Hz0j3vw5H4D5Yf/YL2Hu0FXYdaAYHX2tJYiDvmS4+Jk9ZgJoMM2Q8UAKCyQjcGtGghz6ksb9OD6Z7C0Cfe3sS8UlVt/On8PlUfQpzFSc9/lXp2E3Xub9YCh/xyAcBpvBzkgP5q50SUMMakqzHmK2ePOBOisyvaYQEjqbaPAAvkM3zcF6dxeGAsCT81YB4UrzDbGq54nR61VoTHK0dDhrbfXBjtFxjIR39epOxRTi4Dt00jCFPrMQEvhS3lOY+/JipT0yd8amF1X+0LvAUprE00Iw9MWEWQXuHViD58ezUxNQZj1oExINcrrS0KKCwNx6VpLVMprkFsKnC3ECT80tp3WAVG0cbStdXVhiPc5GSBUqyESasMELINHx5m3slDAUIwlsRlh/f2YieoNHVBCEMWKDdZrFTN5b6dTBx4jySAD1w/9VYZmgNpgwA5BGCgK8HEybOIQgIjPzHb4UhAJvKrbU0ppFujreyTFwFCZD11TeXWf8a/MzPQwDyCHqJza/4eSKMJCBocMRPYUcAbNpoPkD3wr+NLD6+Y/jzQeqhwzDIOhSJWu06r8f7MM2PTcPyx/zxC1qD33olIKaBNtXGREB0i1ooldN1hAXyTA2lxssgsF/KFYg1rp0c62poP5gfHztilZaY8rRs/3LQJ3p4jbIAeSbdZOsOOn08vECsn2kfCHJpc50f3Esh1QPNOo6ttJm3hdIzJED+PhVBI64if+D/hSocTfw82oc8XBQ41iR9RX7UFnShVlwdnHXI5Q4JkGduLjddISP5LncmlCucznG8zRpBeKZ5g/FiuHaGBcgLckdqQCwLJyQd02i/4/kmm+XD0do2KkAuwF5h2UHvENgymrB0SSc/x20tFdY3I2lPRAC5IHoBQ/l4gEhd940mm3VDJPB4nogB8swSRBSq+XVaBsRN9M6YdUpevKMIIIdG3dlGo3IbbXNL62FpAZIvUaFQRt32Z0rboxhgAGJGNWjwMVp4aFdaYerlx2vUbR9trrBEtRIVFUAOoaXcckgE7SIy97G7MY9wQK9jRdSr/hntFxs1QF5hY4XxUvZ0y/3UpXcQSNrxHRuBdHXT8XxLRcaTJ0ozvoxFa9nFBCUCj/wQuX/B+oVbnG+bdMj3VWaHK99BQ/Ld/XObRme4nPFJu9LDOmZPFZ7a+yPzUTVqoJmpeoF+Lit82Am/3nARHur1QYF6klWR1DbLCK8emg+/I+tT7QGoKsBgM/l7BvPr4Zv0Y1obf3FNMD5J5xZBgJ05WfDOkdlSb1FVjbgAHKxh/nG2zCsNe+BRciWOe31S3Sj5fe8nL+CdZ0rw8GB91L5OTINI6/n1bCatpX6H/HCepmOJ6jAD0OqoQX8RBdhzuhgvqw1LTl7CAA6uPP80y/b1wjKyk69RF19ESiwgqORupCBw53iAk1S2juy6jib/x84V43UFElTJmhSAcprf2chm0BudZxGIqTTBtPr9ElAOFQUGTiZAN4Hi/3Dgv1odnD85Hzvk5CQ67v8whi8x0J45hwAAAABJRU5ErkJggg==">'},carouselAda:{forwardNav:"Diapositiva del carrusel siguiente, actualiza contenido arriba",backwardNav:"Diapositiva del carrusel anterior, actualiza contenido arriba",currentSlidePosition:"Diapositiva {x} de {y}",currentSelection:"Seleccin actual",updatesContentAbove:"Actualiza contenido arriba"},disclaimerHeader:"Disclaimer",disclaimerBodyA:"Chase is only responsible for posting the statement credit to your account based on the data it receives from its third-party service provider. It is possible that a merchant may split your purchase into multiple transactions. In this case you may only receive your statement credit on the first transaction amount. If this occurs, please call the number on the back of your card. The statement credit will appear on your statement within 14 business days of Chase's receipt of this information.",disclaimerBodyB:"If you purchase a subscription service, your card may be billed for automatic renewals at recurring periods without further notice from the merchant. This offer will not apply to such renewals once the offer expires or is fully used."}}}}),define("mktui-fx/cardlytics/model/SourceCustomerInfo.interface",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/cardlytics/model/DisplayKey",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayKey=void 0,t.DisplayKey={available:"DisplayOffers",redeemed:"Redemptions",expired:"ExpiredOffers"}}),define("mktui-fx/cardlytics/model/CardlyticsLocale",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CardlyticsLocale=void 0,t.CardlyticsLocale={EN:"en_us",ES:"es_us"}}),define("mktui-fx/cardlytics/util/cardlyticsutil",["require","exports","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/cardlytics/util/cardlyticsConstants","mktui-fx/ads/topic","mktui-fx/cardlytics/model/CardlyticsToken","mktui-fx/cardlytics/util/CardlyticsPages","mktui-fx/cardlytics/model/CardlyticsOfferState","mktui-fx/cardlytics/CardlyticsStore","mktui-fx/cardlytics/model/DisplayKey","mktui-fx/cardlytics/model/CardlyticsLocale"],function(e,t,i,o,r,n,s,c,a,d,l){Object.defineProperty(t,"__esModule",{value:!0}),t.cardlyticsUtil=void 0,t.cardlyticsUtil={setAccountInfo:function(e,t,i){var r=new n.CardlyticsToken;return i?(r.accountId=e,r.count=i.AdCount):(r.accountId=e,r.count=a.cardlyticsStore.getAdCount(e)),r.securityToken=t,r},setTokenStorage:function(i,r){for(var e in i)(t=>{var e=0<(e=r.filter(function(e){return e.SourceCustomerId===i[t]})).length?e[0]:null;a.cardlyticsStore.setCDLXDetails(t,e)})(e)},getWinningAccountIdFromCache:function(e){try{return 1===Object.keys(e).length?Object.keys(e)[0]:a.cardlyticsStore.getWinningAccount()}catch(e){return null}},getAccountIds:function(){return a.cardlyticsStore.getAccounts()},getActiveSecurityToken:function(){var e,t=a.cardlyticsStore.activeAccountIds;return 1<t.length?(e=a.cardlyticsStore.getWinningAccount()?a.cardlyticsStore.getWinningAccount():"")?a.cardlyticsStore.getSecToken(e):"":a.cardlyticsStore.getSecToken(t[0])},deleteTopic:function(e){delete r.Topic.channels[e]},allReplace:function(e,t,i,r){for(var n in i==(s.CardlyticsPages.OvdSlideIn||s.CardlyticsPages.ClassicSlideIn)&&"Added"==r?e=e.replace("jpui sixersoffers","jpui sixersoffers dashboard"):i===(s.CardlyticsPages.OvdSlideIn||s.CardlyticsPages.ClassicSlideIn)&&r===o.cardlyticsConstants.slideInCTA&&(e=e.replace("jpui sixersoffers added","jpui sixersoffers added dashboard")),t)e="{{reference-zCDLX.EarnedAmount_EarnedAmount}}"!=n?e.replace(new RegExp(n,"g"),t[n]):e.replace(n,t[n]);return e},setCarouselSummaryInfo:function(e,t,i,r){var n=void 0!==t.nickname?t.nickname:"",a=void 0!==t.maskNumber?".."+t.maskNumber:"",o="For ";t.language===l.CardlyticsLocale.ES&&(o="Para "),e.accountInfo=o+n+" ("+a+")",e.isSingleAccount=!1,r==(s.CardlyticsPages.OvdSlideIn||s.CardlyticsPages.ClassicSlideIn)&&(e.isSingleAccount=!0),e.totalOffers=t.count,e.accountId=t.accountId,e.categoryId="Available"},carouselSummaryInfo:function(e,t){var i={},r=e.nickname||"",n=e.maskNumber?".."+e.maskNumber:"",a=(e.language===l.CardlyticsLocale.ES?o.cardlyticsConstants.carouselContentLabels.es:o.cardlyticsConstants.carouselContentLabels.en).forText;return i.accountInfo=a+r+" ("+n+")",i.isSingleAccount=t,i.totalOffers=e.count,i.accountId=e.accountId,i.categoryId=c.CardlyticsOfferState.all,i},getOfferState:function(e){var t={offerState:"Added",offerStateClass:"jpui confirmation mktui-icon"};return void 0!==e.EarnedDate&&(t.offerState="Redeemed",t.offerStateClass="jpui confirmation mktui-icon"),t},getOfferValue:function(e,t,i){return t?Number(e)+"%":"earned"===i||e%1!=0?"$"+Number(e).toFixed(2):"$"+Math.round(100*e)/100},getCustomDate:function(e,t){e=(e=(e=(e=e.replace(/\//g,"")).replace(/\//g,"")).replace("Date(","")).replace(")",""),e=parseInt(e);e=new Date(e);return"due"==t?e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear():"earned"==t?i.cardlyticsConfig.cardlyticsMonths[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear():void 0},getAdResponseByOfferId:function(e,t){var i={};e.DisplayOffers&&0<e.DisplayOffers.length?e=e.DisplayOffers:e.Redemptions&&0<e.Redemptions.length?e=e.Redemptions:e.ExpiredOffers&&0<e.ExpiredOffers.length&&(e=e.ExpiredOffers);for(var r=0;r<e.length;r++)if(e[r].OfferId==t){i=e[r];break}return i},parsePostMessage:function(e){for(var t=document.createElement("div"),i=(t.id="tmp_div",t.innerHTML=e,t.getElementsByTagName("a")),r=0;r<i.length;r++){var n={},a=i[r].getAttribute("href").split("?");i[r].setAttribute("href","javascript:void(0);"),i[r].setAttribute("target","_self"),i[r].setAttribute("alt","Opens dialog"),0<a.length&&(i[r].setAttribute("blue-click","requestUrlLinkClick"),void 0!==a[1])&&(n.navKey="requestCardAnalyticsMerchantSite",n.params={},n.params.rawAppend={},n.params.rawAppend.metchantUrl="?"+a[1],i[r].setAttribute("blue-param",JSON.stringify(n)),i[r].setAttribute("id","cardlytics_third_party_link"))}return t.innerHTML},getViewProperty:function(e){var t=d.DisplayKey.available;return e&&e.toLowerCase()===c.CardlyticsOfferState.all?(a.cardlyticsStore.offerState=c.CardlyticsOfferState.all,t=d.DisplayKey.available):e&&e.toLowerCase()===c.CardlyticsOfferState.added?(a.cardlyticsStore.offerState=c.CardlyticsOfferState.added,t=d.DisplayKey.available):e&&e.toLowerCase()===c.CardlyticsOfferState.redeemed?(a.cardlyticsStore.offerState=c.CardlyticsOfferState.redeemed,t=d.DisplayKey.redeemed):e&&e.toLowerCase()===c.CardlyticsOfferState.expired&&(a.cardlyticsStore.offerState=c.CardlyticsOfferState.expired,t=d.DisplayKey.expired),t},getCardlyticsToken:function(e,t,i){var r=e.sourceCustomerIds[t];return i.d.Tokens.find(function(e){return e.SourceCustomerId===r})}}}),define("mktui-fx/cardlytics/model/OfferList.interface",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/cardlytics/AccountHelper",["require","exports","mktui-fx/cardlytics/CardlyticsStore","mktui-fx/cardlytics/util/CardlyticsPages","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/cardlytics/util/cardlyticsutil","mktui-fx/cardlytics/util/cardlyticsConstants","mktui-fx/util/commonUtils","mktui-fx/cardlytics/model/DisplayKey","mktui-fx/cardlytics/model/CardlyticsLocale"],function(e,t,r,n,a,o,s,c,d,l){function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.AccountHelper=void 0,i.prototype.getEligibleAccounts=function(e){var i=[];if(e)return 0<e.length&&e.forEach(function(e,t){r.cardlyticsStore.getSecToken(e)&&i.push(e)}),i},i.prototype.getCategoryList=function(e,t,i){var i=o.cardlyticsUtil.getViewProperty(i=void 0===i?"":i),r=t===l.CardlyticsLocale.ES?s.cardlyticsConstants.cardlyticsCategoryList.es:s.cardlyticsConstants.cardlyticsCategoryList.en,t=i===d.DisplayKey.redeemed?e[i].map(function(e){return e.Offer}):e[i],n=(0,c.groupItemsByKey)(t,"CategoryId"),e=Object.keys(n).map(function(e){return{categoryId:e,categoryName:r[e],count:n[e].length}}),i={categoryId:"0",categoryName:r[0],count:t?t.length:0};return e.unshift(i),e},i.prototype.getOfferDetailsAccountInfo=function(e){var t={},e=1==e.length?e[0]:r.cardlyticsStore.getWinningAccount();return t.accountId=e,t.securityToken=r.cardlyticsStore.getSecToken(e),t.location=r.cardlyticsStore.offerLocation||"",t},i.prototype.setActiveAccountinfo=function(e,t,i){return i!==n.CardlyticsPages.OvdDashboard&&i!==n.CardlyticsPages.ClassicDashboard||(e.maskNumber=t[e.accountId].maskNumber,e.nickname=t[e.accountId].nickname),e.location=a.cardlyticsConfig.cardlyticslocation[i],r.cardlyticsStore.offerLocation=e.location,e},i.shared=new i,t.AccountHelper=i}),define("mktui-fx/cardlytics/model/ErrorData",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/cardlytics/CardlyticsError",["require","exports","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/util/Logger","mktui-fx/common/AdOperationType"],function(e,t,i,r,n){function a(){}Object.defineProperty(t,"__esModule",{value:!0}),t.CardlyticsError=void 0,a.prototype.logCardlyticsError=function(e,t){i.cardlyticsConfig.isLogCardlyticsError&&"true"===i.cardlyticsConfig.isLogCardlyticsError&&(t={API:t||"--",accountId:e.accountId||"--",httpStatus:e.status||"--",textStatus:e.textStatus||"--",errorThrown:e.errorThrown||"--",details:e.details||"--",responseData:e.responseData||"--"},r.Logger.logErrorMsgObject(n.AdOperationType.cardlytics_error,t))},a.shared=new a,t.CardlyticsError=a}),define("mktui-fx/cardlytics/model/CardlyticsParameter.interface",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/cardlytics/util/CardlyticsApiEndpoint",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CardlyticsApiEndpoint=void 0,t.CardlyticsApiEndpoint={secToken:"/SecurityService.asmx/GetSecurityToken",multiSecToken:"/ExtendedSecurityService.asmx/GetSecurityTokens",getOfferCountDetail:"/public/BankServiceApi45Ex.asmx/GetOfferCountDetail",getSession:"/public/BankServiceApi43.asmx/StartSession",getOffers:"/public/BankServiceApi45Ex.asmx/GetOffers"}}),define("mktui-fx/cardlytics/model/CardlyticsErrors",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CardlyticsErrors=void 0,t.CardlyticsErrors={CustomerNotFoundException:"CustomerNotFoundException",ChaseOfferNotAvailable:"Chase Offers is not available",SourceCustomerIdNotAvailable:"Source customer Id is not available for this account",ResponseFormatError:"Response is not as per the expected format",UserNotEligible:"User is not eligible for Cardlytics",SourceCustomerIdApiFailure:"sourceCustomerId API failure",SecurityTokenAPiFailure:"securityToken API failure",initSessionApiFailure:"initSession API failure",initSessionFailure:"Failed to Init the CDLX session",MultiSecurityTokenAPiFailure:"Multi securityToken API failure",getOffersAPiFailure:"Get Offers API failure",getOffersFailure:"Failed to provide the CDLX OFfers",ZeroOffer:"Zero Offer",APIFailure:"API Failure",DisplayElementExpandedEventFailure:"DisplayElementExpanded Event failure",DisplayElementExpandedFailure:"DisplayElementExpanded failure",UrlLInkClickedEventFailure:"UrlLink Clicked Event failure",UrlLInkClickedFailure:"UrlLink Clicked failure",RewardSummaryLinkClickedEventFailure:"RewardSummaryLinkClicked event failure",RewardSummaryLinkClickedFailure:"RewardSummaryLinkClicked failure",MarkMultipleServedEventFailure:"MarkMultipleServed event failure",MarkMultipleServedFailure:"MarkMultipleServed failure"}}),define("mktui-fx/cardlytics/api/multiSecurityToken.provider",["require","exports","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/cardlytics/util/CardlyticsApiEndpoint","mktui-fx/cardlytics/util/cardlyticsConstants","mktui-fx/util/cors","mktui-fx/cardlytics/model/CardlyticsErrors","mktui-fx/cardlytics/CardlyticsError","mktui-fx/util/commonUtils"],function(e,t,a,o,i,s,c,r,d){function l(e,t){r.CardlyticsError.shared.logCardlyticsError(e,i.cardlyticsConstants.cardlyticsApiNames.multiSecToken),t.reject(e.errorThrown||"")}Object.defineProperty(t,"__esModule",{value:!0}),t.getMultiSecurityTokens=function(n){return __awaiter(this,void 0,void 0,function(){var r,t,i;return __generator(this,function(e){return r=(0,d.Deferred)(),0<n.length?(t=JSON.stringify({sourceCustomerIds:n}),t={headers:{"Content-Type":"application/json"},data:t,timeout:a.cardlyticsConfig.timeOutCardlyticsApi,method:"POST"},i=a.cardlyticsConfig.cardlyticsServiceUrl+o.CardlyticsApiEndpoint.multiSecToken,(0,s.CORS)(i,t).then(function(e){var t,i;t=r,null!=(i=null==(i=(e=e).d)?void 0:i.Tokens)&&i.length&&t.resolve(e)},function(e){var t=e.textStatus;l({accountId:n,textStatus:void 0===t?"error":t,errorThrown:e.statusText,httpStatus:e.status,details:c.CardlyticsErrors.MultiSecurityTokenAPiFailure},r)})):l({accountId:n,details:c.CardlyticsErrors.UserNotEligible},r),[2,r.promise()]})})},t.handleMultiSecurityTokenFailure=l}),define("mktui-fx/cardlytics/api/sourceCustomerId.provider",["require","exports","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/cardlytics/util/cardlyticsConstants","mktui-fx/util/cors","mktui-fx/cardlytics/model/CardlyticsErrors","mktui-fx/cardlytics/CardlyticsError","mktui-fx/util/commonUtils"],function(e,t,r,i,n,s,a,c){function d(e,t){a.CardlyticsError.shared.logCardlyticsError(e,i.cardlyticsConstants.cardlyticsApiNames.hash),t.resolve(null)}Object.defineProperty(t,"__esModule",{value:!0}),t.getSourceCustomerId=function(a){var o=(0,c.Deferred)(),i=JSON.stringify({accountid:a}),e={headers:{"Content-Type":"application/json","x-jpmc-csrf-token":"NONE"},data:i,timeout:r.cardlyticsConfig.timeOutCardlyticsApi,method:"POST"};return(0,n.CORS)(r.cardlyticsConfig.dpsHashListApiUrl,e).then(function(e){var t,i,r,n;t=a,i=o,(e=e)&&null!=(r=e.hashAccounts)&&r.length?(n={},e.hashAccounts.forEach(function(e){n[e.accountId]=e.success?e.sourceCustomerId:""}),i.resolve(n)):d({accountId:JSON.stringify(t),details:s.CardlyticsErrors.SourceCustomerIdNotAvailable,responseData:e},i)},function(e){var t=e.textStatus;d({accountId:i,textStatus:void 0===t?"error":t,errorThrown:e.statusText,httpStatus:e.status,details:s.CardlyticsErrors.SourceCustomerIdApiFailure},o)}),o.promise()}}),define("mktui-fx/cardlytics/api/initSession.provider",["require","exports","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/cardlytics/util/cardlyticsConstants","mktui-fx/util/cors","mktui-fx/cardlytics/model/CardlyticsErrors","mktui-fx/cardlytics/util/CardlyticsApiEndpoint","mktui-fx/cardlytics/CardlyticsError","mktui-fx/util/commonUtils"],function(e,t,r,o,s,c,d,i,l){function u(e,t){i.CardlyticsError.shared.logCardlyticsError(e,o.cardlyticsConstants.cardlyticsApiNames.getSession),t.reject(e.errorThrown||"")}Object.defineProperty(t,"__esModule",{value:!0}),t.getSessionInfo=function(a){return __awaiter(this,void 0,void 0,function(){var n,t,i;return __generator(this,function(e){return n=(0,l.Deferred)(),t=JSON.stringify({SecurityToken:a,Channel:r.cardlyticsConfig.cardlyticsChannel,ExtraData:o.cardlyticsConstants.extraData}),t={headers:{"Content-Type":"application/json"},data:t,timeout:r.cardlyticsConfig.timeOutCardlyticsApi,method:"POST"},i=r.cardlyticsConfig.cardlyticsServiceUrl+d.CardlyticsApiEndpoint.getSession,(0,s.CORS)(i,t).then(function(e){var t,i,r;t=a,i=n,null!=(r=(e=e).d)&&r.IsOptedIn?i.resolve(e.d):u({accountId:t,details:c.CardlyticsErrors.initSessionFailure,responseData:e},i)},function(e){var t=e.textStatus;u({accountId:a,textStatus:void 0===t?"error":t,errorThrown:e.statusText,httpStatus:e.status,details:c.CardlyticsErrors.initSessionApiFailure},n)}),[2,n.promise()]})})}}),define("mktui-fx/cardlytics/api/getOffers.provider",["require","exports","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/cardlytics/util/cardlyticsConstants","mktui-fx/cardlytics/util/CardlyticsApiEndpoint","mktui-fx/util/cors","mktui-fx/cardlytics/model/CardlyticsErrors","mktui-fx/cardlytics/model/CardlyticsOfferState","mktui-fx/cardlytics/util/CardlyticsPages","mktui-fx/cardlytics/CardlyticsError","mktui-fx/util/commonUtils"],function(e,t,c,d,l,u,f,p,m,i,y){function g(e,t){i.CardlyticsError.shared.logCardlyticsError(e,d.cardlyticsConstants.cardlyticsApiNames.getOffers),t.reject(e.errorThrown)}Object.defineProperty(t,"__esModule",{value:!0}),t.getOffers=function(n,a,o,s){return __awaiter(this,void 0,void 0,function(){var r,t,i;return __generator(this,function(e){return r=(0,y.Deferred)(),t=((e,t,i,r)=>(t={securityToken:e.securityToken,offerStates:(e=>{var t=[];switch(e){case p.CardlyticsOfferState.redeemed:t=[p.CardlyticsOfferState.redeemed];break;case p.CardlyticsOfferState.expired:t=[p.CardlyticsOfferState.expired];break;case p.CardlyticsOfferState.added:t=[p.CardlyticsOfferState.Activated];break;default:t=[p.CardlyticsOfferState.NotActivated,p.CardlyticsOfferState.Activated]}return t})(i.toLowerCase()),limits:((e,t,i)=>{var r;return e!==m.CardlyticsPages.OvdDashboard&&e!==m.CardlyticsPages.ClassicDashboard||t.toLowerCase()!==p.CardlyticsOfferState.all?e!==m.CardlyticsPages.OvdSlideIn&&e!==m.CardlyticsPages.ClassicSlideIn||t.toLowerCase()!==p.CardlyticsOfferState.all?e!==m.CardlyticsPages.AllOffers||t.toLowerCase()!==p.CardlyticsOfferState.all&&t.toLowerCase()!==p.CardlyticsOfferState.available&&t.toLowerCase()!==p.CardlyticsOfferState.added?e===m.CardlyticsPages.AllOffers&&t.toLowerCase()===p.CardlyticsOfferState.redeemed?r={LimitNumberOfOffers:d.cardlyticsConstants.limitNumberOfOffersAll,MaxOffers:d.cardlyticsConstants.maxOffersAllOffers,RedemptionLookback:c.cardlyticsConfig.cardlyticsRedemeptionLookbackRedeemed,ExpiredLookback:c.cardlyticsConfig.cardlyticsExpiredLookbackRedeemed,EnableSuppression:d.cardlyticsConstants.enableSuppressionFalse}:e===m.CardlyticsPages.AllOffers&&t.toLowerCase()===p.CardlyticsOfferState.expired&&(r={LimitNumberOfOffers:d.cardlyticsConstants.limitNumberOfOffersAll,MaxOffers:d.cardlyticsConstants.maxOffersAllOffers,RedemptionLookback:c.cardlyticsConfig.cardlyticsExpiredLookbackExpired,ExpiredLookback:c.cardlyticsConfig.cardlyticsExpiredLookbackExpired,EnableSuppression:d.cardlyticsConstants.enableSuppressionFalse}):r={LimitNumberOfOffers:d.cardlyticsConstants.limitNumberOfOffersAll,MaxOffers:d.cardlyticsConstants.maxOffersAllOffers,RedemptionLookback:c.cardlyticsConfig.cardlyticsRedemeptionLookbackAvailable,ExpiredLookback:c.cardlyticsConfig.cardlyticsExpiredLookbackAvailable,EnableSuppression:d.cardlyticsConstants.enableSuppressionFalse}:r={LimitNumberOfOffers:d.cardlyticsConstants.limitNumberOfOffersCustom,MaxOffers:d.cardlyticsConstants.maxOffersSlideIn,RedemptionLookback:c.cardlyticsConfig.cardlyticsRedemeptionLookbackAvailable,ExpiredLookback:c.cardlyticsConfig.cardlyticsExpiredLookbackAvailable,EnableSuppression:d.cardlyticsConstants.enableSuppressionFalse}:r={LimitNumberOfOffers:d.cardlyticsConstants.limitNumberOfOffersCustom,MaxOffers:d.cardlyticsConstants.maxOffersDashboard,RedemptionLookback:c.cardlyticsConfig.cardlyticsRedemeptionLookbackAvailable,ExpiredLookback:c.cardlyticsConfig.cardlyticsExpiredLookbackAvailable,EnableSuppression:1<i.length},r})(t,i,r),offerType:0,location:e.location,channel:c.cardlyticsConfig.cardlyticsChannel,data:{ExtraData:d.cardlyticsConstants.extraData}},JSON.stringify(t)))(n,a,o,s),t={headers:{"Content-Type":"application/json"},data:t,timeout:c.cardlyticsConfig.timeOutCardlyticsApi,method:"POST"},i=c.cardlyticsConfig.cardlyticsServiceUrl+l.CardlyticsApiEndpoint.getOffers,(0,u.CORS)(i,t).then(function(e){var t,i;e=e,t=n.securityToken,i=r,e.d?i.resolve(e.d):g({accountId:t,details:f.CardlyticsErrors.getOffersFailure,responseData:e},i)},function(e){var t=e.textStatus;g({accountId:n.securityToken,textStatus:void 0===t?"error":t,errorThrown:e.statusText,httpStatus:e.status,details:f.CardlyticsErrors.getOffersAPiFailure},r)}),[2,r.promise()]})})}}),define("mktui-fx/cardlytics/api/CardlyticsService",["require","exports","mktui-fx/cardlytics/util/cardlyticsutil","mktui-fx/cardlytics/api/multiSecurityToken.provider","mktui-fx/util/commonUtils","mktui-fx/cardlytics/api/sourceCustomerId.provider","mktui-fx/cardlytics/api/initSession.provider","mktui-fx/cardlytics/api/getOffers.provider","mktui-fx/cardlytics/CardlyticsStore","mktui-fx/cardlytics/util/CardlyticsPages"],function(e,t,n,a,o,c,r,s,d,l){function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.CardlyticsService=void 0,i.prototype.getSourceCustomerIdService=function(a,o,s){return __awaiter(this,void 0,void 0,function(){var t,i,r,n;return __generator(this,function(e){switch(e.label){case 0:if(t={},i="",o==l.CardlyticsPages.AllOffers){if(r=d.cardlyticsStore.getSourceCustomerId(a[0]))return t[a[0]]=r,[2,{sourceCustomerIds:t,activeAccount:i}];i=a[0],a=s.requiredAdData.accountIdList}return(r=d.cardlyticsStore.getSourceCustomerIdMap(a))&&Object.keys(r).length?(t=r,[3,3]):[3,1];case 1:return[4,(0,c.getSourceCustomerId)(a)];case 2:n=e.sent(),t=n,e.label=3;case 3:return[2,{sourceCustomerIds:t,activeAccount:i}]}})})},i.prototype.getMultiSecurityTokenService=function(r){return __awaiter(this,void 0,void 0,function(){var t,i;return __generator(this,function(e){switch(e.label){case 0:return(t=n.cardlyticsUtil.getWinningAccountIdFromCache(r.sourceCustomerIds),i=t?d.cardlyticsStore.getSecToken(t):"")?[2,n.cardlyticsUtil.setAccountInfo(t,i)]:(t=(0,o.generateValueArray)(r.sourceCustomerIds),[4,(0,a.getMultiSecurityTokens)(t)]);case 1:return i=e.sent(),[2,this.handleMultiSecurityTokenSuccess(r,i)]}})})},i.prototype.handleMultiSecurityTokenSuccess=function(e,t){n.cardlyticsUtil.setTokenStorage(e.sourceCustomerIds,t.d.Tokens);var i=e.activeAccount||d.cardlyticsStore.getWinningAccount(),e=n.cardlyticsUtil.getCardlyticsToken(e,i,t);return n.cardlyticsUtil.setAccountInfo(i,e.TokenId,e)},i.prototype.getSessionInfoService=function(i){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return(t=d.cardlyticsStore.getIsOptIn(i.accountId))?[2,t]:[4,(0,r.getSessionInfo)(i.securityToken)];case 1:return t=e.sent(),d.cardlyticsStore.setIsOptIn(i.accountId,t.IsOptedIn),[2,t.IsOptedIn]}})})},i.prototype.getAllOffersService=function(e,t,i,r){return __awaiter(this,arguments,void 0,function(t,i,r,n,a){var o;return void 0===a&&(a={enabled:!0}),__generator(this,function(e){switch(e.label){case 0:return[4,(0,s.getOffers)(t,i,r,n)];case 1:return o=e.sent(),a&&a.enabled&&(d.cardlyticsStore.setExpiration(a.expirationInMs),d.cardlyticsStore.setStaticOfferList(t.accountId,i,r,o)),d.cardlyticsStore.setOfferList(t.accountId,JSON.stringify(o)),[2,o]}})})},i.shared=new i,t.CardlyticsService=i}),define("mktui-fx/cardlytics/event/cardlyticsimpression",["require","exports","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/util/cors","mktui-fx/cardlytics/util/cardlyticsConstants","mktui-fx/cardlytics/model/CardlyticsOfferState","mktui-fx/cardlytics/CardlyticsStore","mktui-fx/cardlytics/CardlyticsError","mktui-fx/cardlytics/model/CardlyticsErrors"],function(e,t,u,f,p,m,y,g,v){function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.CardlyticsImpression=void 0,i.prototype.invokeElementExpandedEvent=function(t,i,r,n){var e=y.cardlyticsStore.offerState||"",a=p.cardlyticsConstants.availableDisplayType,e=(e===m.CardlyticsOfferState.redeemed?a=p.cardlyticsConstants.redeemedDisplayType:e===m.CardlyticsOfferState.expired&&(a=p.cardlyticsConstants.expiredDisplayType),{SecurityToken:i.securityToken||"",Channel:u.cardlyticsConfig.cardlyticsChannel,Location:i.location||"",OfferId:t||"",DisplayType:a,TransactionId:u.cardlyticsConfig.cardlyticsTranasctionId,ExtraData:p.cardlyticsConstants.cardlyticsExtraData}),a=u.cardlyticsConfig.cardlyticsServiceUrl+"/public/BankServiceApi43.asmx/DisplayElementExpanded",e={headers:{"Content-Type":"application/json"},data:e,timeout:u.cardlyticsConfig.timeOutCardlyticsApi,method:"POST"};(0,f.CORS)(a,e).then(function(e){e.d?(y.cardlyticsStore.activateOffer(i.accountId,t),r(e.d)):(e={accountId:i.securityToken,details:v.CardlyticsErrors.DisplayElementExpandedFailure,responseData:e},g.CardlyticsError.shared.logCardlyticsError(e,p.cardlyticsConstants.cardlyticsImpressionEvents.dislayElementExpanded),n())},function(e){var t=e.textStatus,t={accountId:i.securityToken,textStatus:void 0===t?"error":t,errorThrown:e.statusText,httpStatus:e.status,details:v.CardlyticsErrors.SourceCustomerIdApiFailure};g.CardlyticsError.shared.logCardlyticsError(t,p.cardlyticsConstants.cardlyticsImpressionEvents.dislayElementExpanded),n()})},i.prototype.invokeUrlLinkClickedEvent=function(e,i,t,r){var n;void 0!==i.securityToken&&void 0!==i.location&&((n={}).SecurityToken=i.securityToken||"",n.Channel=u.cardlyticsConfig.cardlyticsChannel,n.Location=i.location||"",n.OfferId=e,n.DisplayType=u.cardlyticsConfig.cardlyticsDisplayTypeOffer,n.TransactionId=u.cardlyticsConfig.cardlyticsTranasctionId,n.ExtraData="Chase Cardlytics",e=u.cardlyticsConfig.cardlyticsServiceUrl+"/public/BankServiceApi43.asmx/UrlLinkClicked",n={headers:{"Content-Type":"application/json"},data:n,timeout:u.cardlyticsConfig.timeOutCardlyticsApi,method:"POST"},(0,f.CORS)(e,n).then(function(e){e.d?t(e.d):(e={accountId:i.securityToken,details:v.CardlyticsErrors.UrlLInkClickedFailure,responseData:e},g.CardlyticsError.shared.logCardlyticsError(e,p.cardlyticsConstants.cardlyticsImpressionEvents.UrlLinkClicked),r())},function(e){var t=e.textStatus,t={accountId:i.securityToken,textStatus:void 0===t?"error":t,errorThrown:e.statusText,httpStatus:e.status,details:v.CardlyticsErrors.UrlLInkClickedEventFailure};g.CardlyticsError.shared.logCardlyticsError(t,p.cardlyticsConstants.cardlyticsImpressionEvents.UrlLinkClicked),r()}))},i.prototype.invokeRewardsSummaryLinkClickedEvent=function(i,t,r){var e,n;void 0!==i.securityToken&&void 0!==i.location?((n={}).SecurityToken=i.securityToken||"",n.Channel=u.cardlyticsConfig.cardlyticsChannel,n.Location=i.location||"",n.OfferId="0",n.DisplayType=u.cardlyticsConfig.cardlyticsDisplayTypeOther,n.TransactionId=u.cardlyticsConfig.cardlyticsTranasctionId,n.ExtraData="Chase Cardlytics",e=u.cardlyticsConfig.cardlyticsServiceUrl+"/public/BankServiceApi43.asmx/RewardSummaryLinkClicked",n={headers:{"Content-Type":"application/json"},data:n,timeout:u.cardlyticsConfig.timeOutCardlyticsApi,method:"POST"},(0,f.CORS)(e,n).then(function(e){e.d?t(e.d):(e={accountId:i.securityToken,details:v.CardlyticsErrors.RewardSummaryLinkClickedFailure,responseData:e},g.CardlyticsError.shared.logCardlyticsError(e,p.cardlyticsConstants.cardlyticsImpressionEvents.RewardSummaryLinkClicked),r())},function(e){var t=e.textStatus,t={accountId:i.securityToken,textStatus:void 0===t?"error":t,errorThrown:e.statusText,httpStatus:e.status,details:v.CardlyticsErrors.RewardSummaryLinkClickedEventFailure};g.CardlyticsError.shared.logCardlyticsError(t,p.cardlyticsConstants.cardlyticsImpressionEvents.RewardSummaryLinkClicked)})):r()},i.prototype.invokeMultipleViewEvent=function(e,i,t,r){if(void 0!==i.securityToken&&void 0!==i.location){var n=y.cardlyticsStore.offerState||"",a=p.cardlyticsConstants.availableDisplayType,o=(n===m.CardlyticsOfferState.redeemed?a=p.cardlyticsConstants.redeemedDisplayType:n===m.CardlyticsOfferState.expired&&(a=p.cardlyticsConstants.expiredDisplayType),{});o.SecurityToken=i.securityToken||"",o.Channel=u.cardlyticsConfig.cardlyticsChannel,o.DisplayServings=[];for(var s=0,c=e;s<c.length;s++){var d=c[s],l={};l.DisplayTypeId=d.id||d||"",l.Transactionid=u.cardlyticsConfig.cardlyticsTranasctionId,l.Location=i.location,l.DisplayType=a,l.OfferChecksum=d.checkSum||"",o.DisplayServings.push(l)}o.ExtraData=p.cardlyticsConstants.cardlyticsExtraData;n=u.cardlyticsConfig.cardlyticsServiceUrl+"/public/BankServiceApi43.asmx/MarkMultipleServed",e={headers:{"Content-Type":"application/json"},data:o,timeout:u.cardlyticsConfig.timeOutCardlyticsApi,method:"POST"};(0,f.CORS)(n,e).then(function(e){e.d?t(e.d):(e={accountId:i.securityToken,details:v.CardlyticsErrors.MarkMultipleServedFailure,responseData:e},g.CardlyticsError.shared.logCardlyticsError(e,p.cardlyticsConstants.cardlyticsImpressionEvents.MarkMultipleServed),r())},function(e){var t=e.textStatus,t={accountId:i.securityToken,textStatus:void 0===t?"error":t,errorThrown:e.statusText,httpStatus:e.status,details:v.CardlyticsErrors.MarkMultipleServedEventFailure};g.CardlyticsError.shared.logCardlyticsError(t,p.cardlyticsConstants.cardlyticsImpressionEvents.MarkMultipleServed)})}},t.CardlyticsImpression=i}),define("mktui-fx/cardlytics/model/CardlyticsTopic",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CardlyticsTopic=void 0,t.CardlyticsTopic={trackSeeAllClick:"trackSeeAllClick",cardlyticsMultipleView:"cardlyticsMultipleView",trackUrlLinkClick:"trackUrlLinkClick"}}),define("mktui-fx/cardlytics/event/CardlyticsEvents",["require","exports","mktui-fx/cardlytics/event/cardlyticsimpression","mktui-fx/ads/topic","mktui-fx/cardlytics/util/cardlyticsutil","mktui-fx/cardlytics/CardlyticsStore","mktui-fx/cardlytics/model/CardlyticsTopic","mktui-fx/util/commonUtils"],function(e,t,a,o,n,s,i,c){function r(){var r=this;o.Topic.exists(i.CardlyticsTopic.trackSeeAllClick)||(0,o.Topic)(i.CardlyticsTopic.trackSeeAllClick).subscribe(function(e){void 0!==e&&void 0!==e.adData.value.params.dynamicParams.accountId&&r.rewardsSummaryLinkClick(e.adData.value.params.dynamicParams.accountId)}),o.Topic.exists(i.CardlyticsTopic.cardlyticsMultipleView)||(0,o.Topic)(i.CardlyticsTopic.cardlyticsMultipleView).subscribe(function(e,t){var i={};i.securityToken=n.cardlyticsUtil.getActiveSecurityToken()?n.cardlyticsUtil.getActiveSecurityToken():"",i.securityToken&&r.multipleView(t,i)}),o.Topic.exists(i.CardlyticsTopic.trackUrlLinkClick)||(0,o.Topic)(i.CardlyticsTopic.trackUrlLinkClick).subscribe(function(){var e={},t=(e.securityToken=n.cardlyticsUtil.getActiveSecurityToken()?n.cardlyticsUtil.getActiveSecurityToken():"",s.cardlyticsStore.offerId||0);t&&e.securityToken&&r.urlLinkClick(t,e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.CardlyticsEvents=void 0,r.prototype.elementExpanded=function(r,n){return __awaiter(this,void 0,void 0,function(){var t,i;return __generator(this,function(e){return t=new a.CardlyticsImpression,i=(0,c.Deferred)(),r&&t.invokeElementExpandedEvent(r,n,function(e){e?i.resolve(!0):i.reject(!1)},function(){i.reject(!1)}),[2,i.promise()]})})},r.prototype.rewardsSummaryLinkClick=function(n){return __awaiter(this,void 0,void 0,function(){var t,i,r;return __generator(this,function(e){return t=new a.CardlyticsImpression,(i=[]).securityToken=s.cardlyticsStore.getSecToken(n),i.location=s.cardlyticsStore.offerLocation,r=(0,c.Deferred)(),t.invokeRewardsSummaryLinkClickedEvent(i,function(e){e?((0,o.Topic)("rewardsSummaryClickEvent").publish(!0),r.resolve(!0)):((0,o.Topic)("rewardsSummaryClickEvent").publish(!1),r.reject(!1))},function(){(0,o.Topic)("rewardsSummaryClickEvent").publish(!1),r.reject(!1)}),[2,r.promise()]})})},r.prototype.multipleView=function(r,n){return __awaiter(this,void 0,void 0,function(){var t,i;return __generator(this,function(e){return t=new a.CardlyticsImpression,i=(0,c.Deferred)(),n.location=s.cardlyticsStore.offerLocation||0,t.invokeMultipleViewEvent(r,n,function(e){e?((0,o.Topic)("multipleViewEvent").publish(!0),i.resolve(!0)):((0,o.Topic)("multipleViewEvent").publish(!1),i.reject(!1))},function(){(0,o.Topic)("multipleViewEvent").publish(!1),i.reject(!1)}),[2,i.promise()]})})},r.prototype.urlLinkClick=function(t,e){var i=new a.CardlyticsImpression,r=(e.location=s.cardlyticsStore.offerLocation||0,(0,c.Deferred)());return t&&i.invokeUrlLinkClickedEvent(t,e,function(e){e?((0,o.Topic)("urlLinkClickedEvent").publish(t,!0),r.resolve(!0)):((0,o.Topic)("urlLinkClickedEvent").publish(t,!1),r.reject(!1))},function(){(0,o.Topic)("urlLinkClickedEvent").publish(t,!1),r.reject(!1)}),r.promise()},r.shared=new r,t.CardlyticsEvents=r}),define("mktui-fx/cardlytics/model/OfferTile.interface",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/cardlytics/model/CardlyticsTileAction",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CardlyticsTileAction=void 0,t.CardlyticsTileAction={addedCTA:"Added",addToCardCTA:"Add to card"}}),define("mktui-fx/cardlytics/view/offerViewProps",["require","exports","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/cardlytics/util/CardlyticsPages","mktui-fx/cardlytics/util/cardlyticsConstants","mktui-fx/cardlytics/util/cardlyticsutil","mktui-fx/cardlytics/model/CardlyticsOfferState","mktui-fx/cardlytics/model/DisplayKey","mktui-fx/cardlytics/model/CardlyticsTileAction"],function(e,t,i,d,l,u,f,p,m){function y(e,t){return{imgId:e.MerchantName,image:i.cardlyticsConfig.cardlyticsImageHost+"?ImageId="+e.ImageId,offerCheckSum:e.CheckSum,offerId:e.OfferId,accountId:t.accountId,webUIPath:i.cardlyticsConfig.marketingCxoAdsUi}}function g(e){var t;return e.PostMessage=e.PostMessage||(null!=(t=null==e?void 0:e.Offer)&&t.PostMessage?e.Offer.PostMessage:""),e.EndDate=e.EndDate||(null!=(t=null==e?void 0:e.Offer)&&t.EndDate?e.Offer.EndDate:""),e.OfferId=e.OfferId||(null!=(null==(t=null==e?void 0:e.Offer)?void 0:t.OfferId)?e.Offer.OfferId:0),e.MerchantName=e.MerchantName||(null!=(t=null==e?void 0:e.Offer)&&t.MerchantName?e.Offer.MerchantName:""),e.OfferedAmount=e.OfferedAmount||(null!=(t=null==e?void 0:e.Offer)&&t.OfferedAmount?e.Offer.OfferedAmount:0),e.IsPercentageOffer=e.IsPercentageOffer||!(null==(t=null==e?void 0:e.Offer)||!t.IsPercentageOffer)&&e.Offer.IsPercentageOffer,e.DaysLeft=e.DaysLeft||(null!=(t=null==e?void 0:e.Offer)&&t.DaysLeft?e.Offer.DaysLeft:0),e.ImageId=e.ImageId||(null!=(t=null==e?void 0:e.Offer)&&t.ImageId?e.Offer.ImageId:""),e.FirstServedEvents=e.FirstServedEvents||(null==(t=null==e?void 0:e.Offer)?void 0:t.FirstServedEvents),e.ActivatedDate=e.ActivatedDate||(null!=(t=null==e?void 0:e.Offer)&&t.ActivatedDate?e.Offer.ActivatedDate:""),e.CategoryId=e.CategoryId||(null!=(t=null==e?void 0:e.Offer)&&t.CategoryId?e.Offer.CategoryId:0),e}Object.defineProperty(t,"__esModule",{value:!0}),t.getOfferViewInfo=function(e,a,o,s){var c=[];return e.forEach(function(e,t){var i,r,n=((e,t,i,r)=>{var n={};switch(i){case p.DisplayKey.redeemed:n=((e,t)=>{var t=y(e=g(e),t),i="",r="",e=(e.EarnedDate&&(i=e.EarnedDate?u.cardlyticsUtil.getCustomDate(e.EarnedDate,"earned"):""),e.EarnedAmount&&(r=u.cardlyticsUtil.getOfferValue(e.EarnedAmount,!1,"earned")),f.CardlyticsOfferState.redeemed),n=f.CardlyticsOfferStateText.redeemed,i={completedDate:i,offerType:e,isRegular:!1,cashBack:r,offerTypeText:n};return __assign(__assign({},t),i)})(e,t);break;case p.DisplayKey.expired:n=((e,t)=>{var i,r,n,a={};return e.State===l.cardlyticsConstants.showExpiredState&&(t=y(e,t),n="",e.EndDate&&(n=e.EndDate?u.cardlyticsUtil.getCustomDate(e.EndDate,"earned"):""),e=e.OfferedAmount?u.cardlyticsUtil.getOfferValue(e.OfferedAmount,e.IsPercentageOffer)+" back":"",i=f.CardlyticsOfferState.expired,r=f.CardlyticsOfferStateText.expired,n={completedDate:n,offerType:i,isRegular:!1,cashBack:e,offerTypeText:r},a=__assign(__assign({},t),n)),a})(e,t);break;default:n=((e,t,i)=>{var t=y(e,t),r=!e.FirstServedEvents,n=l.cardlyticsConstants.badgeText,a=e.ActivatedDate?m.CardlyticsTileAction.addedCTA:m.CardlyticsTileAction.addToCardCTA,o=null!=e.DaysLeft&&e.DaysLeft<=l.cardlyticsConstants.fewBorderDays?l.cardlyticsConstants.fewDaysText:"",s=null!=e.DaysLeft&&e.DaysLeft<=1?l.cardlyticsConstants.lastDay:e.DaysLeft+" "+l.cardlyticsConstants.daysLeft,c=e.OfferedAmount?u.cardlyticsUtil.getOfferValue(e.OfferedAmount,e.IsPercentageOffer)+" back":"",i=(e=>e==d.CardlyticsPages.OvdSlideIn||e==d.CardlyticsPages.ClassicSlideIn)(i)?f.CardlyticsOfferState.slideIn:"",r={isNew:r,badgeText:n,ctaText:a,fewDays:o,daysLeftText:s,cashBack:c,offerType:i,isAddedOffer:!!e.ActivatedDate,isRegular:!0};return __assign(__assign({},t),r)})(e,t,r)}return n})(e,a,o,s);0<Object.keys(n).length&&(i=a,e=e,n=n,(r={}).placementId="placement"+t,r.offerTileProps=n,r.offerId=e.OfferId,r.accountId=i.accountId,r.categoryId=e.CategoryId,t=r,c.push(t))}),c},t.getFormattedValues=g}),define("mktui-fx/cardlytics/view/cardlyticstemplate",["require","exports","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/cardlytics/util/cardlyticsutil","mktui-fx/util/Logger","mktui-fx/ads/topic","mktui-fx/util/cors","mktui-fx/cardlytics/util/cardlyticsConstants","mktui-fx/cardlytics/model/CardlyticsErrors","mktui-fx/cardlytics/util/CardlyticsPages","mktui-fx/common/AdOperationType","mktui-fx/cardlytics/view/offerViewProps","mktui-fx/cardlytics/model/DisplayKey","mktui-fx/cardlytics/model/CardlyticsOfferState","mktui-fx/util/commonUtils","mktui-fx/cardlytics/model/CardlyticsLocale","mktui-fx/environment/channelEnvironment"],function(e,t,d,l,n,u,a,f,c,p,o,m,y,g,v,h,i){function C(e){n.Logger.debugMsg("[AdSummary] Loading template bundle for sixers"),window.require([i.channelEnvironment.getTemplateBundleByChannel("CXO")],e,function(e){n.Logger.errorMsg("Error while loading the Sixers Template",e)})}function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.CardlyticsTemplate=void 0,r.prototype.getOfferTemplate=function(t,i,r){(0,a.CORS)(t).then(function(e){e=(0,v.isPlainObject)(e)?JSON.stringify(e):e,i(e)},function(e){n.Logger.logErrorMsgObject(o.AdOperationType.cardlytics_content_fail,{cid:t}),r()})},r.prototype.offerTiletemplateHandler=function(e,t,i,r,n){var a=(0,v.Deferred)(),o=r===p.CardlyticsPages.OvdSlideIn||r===p.CardlyticsPages.ClassicSlideIn,s=[];return e.language=t,n||(s=(0,m.getOfferViewInfo)(i.DisplayOffers,e,y.DisplayKey.available,r)),this.renderOfferCarousel(e,s,o,function(e){a.resolve(e)}),a.promise()},r.prototype.offerDetailsTemplateHandler=function(n,a,o){return __awaiter(this,void 0,void 0,function(){function t(e){i.resolve(e)}var i,r;return __generator(this,function(e){return i=(0,v.Deferred)(),o=(0,m.getFormattedValues)(o),r=this.offerDetailsParams(o,n,a),this.renderOfferDetail(r,t),[2,i.promise()]})})},r.prototype.offerDetailsParams=function(e,t,i){var r="",n="",a=l.cardlyticsUtil.getCustomDate(e.EndDate,"due"),o=(e.EarnedAmount?(r=l.cardlyticsUtil.getOfferValue(e.OfferedAmount,e.IsPercentageOffer,"earned")+" "+f.cardlyticsConstants.backText,a=f.cardlyticsConstants.expiresText+" "+a):n=l.cardlyticsUtil.getOfferValue(e.OfferedAmount,e.IsPercentageOffer)+" "+f.cardlyticsConstants.backText,null!=e.DaysLeft&&e.DaysLeft<=1?f.cardlyticsConstants.lastDay:e.DaysLeft+" "+f.cardlyticsConstants.daysLeft),s=l.cardlyticsUtil.getOfferState(e),c=l.cardlyticsUtil.parsePostMessage(e.PostMessage),i=i===h.CardlyticsLocale.ES?f.cardlyticsConstants.carouselContentLabels.es:f.cardlyticsConstants.carouselContentLabels.en;return{webUIPath:d.cardlyticsConfig.marketingCxoAdsUi,image:d.cardlyticsConfig.cardlyticsImageHost+"?ImageId="+e.ImageId,imageAltText:e.MerchantName,merchantName:e.MerchantName,cashBack:n,redeemedCashBack:r,offerStatus:s.offerState,daysLeft:o,expiration:a,odBodyCopy:c,offerDetailType:e.EarnedAmount?g.CardlyticsOfferState.redeemed:g.CardlyticsOfferState.available,odHeader:f.cardlyticsConstants.odHeader,contentLabels:i}},r.prototype.allOffersTemplateHandler=function(t,i,r,n){var a,e,o=this,s=(0,v.Deferred)();return r[n]&&0<r[n].length?(a=[],e=d.cardlyticsConfig.contentServer+d.cardlyticsConfig.cardlyticsOfferTileTemplateUrlEN,i===h.CardlyticsLocale.ES&&(e=d.cardlyticsConfig.contentServer+d.cardlyticsConfig.cardlyticsOfferTileTemplateUrlEN),this.getOfferTemplate(e,function(e){JSON.parse(e).carouselContentLabels,JSON.parse(e).result.offer;a=(0,m.getOfferViewInfo)(r[n],t,n),o.loadAllOffersComponent(a,i,function(e){s.resolve(e)})},function(){s.reject(c.CardlyticsErrors.APIFailure)})):s.reject(c.CardlyticsErrors.ZeroOffer),s.promise()},r.prototype.renderGenericError=function(t,a){var i=this;this.getAEMContentLabel().then(function(e){var r=d.cardlyticsConfig.marketingCxoAdsUi,n=(window.requirejs.config({paths:{"marcom-ads-ui-bundles":r}}),i.getContentLabels(t,e));C(function(){window.require(["marcom-ads-ui/common/error/componentFactory"],function(e){var t=document.createDocumentFragment(),i={webUIPath:r,contentLabels:n,errorMessage:n.errorMessage,onComponentReady:function(){a(t)}};e.createErrorComponent(i,t)})})})},r.prototype.renderOfferCarousel=function(e,r,n,a){var o=l.cardlyticsUtil.carouselSummaryInfo(e,n),s=d.cardlyticsConfig.marketingCxoAdsUi,c=(window.requirejs.config({paths:{"marcom-ads-ui-bundles":s}}),e.language===h.CardlyticsLocale.ES?f.cardlyticsConstants.carouselContentLabels.es:f.cardlyticsConstants.carouselContentLabels.en);C(function(){window.require(["marcom-ads-ui/merchant-offers/offer-carousel/componentFactory","marcom-ads-ui/mktuiStyles"],function(e,t){var i=document.createDocumentFragment(),t={webUIPath:s,offerList:r,isSingleAccount:n,offerSummary:o,contentLabels:c,eventSource:u.Topic,styleCss:t,onComponentReady:function(){a(i)}};e.createOfferCarousel(t,i)})})},r.prototype.renderOfferDetail=function(r,n){var e=d.cardlyticsConfig.marketingCxoAdsUi;window.requirejs.config({paths:{"marcom-ads-ui-bundles":e}}),C(function(){window.require(["marcom-ads-ui/merchant-offers/offer-details/componentFactory"],function(e,t){var i=document.createDocumentFragment();r.onComponentReady=function(){n(i)},e.offerDetails(r,i)})})},r.prototype.loadAllOffersComponent=function(r,e,n){var t=e===h.CardlyticsLocale.ES?f.cardlyticsConstants.carouselContentLabels.es:f.cardlyticsConstants.carouselContentLabels.en,a=d.cardlyticsConfig.marketingCxoAdsUi,o=(window.requirejs.config({paths:{"marcom-ads-ui-bundles":a}}),this.getContentLabels(e,t));C(function(){window.require(["marcom-ads-ui/merchant-offers/all-offers/componentFactory","marcom-ads-ui/mktuiStyles"],function(e,t){var i=document.createDocumentFragment(),t={webUIPath:a,offerList:r,contentLabels:o,eventSource:u.Topic,styleCss:t,errorMessage:"",onComponentReady:function(){n(i)}};e.createAllOffers(t,i)})})},r.prototype.getAEMContentLabel=function(){var t=(0,v.Deferred)(),i={},e=d.cardlyticsConfig.contentServer+d.cardlyticsConfig.cardlyticsOfferTileTemplateUrlEN;return this.getOfferTemplate(e,function(e){i=JSON.parse(e).carouselContentLabels,t.resolve(i)},function(){t.resolve(i)}),t.promise()},r.prototype.loadAllOffersErrorComponent=function(o,s){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){return(t=this).getAEMContentLabel().then(function(e){var r=d.cardlyticsConfig.marketingCxoAdsUi,n=[],a=(window.requirejs.config({paths:{"marcom-ads-ui-bundles":r}}),t.getContentLabels(o.cardlyticsRequest.cardlyticsParameter.requiredAdData.locale,e));C(function(){window.require(["marcom-ads-ui/merchant-offers/all-offers/componentFactory","marcom-ads-ui/mktuiStyles"],function(e,t){var i=document.createDocumentFragment(),t={webUIPath:r,offerList:n,contentLabels:a,eventSource:u.Topic,styleCss:t,errorMessage:a.errorMessage||c.CardlyticsErrors.ChaseOfferNotAvailable,onComponentReady:function(){s(i,o)}};e.createAllOffers(t,i)})})}),[2]})})},r.prototype.loadTotalEarnedComponent=function(a,t,o){var i=this;this.getAEMContentLabel().then(function(e){var r=d.cardlyticsConfig.marketingCxoAdsUi,n=(window.requirejs.config({paths:{"marcom-ads-ui-bundles":r}}),i.getContentLabels(t.language,e));C(function(){window.require(["marcom-ads-ui/merchant-offers/offer-rewards/componentFactory","marcom-ads-ui/mktuiStyles"],function(e,t){var i=document.createDocumentFragment(),t={webUIPath:r,totalEarnedToDate:+a.Enrollment.TotalEarned,contentLabels:n,styleCss:t,onComponentReady:function(){o(i)}};e.createTotalEarned(t,i)})})}),l.cardlyticsUtil.deleteTopic(f.cardlyticsConstants.topicCardlyticsOfferList)},r.prototype.getContentLabels=function(e,t){return e===h.CardlyticsLocale.ES?f.cardlyticsConstants.carouselContentLabels.es:f.cardlyticsConstants.carouselContentLabels.en},t.CardlyticsTemplate=r}),define("mktui-fx/cardlytics/view/DetailView",["require","exports","mktui-fx/cardlytics/view/cardlyticstemplate","mktui-fx/cardlytics/util/cardlyticsutil","mktui-fx/cardlytics/CardlyticsStore"],function(e,t,n,a,o){function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.DetailView=void 0,i.prototype.load=function(i,r){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return t=new n.CardlyticsTemplate,o.cardlyticsStore.offerId=r.requiredAdData.offerId||0,[4,t.offerDetailsTemplateHandler(i.accountId,r.requiredAdData.locale,a.cardlyticsUtil.getAdResponseByOfferId(JSON.parse(o.cardlyticsStore.getOfferList(i.accountId)),r.requiredAdData.offerId))];case 1:return[2,e.sent()]}})})},t.DetailView=i}),define("mktui-fx/cardlytics/view/TotalRewardsView",["require","exports","mktui-fx/cardlytics/view/cardlyticstemplate","mktui-fx/cardlytics/CardlyticsStore","mktui-fx/ads/topic","mktui-fx/cardlytics/util/cardlyticsConstants"],function(e,t,u,f,i,r){function n(){}Object.defineProperty(t,"__esModule",{value:!0}),t.TotalRewardsView=void 0,n.prototype.load=function(n,a,t,o){var s={},c=(s.language=a.requiredAdData.locale,[]),d=(a.placementId=a.placementId||"",{requestId:a.requestId||""});function l(e){t(e,d,a.placementId)}(0,i.Topic)(r.cardlyticsConstants.topicCardlyticsOfferList).subscribe(function(e,t){var i=f.cardlyticsStore.getSecToken(n[0]),r=new u.CardlyticsTemplate;i&&(s.accountId=n[0],s.securityToken=i,t.securityToken==s.securityToken)&&e?r.loadTotalEarnedComponent(e,s,l):o(a.placementId,c,d)})},t.TotalRewardsView=n}),define("mktui-fx/cardlytics/view/DashboardView",["require","exports","mktui-fx/cardlytics/view/cardlyticstemplate","mktui-fx/cardlytics/CardlyticsStore","mktui-fx/cardlytics/model/CardlyticsOfferState"],function(e,t,s,c,d){function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.DashboardView=void 0,i.prototype.load=function(r,n,a,o){return __awaiter(this,void 0,void 0,function(){var t,i;return __generator(this,function(e){switch(e.label){case 0:return t=new s.CardlyticsTemplate,c.cardlyticsStore.offerState=d.CardlyticsOfferState.all,i=!(a.DisplayOffers&&0<a.DisplayOffers.length),[4,t.offerTiletemplateHandler(r,n.requiredAdData.locale,a,o,i)];case 1:return[2,e.sent()]}})})},t.DashboardView=i}),define("mktui-fx/cardlytics/view/SlideInView",["require","exports","mktui-fx/cardlytics/view/cardlyticstemplate","mktui-fx/cardlytics/CardlyticsStore","mktui-fx/cardlytics/model/CardlyticsOfferState"],function(e,t,s,c,d){function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.SlideInView=void 0,i.prototype.load=function(r,n,a,o){return __awaiter(this,void 0,void 0,function(){var t,i;return __generator(this,function(e){switch(e.label){case 0:return t=new s.CardlyticsTemplate,c.cardlyticsStore.offerState=d.CardlyticsOfferState.all,i=!(a.DisplayOffers&&0<a.DisplayOffers.length),[4,t.offerTiletemplateHandler(r,n.requiredAdData.locale,a,o,i)];case 1:return[2,e.sent()]}})})},t.SlideInView=i}),define("mktui-fx/cardlytics/view/AllOffersView",["require","exports","mktui-fx/cardlytics/view/cardlyticstemplate","mktui-fx/ads/topic","mktui-fx/cardlytics/util/cardlyticsConstants","mktui-fx/cardlytics/util/cardlyticsutil"],function(e,t,o,s,c,d){function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.AllOffersView=void 0,i.prototype.load=function(r,n,a,e){return __awaiter(this,void 0,void 0,function(){var t,i;return __generator(this,function(e){switch(e.label){case 0:return t=new o.CardlyticsTemplate,(0,s.Topic)(c.cardlyticsConstants.topicCardlyticsOfferList).publish(a,r),i=d.cardlyticsUtil.getViewProperty(n.requiredAdData.categoryId||""),[4,t.allOffersTemplateHandler(r,n.requiredAdData.locale,a,i)];case 1:return[2,e.sent()]}})})},t.AllOffersView=i}),define("mktui-fx/cardlytics/model/CardlyticsRequest",["require","exports","mktui-fx/cardlytics/model/CardlyticsOfferState"],function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.CardlyticsRequest=void 0,t.CardlyticsRequest=function(e,t,i,r,n){return this.type="",this.pageId="",this.pageId=e,this.accountLookupMap=t,this.cardlyticsParameter=i,this.successFunction=r,this.errorFunction=n,this.adParameter={requestId:i.requestId||""},this.accountIds=Object.keys(t),this.state=i.requiredAdData.categoryId?i.requiredAdData.categoryId.toLowerCase():a.CardlyticsOfferState.all,this}}),define("mktui-fx/cardlytics/view/CardlyticsViewFactory",["require","exports","mktui-fx/cardlytics/api/CardlyticsService","mktui-fx/cardlytics/event/CardlyticsEvents","mktui-fx/cardlytics/AccountHelper","mktui-fx/cardlytics/util/CardlyticsPages","mktui-fx/cardlytics/view/DetailView","mktui-fx/cardlytics/view/TotalRewardsView","mktui-fx/cardlytics/view/DashboardView","mktui-fx/cardlytics/view/SlideInView","mktui-fx/cardlytics/view/AllOffersView","mktui-fx/cardlytics/model/CardlyticsErrors","mktui-fx/cardlytics/view/cardlyticstemplate","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/cardlytics/CardlyticsStore","mktui-fx/cardlytics/util/cardlyticsConstants"],function(e,t,d,l,u,f,p,m,y,g,v,h,i,r,n,a){function o(){}Object.defineProperty(t,"__esModule",{value:!0}),t.CardlyticsViewFactory=void 0,o.prototype.createView=function(e){return this.cardlyticsRequest=e,n.cardlyticsStore.activeAccountIds=e.accountIds,this.type=this.getPageType(e.pageId,e.cardlyticsParameter),this},o.prototype.loadView=function(){return __awaiter(this,void 0,void 0,function(){var t,i,r,n,a,o,s,c=this;return __generator(this,function(e){switch(e.label){case 0:this.eligibleAccounts=[],e.label=1;case 1:switch(e.trys.push([1,23,,24]),this.type){case f.CardlyticsPages.OvdDashboard:case f.CardlyticsPages.ClassicDashboard:case f.CardlyticsPages.OvdSlideIn:case f.CardlyticsPages.ClassicSlideIn:case f.CardlyticsPages.AllOffers:return[3,2];case f.CardlyticsPages.TotalRewards:return[3,15];case f.CardlyticsPages.OfferDetails:return[3,16]}return[3,21];case 2:return t=!1,i=void 0,[4,d.CardlyticsService.shared.getSourceCustomerIdService(this.cardlyticsRequest.accountIds,this.type,this.cardlyticsRequest.cardlyticsParameter).catch(function(e){return c.failureHandler(e,c.type)})];case 3:return n=e.sent(),r=this,[4,d.CardlyticsService.shared.getMultiSecurityTokenService(n).catch(function(e){return c.failureHandler(e,c.type)})];case 4:return r.accountInfo=e.sent(),[4,d.CardlyticsService.shared.getSessionInfoService(this.accountInfo).catch(function(e){return c.cardlyticsRequest.errorFunction(c.cardlyticsRequest.cardlyticsParameter.placementId,c.eligibleAccounts,c.cardlyticsRequest.adParameter)})];case 5:return e.sent()?(n=this.type===f.CardlyticsPages.OvdSlideIn||this.type===f.CardlyticsPages.ClassicSlideIn?this.cardlyticsRequest.cardlyticsParameter.requiredAdData.siteacct:this.type,this.accountInfo=u.AccountHelper.shared.setActiveAccountinfo(this.accountInfo,this.cardlyticsRequest.accountLookupMap,n),[4,d.CardlyticsService.shared.getAllOffersService(this.accountInfo,this.type,this.cardlyticsRequest.state,this.cardlyticsRequest.accountIds,this.cardlyticsRequest.cardlyticsParameter.cache).catch(function(e){return c.failureHandler(e,c.type)})]):[3,13];case 6:return(a=e.sent(),this.eligibleAccounts=u.AccountHelper.shared.getEligibleAccounts(this.cardlyticsRequest.cardlyticsParameter.requiredAdData.accountIdList),this.type!==f.CardlyticsPages.OvdDashboard&&this.type!==f.CardlyticsPages.ClassicDashboard)?[3,8]:[4,(new y.DashboardView).load(this.accountInfo,this.cardlyticsRequest.cardlyticsParameter,a,this.type).catch(function(e){return c.failureHandler(e,c.type)})];case 7:return i=e.sent(),[3,12];case 8:return this.type!==f.CardlyticsPages.OvdSlideIn&&this.type!==f.CardlyticsPages.ClassicSlideIn?[3,10]:[4,(new g.SlideInView).load(this.accountInfo,this.cardlyticsRequest.cardlyticsParameter,a,this.type).catch(function(e){return c.failureHandler(e,c.type)})];case 9:return i=e.sent(),[3,12];case 10:return this.type!==f.CardlyticsPages.AllOffers?[3,12]:(o=this.cardlyticsRequest.cardlyticsParameter.requiredAdData,this.categoryList=u.AccountHelper.shared.getCategoryList(a,o.locale,o.categoryId),[4,(new v.AllOffersView).load(this.accountInfo,this.cardlyticsRequest.cardlyticsParameter,a,this.type).catch(function(e){return c.failureHandler(e,c.type)})]);case 11:i=e.sent(),e.label=12;case 12:return this.cardlyticsRequest.successFunction(i,this.cardlyticsRequest.adParameter,this.cardlyticsRequest.cardlyticsParameter.placementId,t,this.eligibleAccounts,this.categoryList),[3,14];case 13:this.failureHandler(h.CardlyticsErrors.initSessionApiFailure,this.type),e.label=14;case 14:return[3,22];case 15:return(new m.TotalRewardsView).load(this.cardlyticsRequest.accountIds,this.cardlyticsRequest.cardlyticsParameter,this.cardlyticsRequest.successFunction,this.cardlyticsRequest.errorFunction),[3,22];case 16:return this.accountInfo=u.AccountHelper.shared.getOfferDetailsAccountInfo(this.cardlyticsRequest.accountIds),[4,l.CardlyticsEvents.shared.elementExpanded(this.cardlyticsRequest.cardlyticsParameter.requiredAdData.offerId,this.accountInfo).catch(function(e){return c.failureHandler(e,c.type)})];case 17:return e.sent()?[4,(new p.DetailView).load(this.accountInfo,this.cardlyticsRequest.cardlyticsParameter).catch(function(e){return c.failureHandler(e,c.type)})]:[3,19];case 18:return o=e.sent(),this.cardlyticsRequest.successFunction(o,this.cardlyticsRequest.adParameter,this.cardlyticsRequest.cardlyticsParameter.placementId),[3,20];case 19:this.cardlyticsRequest.errorFunction(this.cardlyticsRequest.cardlyticsParameter.placementId,this.eligibleAccounts,this.cardlyticsRequest.adParameter),e.label=20;case 20:case 21:return[3,22];case 22:return[3,24];case 23:return s=e.sent(),this.failureHandler(s,this.type),[3,24];case 24:return[2]}})})},o.prototype.getPageType=function(e,t){var i;return this.isOvdDashboard(e,t)?i=f.CardlyticsPages.OvdDashboard:this.isClassicDashboard(e,t)?i=f.CardlyticsPages.ClassicDashboard:this.isOvdSlideInView(e,t)?i=f.CardlyticsPages.OvdSlideIn:this.isClassicSlideInView(e,t)?i=f.CardlyticsPages.ClassicSlideIn:this.isOfferDetails(e,t)?i=f.CardlyticsPages.OfferDetails:this.isAllOffers(e,t)?i=f.CardlyticsPages.AllOffers:this.isTotalRewards(e,t)&&(i=f.CardlyticsPages.TotalRewards),i},o.prototype.isOvdDashboard=function(e,t){return 0<=r.cardlyticsConfig.ovdTagMapCode.indexOf(e)&&!t.requiredAdData.siteacct},o.prototype.isClassicDashboard=function(e,t){return 0<=r.cardlyticsConfig.classicDashboardTagMapCode.indexOf(e)&&!t.requiredAdData.siteacct},o.prototype.isOvdSlideInView=function(e,t){return 0<=r.cardlyticsConfig.ovdTagMapCode.indexOf(e)&&t.requiredAdData.siteacct&&!t.requiredAdData.offerId},o.prototype.isClassicSlideInView=function(e,t){return 0<=r.cardlyticsConfig.classicDashboardTagMapCode.indexOf(e)&&t.requiredAdData.siteacct&&!t.requiredAdData.offerId},o.prototype.isAllOffers=function(e,t){return 0<=r.cardlyticsConfig.seeAllOffersTagMapCode.indexOf(e)&&0<=a.cardlyticsConstants.cardlyticsPlacementId.allOfferPlacementIds.indexOf(t.placementId)},o.prototype.isOfferDetails=function(e,t){return 0<=r.cardlyticsConfig.offerDetailsTagMapCode.indexOf(e)&&t.requiredAdData.offerId},o.prototype.isTotalRewards=function(e,t){return 0<=r.cardlyticsConfig.seeAllOffersTagMapCode.indexOf(e)&&0<=a.cardlyticsConstants.cardlyticsPlacementId.rewardsEarnedPlacementIds.indexOf(t.placementId)},o.prototype.allOfferErrorComponent=function(e,t){t.cardlyticsRequest.successFunction(e,t.cardlyticsRequest.adParameter,t.cardlyticsRequest.cardlyticsParameter.placementId,!0,t.eligibleAccounts)},o.prototype.failureHandler=function(e,t){t===f.CardlyticsPages.AllOffers&&e!==h.CardlyticsErrors.ZeroOffer?(new i.CardlyticsTemplate).loadAllOffersErrorComponent(this,this.allOfferErrorComponent):this.cardlyticsRequest.errorFunction(this.cardlyticsRequest.cardlyticsParameter.placementId,this.eligibleAccounts,this.cardlyticsRequest.adParameter)},t.CardlyticsViewFactory=o}),define("mktui-fx/cardlytics/cardlyticsinit",["require","exports","mktui-fx/cardlytics/view/CardlyticsViewFactory","mktui-fx/cardlytics/model/CardlyticsRequest"],function(e,t,s,c){function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.cardlyticsInit=void 0,i.prototype.loadCDLXOffer=function(i,r,n,a,o){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){return t=new c.CardlyticsRequest(i,r,n,a,o),(new s.CardlyticsViewFactory).createView(t).loadView(),[2]})})};var r=new i;t.cardlyticsInit={loadCardlyticsOffer:r.loadCDLXOffer}}),define("mktui-fx/cardlytics/model/CardlyticsRequest.interface",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/cardlytics/model/TokenResponse",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/util/BlueAnalyticsHelper",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BlueAnalyticsHelper=void 0,t.BlueAnalyticsHelper={sendPayloadToAnalytics:function(t,i){window.require(["blue/event/channel/analytics"],function(e){e.emit(t,i)})}}}),define("mktui-fx/util/BlueLoggerHelper",["require","exports","mktui-fx/environment/channelEnvironment"],function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BlueLoggerHelper=void 0;t.BlueLoggerHelper={setUpLogger:function(t){try{i.channelEnvironment.isCXO()&&window.require(["blue/log"],function(e){t.setLoggerApi(e("[ad-framework-messages]"))},function(e){})}catch(e){}}}}),define("mktui-fx/util/detectAdBlocker",["require","exports","mktui-fx/common/adConfig"],function(e,t,i){function r(){i.adConfig.setProperty("adBlockerDetected",(()=>{var e,t="N";try{(e=document.createElement("div")).innerHTML="&nbsp;",e.className="adsbox",document.body.appendChild(e),0===e.offsetHeight&&(t="Y")}catch(e){t="error: "+e}finally{e&&e.remove()}return t})())}Object.defineProperty(t,"__esModule",{value:!0}),t.detectAdBlocker=function(){"complete"===document.readyState?r():document.onreadystatechange=r}}),define("slotplacement/service",["mktui-fx/ads/client/client.service"],function(e){return e.clientService}),define("slotplacement/contentprovider",["mktui-fx/ads/content/content.service"],function(e){return e.contentService}),define("slotplacement/topic",["mktui-fx/ads/topic"],function(e){return e.Topic}),define("slotplacement/placement",["mktui-fx/ads/placement/placement"],function(e){return e.Slot}),define("mktui-fx/adframeworkclient",["mktui-fx/ads/client/adframeworkclient"],function(e){return e.MktAdLoader}),define("slotplacement/cardlyticsinit",["mktui-fx/cardlytics/cardlyticsinit"],function(e){return e.cardlyticsInit}),require(["mktui-fx/util/detectAdBlocker"],function(e){e.detectAdBlocker()});