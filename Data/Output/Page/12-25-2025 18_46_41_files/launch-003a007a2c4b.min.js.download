// For license information, see `https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/launch-003a007a2c4b.js`.
(function(){window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2025-11-17T15:04:15Z",turbineBuildDate:"2024-08-22T17:32:44Z",turbineVersion:"28.0.0"},environment:{id:"EN499a64a82b0d44abb4f6dfeb3e957bda",stage:"production"},dataElements:{"zGlobal_xdm.web.webPageDetails.siteSection":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalDataWAposting.channel"}},zGlobal_at_property:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("zSite_AT_alloyConfig").getTargetProperty()}}},"3pt_facebook":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{fbq("trackCustom",e.event,{content_name:e.name,content_category:e.cat,lp:e.lp}),_satellite.logger.log("3PT Facebook pixel fired with: "+JSON.stringify(e))}catch(e){_satellite.logger.log("3PT ERROR firing custom facebook tag: "+e)}}}}},zGlobal_ds_wa_pl:{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"DS_WA_PL"}},"3pt_floodlight":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{var t,n,o=document.createElement("img");if(e.cache_bust&&"off"===e.cache_bust)_satellite.logger.log("not using cachebuster"),t="https://ad.doubleclick.net/ddm/activity/src=4264071;type="+e.type+";cat="+e.cat+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=1?",e.hasOwnProperty("u1")&&e.hasOwnProperty("u2")&&(t="https://ad.doubleclick.net/ddm/activity/src=4264071;type="+e.type+";cat="+e.cat+";u1="+e.u1+";u2="+encodeURIComponent(e.u2)+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=1?"),o.setAttribute("src",t);else n=1e13*(Math.random()+""),_satellite.logger.log("using cachebuster"),t="https://ad.doubleclick.net/ddm/activity/src=4264071;type="+e.type+";cat="+e.cat+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=1;num=",o.setAttribute("src",t+n+"?");o.setAttribute("height","1"),o.setAttribute("width","1"),o.setAttribute("style","display:none"),o.setAttribute("alt",""),document.body.appendChild(o),n?_satellite.logger.log("3PT floodlight (with cachebuster) fired with: "+t+n+"?"):_satellite.logger.log("3PT floodlight (without cachebuster) fired with: "+t)}catch(e){_satellite.logger.log("3PT ERROR appending floodlight image tag: "+e)}}}}},"3pt_yahoo":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{if("object"==typeof e&&e.hasOwnProperty("yp")){var t=document.createElement("img"),n=JSON.stringify(e),o="https://sp.analytics.yahoo.com/spp.pl?a=10000&.yp="+e.yp;e.hasOwnProperty("ea")&&(o+="&ea="+e.ea),e.hasOwnProperty("auid")&&(o+="&auid="+e.auid),e.hasOwnProperty("ec")&&(o+="&ec="+e.ec),e.hasOwnProperty("he")&&(o+="&he="+e.he),t.setAttribute("src",o),t.setAttribute("height","1"),t.setAttribute("width","1"),t.setAttribute("style","display:none"),t.setAttribute("alt",""),document.body.appendChild(t),_satellite.logger.log("3PT yahoo pixel fired with : "+n)}}catch(e){_satellite.logger.log("3PT ERROR appending yahoo image tag: "+e)}}}}},zGlobal_3PT_utils:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={execute3PT:function(e,t){var n={threePT:e};_satellite.logger.log("ev is"),_satellite.logger.log(t),t.$rule&&t.$rule.name&&(n.ruleTrigger=t.$rule.name,_satellite.logger.log("3PT object sent by rule:"+t.$rule.name),_satellite.logger.log(n.threePT),_satellite.track("threePT",n))},generateUUID:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))},getAppName:function(e){return _satellite.getVar("3pt_app_name")(e)},generate3ptObj:function(e,t){var n="";_satellite.logger.log("newAcctAppType is:"),_satellite.logger.log(t);var o=this.getAppName(t);if(_satellite.logger.log("3pt_app_name is: "+o),e.detail&&e.detail.waData&&e.detail.waData.events&&(e.detail.waData.events.indexOf("event23")>-1||e.detail.waData.events.indexOf("event24")>-1)&&o&&e.detail.waData.products){var i=e.detail.waData.events.indexOf("event23")>-1?"event23":"event24";_satellite.logger.log("the newAcctAppType is:"+t),_satellite.logger.log("3pt test event is: "+i);var r=_satellite.getVar("3pt_matrix_new_acct")[o];if(!r)return _satellite.getVar("index "+o+" does not exist on tagging_matrix"),!1;n=r[i],_satellite.logger.log("the appObj is:"),_satellite.logger.log(n);var a=e.detail.waData.products.split(";");_satellite.logger.log("productStringArray is:"),_satellite.logger.log(a),_satellite.logger.log("tagging_matrix.products are: "),_satellite.logger.log(r.products);var s=this.productMatchesHelper(a,r.products);if(_satellite.logger.log("product matches are :"),_satellite.logger.log(s),r.hasOwnProperty("product_specific_tags")){var l=r.product_specific_tags;_satellite.logger.log("product_specific_tags are"),_satellite.logger.log(l);var c=this.productMatchesHelper(a,Object.keys(l));if(_satellite.logger.log(typeof c),_satellite.logger.log("prodMatch is : "+c),c){var d=l[c][i];return fullMapping={...n,...d},fullMapping}}return s.length>0?(_satellite.logger.log("step 0: end condition"),n):(_satellite.logger.log("step 0: no matching products found"),!1)}},interactionHandler:function(t){t.selectors.forEach((function(n){n.includes(":contains")?$(n).on("click",(function(o){if(o.detail={},o.detail.threePT=t.tags,o.detail.$rule={name:"zGlobal - 3PT - DOM R - Interaction Listeners"},e.execute3PT(o.detail.threePT,o.detail),t.selector_specific_tags&&t.selector_specific_tags[0][n]){var i={detail:{threePT:t.selector_specific_tags[0][n],$rule:{name:"zGlobal - 3PT - DOM R - Interaction Listeners"}}};e.execute3PT(i.detail.threePT,i.detail)}})):document.querySelectorAll(n).forEach((function(o){o.addEventListener(t.eventType,(function(){var o={detail:{threePT:t.tags,$rule:{name:"zGlobal - 3PT - DOM R - Interaction Listeners"}}};if(e.execute3PT(o.detail.threePT,o.detail),t.selector_specific_tags&&t.selector_specific_tags[0][n]){var i={detail:{threePT:t.selector_specific_tags[0][n],$rule:{name:"zGlobal - 3PT - DOM R - Interaction Listeners"}}};e.execute3PT(i.detail.threePT,i.detail)}}))}))}))},productMatchesHelper:function(e,t){for(var n=0;n<e.length;n++)for(var o=0;o<t.length;o++)if(e[n]===t[o])return e[n]},timestamp:function(){return Math.floor(Date.now()/1e3).toString()}};return e}}},"zGlobal_xdm._experience.analytics.event201to300":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(event){var waData=window.digitalDataWAposting||{};if(!waData.eventsArray||waData.eventsArray.length<1)return{};var event201to300={};return waData.eventsArray.forEach((item=>{if(!item)return;if(item.indexOf("event")<0)return;let regexArray=item.match(/(event)([^=]*)(.*)/),txt=regexArray[1];if(!txt)return;let num=regexArray[2],value=regexArray[3];Number(num)>200&&Number(num)<301&&(eval("event201to300.event"+num+"= {}"),value?eval("event201to300.event"+num+".value"+value):eval("event201to300.event"+num+".value= 1"))})),event201to300}}},"zGlobal_xdm.web.webPageDetails.pageViews.value":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"web.webpagedetails.pageViews"===window.digitalDataWAposting.eventType?1:0}}},"zGlobal_xdm.web.webInteraction.url":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalDataWAposting;return e.linkURL?e.linkURL:"web.webinteraction.linkClicks"===e.eventType?"":void 0}}},"zGlobal_xdm.web.webInteraction.name":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalDataWAposting;return e.linkName?e.linkName:"web.webinteraction.linkClicks"===e.eventType?"":void 0}}},"3pt_matrix_interaction":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.HVATags={"truist|com|home":{selectors:[".hero-btn-container a[data-wa-linkname='Learn more']",".hero-content a.btn.btn-primary.btn-lg.btn-cta[data-wa-linkname='Learn more']","[data-wa-linkname='Learn More']","#main-hero-login [data-wa-linkname='Open now']"],eventType:"click",tags:{facebook:{event:"TruistOneOfferHomePage"},pinterest:{event_name:"custom"},linkedin:{conversion_id:"16340332"}},selector_specific_tags:[{".hero-content a.btn.btn-primary.btn-lg.btn-cta[data-wa-linkname='Learn more']":{floodlight_2:{type:"landi0",cat:"truis00",cache_bust:"off"}},"[data-wa-linkname='Learn More']":{floodlight_2:{type:"landi0",cat:"truis00",cache_bust:"off"}}}]},"truist|com|care":{selectors:[".btn-global-nav[data-wa-linkname='Sign in']",".btn-global-nav[data-wa-linkname='Open Account']"],eventType:"click",tags:{},selector_specific_tags:[{".btn-global-nav[data-wa-linkname='Sign in']":{floodlight_2:{type:"care_0",cat:"truis00",u1:"",u2:document.location.pathname,cache_bust:"off"}},".btn-global-nav[data-wa-linkname='Open Account']":{floodlight_2:{type:"care_0",cat:"truis0",u1:"",u2:document.location.pathname,cache_bust:"off"}}}]},"truist|com|commercial_corporate_institutional|investment_banking":{selectors:["[data-wa-linkname='Download the Purple Paper (PDF)']"],eventType:"click",tags:{floodlight_2:{type:"landi0",cat:"truis00a",u1:"",u2:document.location.pathname,cache_bust:"off"}}},"truist|com|savings|truist_confidence_savings":{selectors:["[data-wa-linkname='Open now']"],eventType:"click",tags:{floodlight_2:{type:"appli0",cat:"truis010",cache_bust:"off",u2:document.location.pathname}}},"truist|com|savings|truist_one_savings":{selectors:["[data-wa-linkname='Open now']"],eventType:"click",tags:{floodlight_2:{type:"appli0",cat:"truis010",cache_bust:"off",u2:document.location.pathname}}},"truist|com|savings|truist_one_money_market":{selectors:["[data-wa-linkname='Open now']"],eventType:"click",tags:{facebook:{event:"MMAOpenButton"},floodlight_2:{type:"appli0",cat:"truis011",cache_bust:"off",u2:document.location.pathname}}},"truist|com|savings|truist_one_money_market|rate_tx_nj_pa":{selectors:["[data-wa-linkname='Start saving now']","[data-wa-linkname='Open now']"],eventType:"click",tags:{facebook:{event:"MMATestMarketsOpenButton"}}},"truist|com|savings|lp|money_market_account|rate_tx":{selectors:["[data-wa-linkname='Open now']"],eventType:"click",tags:{facebook:{event:"MMAOpenNowButtonClick"}}},"truist|com|checking|checking_offer":{selectors:["[data-wa-linkurl='https://deposits.digitalcommerce.truist.com/product/195']","[data-wa-linkname='Open now']","[data-wa-linkname='Get Truist One Checking']"],eventType:"click",tags:{},selector_specific_tags:[{"[data-wa-linkname='Get Truist One Checking']":{facebook:{event:"HVA",name:"deposit",cat:"checking",lp:"/checking/checking-offer"},linkedin:{conversion_url:"truist.com/checkinghvatag"},twitter:{image1:"https://analytics.twitter.com/i/adsct?txn_id=o6i5d&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0",image2:"//t.co/i/adsct?txn_id=o6i5d&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"},yahoo:{yp:"10186305",ea:""}},"[data-wa-linkurl='https://deposits.digitalcommerce.truist.com/product/195']":{facebook:{event:"TruistOneOpenButton"},pinterest:{event_name:"custom"},linkedin:{conversion_id:"16340340"},tiktok:{event:"StartTrial"}},"[data-wa-linkname='Open now']":{floodlight_2:{type:"appli0",cat:"truis01",u2:document.location.pathname,cache_bust:"off"}}}]},"truist|com|credit_cards":{selectors:[".author-cta-styling.global-cta-btn [data-wa-linkname='Find an account']","[data-wa-linkname='Apply now']","[data-wa-linkname='Learn more']",".aem-GridColumn--default--none.aem-GridColumn.aem-GridColumn--default--24.aem-GridColumn--offset--default--0 > div > p > a"],eventType:"click",tags:{facebook:{event:"HVA",name:"CreditCards",cat:"ConsumerCreditCards",lp:document.location.pathname}}},"truist|com|credit-cards|enjoy_cash":{selectors:["[data-wa-linkname='Apply now']","[data-wa-linkname='Learn more']",".aem-GridColumn--default--none.aem-GridColumn.aem-GridColumn--default--24.aem-GridColumn--offset--default--0 > div > p > a:not(:contains('Card agreement (PDF)'))"],eventType:"click",tags:{facebook:{event:"HVA",name:"CreditCards",cat:"ConsumerCreditCards",lp:document.location.pathname}}},"truist|com|credit_cards|enjoy_travel":{selectors:["[data-wa-linkname='Apply now']","[data-wa-linkname='Learn more']",".aem-GridColumn--default--none.aem-GridColumn.aem-GridColumn--default--24.aem-GridColumn--offset--default--0 > div > p > a:not(:contains('Card agreement (PDF)'))"],eventType:"click",tags:{facebook:{event:"HVA",name:"CreditCards",cat:"ConsumerCreditCards",lp:document.location.pathname}}},"truist|com|credit_cards|future":{selectors:["[data-wa-linkname='Apply now']","[data-wa-linkname='Learn more']",".aem-GridColumn--default--none.aem-GridColumn.aem-GridColumn--default--24.aem-GridColumn--offset--default--0 > div > p > a:not(:contains('Card agreement (PDF)'))"],eventType:"click",tags:{facebook:{event:"HVA",name:"CreditCards",cat:"ConsumerCreditCards",lp:document.location.pathname}}},"truist|com|credit_cards|enjoy_beyond":{selectors:["[data-wa-linkname='Apply now']","[data-wa-linkname='Learn more']",".aem-GridColumn--default--none.aem-GridColumn.aem-GridColumn--default--24.aem-GridColumn--offset--default--0 > div > p > a:not(:contains('Card agreement (PDF)'))"],eventType:"click",tags:{facebook:{event:"HVA",name:"CreditCards",cat:"ConsumerCreditCards",lp:document.location.pathname}}},"truist|com|credit_cards|enjoy_cash_secured":{selectors:["[data-wa-linkname='Apply now']","[data-wa-linkname='Learn more']","[title='travel card disclosure']",".aem-GridColumn--default--none.aem-GridColumn.aem-GridColumn--default--24.aem-GridColumn--offset--default--0 > div > p > a:not(:contains('Card agreement (PDF)'))"],eventType:"click",tags:{facebook:{event:"HVA",name:"CreditCards",cat:"ConsumerCreditCards",lp:document.location.pathname}}},"truist|com|checking|open_checking":{selectors:["[data-wa-linkurl*='https://deposits.digitalcommerce.truist.com/product/195']"],eventType:"click",tags:{facebook:{event:"HVA",name:"deposit",cat:"checking",lp:document.location.pathname},floodlight_2:{type:"appli0",cat:"truis01",u2:document.location.pathname,cache_bust:"off"}},selector_specific_tags:[{"[data-wa-linkurl*='https://deposits.digitalcommerce.truist.com/product/195']":{facebook:{event:"TruistOneOpenButton"},pinterest:{event_name:"custom"},linkedin:{conversion_id:"16340340"}}}]},"truist|com|checking|one_simple_choice":{selectors:["[data-wa-linkurl*='https://deposits.digitalcommerce.truist.com/product/195']"],eventType:"click",tags:{floodlight_2:{type:"appli0",cat:"truis01",u2:document.location.pathname,cache_bust:"off"}}},"truist|com|mortgage|mortgage_offer":{selectors:["[href='tel:844-669-6777']","[data-wa-linkname='Apply for a mortgage']","a[href*='#calculator']","[data-wa-linkname='Know your options']","[data-wa-linkname='Check current rates']"],eventType:"click",tags:{facebook:{event:"HVA",name:"MortgageCTAClick",cat:"Mortgage",lp:"/mortgage/mortgage-offer"}},selector_specific_tags:[{"[href='tel:844-669-6777']":{gtag:{account:"1032153865",identifier:"aO0kCIPNpq4DEInWlewD"},yahoo:{yp:"10150341",ea:"calltracking"}},"[data-wa-linkname='Apply for a mortgage']":{gtag:{account:"1032153865",identifier:"nNoACLf83q4DEInWlewD"},yahoo:{yp:"10150341",ea:"apply"}},"a[href*='#calculator']":{gtag:{account:"1032153865",identifier:"LHVVCJjcpq4DEInWlewD"},yahoo:{yp:"10150341",ea:"calculator"}},"[data-wa-linkname='Check current rates']":{gtag:{account:"1032153865",identifier:"zDQGCJ_i2q4DEInWlewD"},yahoo:{yp:"10150341",ea:"checkcurrentrates"}},"[data-wa-linkname='Know your options']":{gtag:{account:"1032153865",identifier:"K4R2CLXnpq4DEInWlewD"},yahoo:{yp:"10150341",ea:"knowyouroptions"}}}]},"truist|com|digital_banking":{selectors:["[data-wa-linkname='Register now']","[data-wa-linkname='Login to get started']","[data-wa-linkname='Learn more']","[data-wa-linkname='View details']"],eventType:"click",tags:{facebook:{event:"HVA",name:"digitalbanking_hva",cat:"digital_banking",lp:"/digital-banking"},linkedin:{conversion_url:"digitalbankinghvatag"},twitter:{image1:"https://analytics.twitter.com/i/adsct?txn_id=o6i5b&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0",image2:"//t.co/i/adsct?txn_id=o6i5b&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"}}},"truist|com|mortgage":{selectors:["[data-wa-linkname='Refinance your mortgage']","[data-wa-linkname='Get preapproved']","[data-wa-linkname='Apply now']","[data-wa-linkname='Buy a home']:not('.comparison-nav__link')"],eventType:"click",tags:{facebook:{event:"HVA",name:"MortgageCTAClick",cat:"Mortgage",lp:"/mortgage"}}},"truist|com|checking|truist_one_banking":{selectors:["[data-wa-linkurl='https://deposits.digitalcommerce.truist.com/product/195']","[data-wa-linkurl='/content/truist-bank/us/en/open-account.html']","div.herobanner [data-wa-linkname='Open now']"],eventType:"click",tags:{facebook:{event:"HVA",name:"deposit",cat:"checking",lp:"/checking/truist-one-banking"},twitter:{image1:"https://analytics.twitter.com/i/adsct?txn_id=o6i5b&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0",image2:"//t.co/i/adsct?txn_id=o6i5b&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"}},selector_specific_tags:[{"[data-wa-linkurl='https://deposits.digitalcommerce.truist.com/product/195']":{facebook:{event:"TruistOneOpenButton"},pinterest:{event_name:"custom"},linkedin:{conversion_id:"16340340"}},"div.herobanner [data-wa-linkname='Open now']":{facebook:{event:"TruistOneOpenButton"},pinterest:{event_name:"custom"},linkedin:{conversion_id:"16340340"}}}]},"truist|com|commercial_corporate_institutional|contact_form":{selectors:["#form33"],eventType:"submit",tags:{linkedin:{conversion_url:"truist.com/ccbhvatag"}}},"truist|com|small_business|banking|checking":{selectors:["a[data-wa-linkname='Open now']"],eventType:"click",tags:{floodlight_2:{type:"appli0",cat:"truis012",cache_bust:"off",u2:document.location.pathname}}},"truist|com|small_business_banking|business_checking":{selectors:["[data-wa-productcta=';business|truist_simple_business_checking']","[data-wa-productcta=';business|truist_dynamic_business_checking ']","[data-wa-linkname='Open now']"],eventType:"click",tags:{},selector_specific_tags:[{"[data-wa-productcta=';business|truist_simple_business_checking']":{facebook:{event:"TruistSimpleBusinessChecking"}},"[data-wa-productcta=';business|truist_dynamic_business_checking ']":{facebook:{event:"TruistDynamicBusinessChecking"}},"[data-wa-linkname='Open now']":{floodlight_2:{type:"appli0",cat:"truis012",cache_bust:"off",u2:document.location.pathname}}}]},"truist|com|small_business|banking|checking|dynamic_business_checking":{selectors:["a[href='https://businessdeposits.digitalcommerce.truist.com/product/158']"],eventType:"click",tags:{facebook:{event:"TruistDynamicBusinessChecking"},tiktok:{event:"StartTrial"}}},"truist|com|small_business|banking|checking|simple_business_checking":{selectors:["[data-wa-linkname='Open now']"],eventType:"click",tags:{facebook:{event:"TruistSimpleBusinessChecking"}}},"truist|com|small_business|banking|checking_offer":{selectors:["[data-wa-linkname='Open now']"],eventType:"click",tags:{floodlight_2:{type:"appli0",cat:"truis012",cache_bust:"off",u2:document.location.pathname}}},"truist|com|small_business|banking|checking_offer1":{selectors:["[data-wa-linkname='Apply now']","[data-wa-linkname='Open now']"],eventType:"click",tags:{facebook:{event:"HVA",name:"small-business",cat:"BusinessDeposite",lp:"/lp/open-small-business-checking"},linkedin:{conversion_url:"truist.com/smallbizhvatag"},twitter:{image1:"https://analytics.twitter.com/i/adsct?txn_id=o6i5n&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0",image2:"//t.co/i/adsct?txn_id=o6i5n&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"},floodlight_2:{type:"appli0",cat:"truis012",cache_bust:"off",u2:document.location.pathname}}},"truist|com|small_business|banking|savings_account|business_money_market_account":{selectors:["[data-wa-linkname='Open now']"],eventType:"click",tags:{floodlight_2:{type:"appli0",cat:"truis014",cache_bust:"off",u2:document.location.pathname}}},"truist|com|small_business|banking|savings_account|simple_business_savings":{selectors:["[data-wa-linkname='Open now']"],eventType:"click",tags:{floodlight_2:{type:"appli0",cat:"truis013",cache_bust:"off",u2:document.location.pathname}}},"truist|com|mortgage|correspondent_lending":{selectors:["[data-wa-linkname='LendingSpace Portal']","[data-wa-linkname='Seller Guide']","[data-wa-linkname='CRA Geocoder']"],eventType:"click",tags:{linkedin:{conversion_id:9958826}}},"truist|com|small_business|online_banking|zelle":{selectors:["[data-wa-linkname='Learn more']","[data-wa-linkname='Register now']"],eventType:"click",tags:{facebook:{event:"HVA",name:"zelle_hva",cat:"zelle",lp:"/small-business/online-banking/zelle"}}},"truist|com|wealth":{selectors:[".btn.search-btn",".btn.btn-primary.submit","[data-wa-linkname='Work with us']","[data-wa-linkurl='/finder/wealth']","[href='#find-an-advisor']"],eventType:"click",tags:{},selector_specific_tags:[{"[data-wa-linkurl='/finder/wealth']":{floodlight_2:{type:"landi0",cat:"truis00d",cache_bust:"off",u1:"",u2:document.location.pathname}},"[href='#find-an-advisor']":{floodlight_2:{type:"landi0",cat:"truis00d",cache_bust:"off",u1:"",u2:document.location.pathname}},".btn.search-btn":{floodlight_2:{type:"landi0",cat:"truis00b",cache_bust:"off",u1:"",u2:document.location.pathname}},".btn.btn-primary.submit":{floodlight_2:{type:"landi0",cat:"truis00c",cache_bust:"off",u1:"",u2:document.location.pathname}},"[data-wa-linkname='Work with us']":{floodlight_2:{type:"landi0",cat:"truis00e",cache_bust:"off",u1:"",u2:document.location.pathname}}}]},"truist|com|online_banking|paze":{selectors:["[data-wa-linkname='Sign in to get started with PAZE']"],eventType:"click",tags:{facebook:{event:"PazeButtonClick"}}}},_satellite.logger.log("the pageName is:"),_satellite.logger.log(window.digitalDataWA.pageName),HVATags[window.digitalDataWA.pageName]}}},"zGlobal_xdm.eventType":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalDataWAposting.eventType"}},"3pt_floodlight_2":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{var t,n,o=document.createElement("img");if(e.cache_bust&&"off"===e.cache_bust)_satellite.logger.log("not using cachebuster"),t="https://ad.doubleclick.net/ddm/activity/src=14781975;type="+e.type+";cat="+e.cat+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=1?",e.hasOwnProperty("u2")&&(t="https://ad.doubleclick.net/ddm/activity/src=14781975;type="+e.type+";cat="+e.cat+";u2="+encodeURIComponent(e.u2)+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=1?"),e.hasOwnProperty("u1")&&e.hasOwnProperty("u2")&&(t="https://ad.doubleclick.net/ddm/activity/src=14781975;type="+e.type+";cat="+e.cat+";u1="+e.u1+";u2="+encodeURIComponent(e.u2)+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=1?"),o.setAttribute("src",t);else n=1e13*(Math.random()+""),_satellite.logger.log("using cachebuster"),t="https://ad.doubleclick.net/ddm/activity/src=14781975;type="+e.type+";cat="+e.cat+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=1;num=",o.setAttribute("src",t+n+"?");o.setAttribute("height","1"),o.setAttribute("width","1"),o.setAttribute("style","display:none"),o.setAttribute("alt",""),document.body.appendChild(o),n?_satellite.logger.log("3PT floodlight_2 (with cachebuster) fired with: "+t+n+"?"):_satellite.logger.log("3PT floodlight_2 (without cachebuster) fired with: "+t)}catch(e){_satellite.logger.log("3PT ERROR appending floodlight_2 image tag: "+e)}}}}},zGlobal_AA_Global_Processing_PageViewOnly:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{go:function(){_satellite.logger.info("Executing pageview only processing..."),window.digitalDataWA=window.digitalDataWA||{},window.digitalDataWA.temp=window.digitalDataWA.temp||{};var e=window.digitalDataWA||{};window.digitalDataWA&&window.digitalDataWAUtils||_satellite.logger.warn("Something is missing for zGlobal_AA_Global_Processing_PageViewOnly!!");var t=window.digitalDataWAUtils||_satellite.getVar("zGlobal_utils");_satellite.getVar("zSite_config");e.temp.previousPage=t.getCookieValue("s_prevpagename",e.pageName),_satellite.logger.info("Executing pageview only query string params..."),e.campaign&&(e.temp.campaign=e.campaign,delete e.campaign),!e.temp.campaign&&t.getQueryParam("cid,lcid")&&(e.temp.campaign=t.getQueryParam("cid,lcid")),e.temp.campaign&&(e.temp.campaign=t.getValOnce("campaign",e.temp.campaign)),e.internalSource&&(e.temp.internalSource=e.internalSource,delete e.internalSource),!e.temp.internalSource&&t.getQueryParam("intsource")&&(e.temp.internalSource=t.getQueryParam("intsource")),e.temp.internalSource&&(e.temp.internalSource=t.getValOnce("intsource",e.temp.internalSource)),t.getQueryParam("lsid")&&(e.temp.lsid=t.getQueryParam("lsid")),e.temp.lsid&&(e.temp.lsid=t.getValOnce("lsid",e.temp.lsid)),t.getQueryParam("CampIDMaj")&&(e.temp.cmpMajorMinor=t.getQueryParam("CampIDMaj"),e.temp.cmpMajorMinor&&(e.temp.cmpMajorMinor+="-"+t.getQueryParam("CampIDMin"),e.temp.cmpMajorMinor=t.getValOnce("cmpMajorMinor",e.temp.cmpMajorMinor))),t.getQueryParam("odeid")&&(e.temp.offerCTA=t.getQueryParam("odeid")),e.temp.offerCTA&&(e.temp.offerCTA=t.getValOnce("offerCTA",e.temp.offerCTA)),t.getQueryParam("acrid")&&(e.temp.acousticID=t.getQueryParam("acrid")),e.temp.acousticID&&(e.temp.acousticID=t.getValOnce("acousticID",e.temp.acousticID)),t.getQueryParam("utm_clickid")&&(e.temp.adnetID=t.getQueryParam("utm_clickid")),e.temp.adnetID&&(e.temp.adnetID=t.getValOnce("adnetID",e.temp.adnetID)),t.getQueryParam("gclid")&&(e.temp.gclid=t.getQueryParam("gclid")),e.temp.gclid&&(e.temp.gclid=t.getValOnce("gclid",e.temp.gclid)),e.temp.gclid&&t.getCookieValue("s_gclid",e.temp.gclid);var n="";if(t.getQueryParam("fact")&&(n=t.getQueryParam("fact")),t.getQueryParam("factID")&&(n=t.getQueryParam("factID")),t.getQueryParam("FactID")&&(n=t.getQueryParam("FactID")),t.getQueryParam("factId")&&(n=t.getQueryParam("factId")),t.getQueryParam("FactId")&&(n=t.getQueryParam("FactId")),n){var o=t.getCookieValue("FACT");(!o||"3"===n.substring(0,1)&&5===n.length||"4"===n.substring(0,1)&&5===n.length&&"4"===o.substring(0,1)&&5===o.length)&&(e.temp.fact=t.getValOnce("fact",n),e.temp.fact&&t.getCookieValue("FACT",e.temp.fact,30))}e.eloquaID&&(e.temp.eloquaID=e.eloquaID,delete e.eloquaID),!e.temp.eloquaID&&t.getQueryParam("elrid")&&(e.temp.eloquaID=t.getQueryParam("elrid")),e.temp.eloquaID&&(e.temp.eloquaID=t.getValOnce("elrid",e.temp.eloquaID))}}}}},zGlobal_analyticsDatasetId:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return(_satellite.getVar("zSite_AA_alloyConfig")||{}).getAnalyticsDatasetId()||""}}},zSite_AT_alloyConfig:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("zGlobal_alloyConfig");if(!e)return _satellite.error("MISSING DE zGlobal_alloyConfig!"),!1;if(e.target_extended)return e;e.getDatasetMap().target={play:"62728c38496dbc194908995b",itca:"631263e02185d11c07d432e1",prdr:"63755c9b078be51c0755e513",prod:"6377b4a36f3d141c08a12a01"};var t={play:"b5df5058-8392-9242-1c5b-4a54bdc935b1",itca:"b5df5058-8392-9242-1c5b-4a54bdc935b1",prdr:"b5df5058-8392-9242-1c5b-4a54bdc935b1",prod:"062dbe94-7604-9e00-1f2e-75addeb37fc2"},n="at",o="trackingElements",i="prefetchMboxes",r="target_requests_data",a="zGlobal_target_requests_xdm",s="alloy_target_results",l="data-wa-track-clk",c=".at-tracking-element",d="--",u="data-wa-targettrackingid",g=["activity.id","option.id","experience.id","experience.trafficAllocationType","offer.id"],m="alloy-prehide",p=3e3,f="target_prehide_timeout_expired",h=1,b="target_mbox_parameters";return e.getTargetUtilVars=function(){return[n,o,i,r,a,s,l,c,d,u,g,m,p,f,h,b]},e.getTargetDatasetId=function(){return e.getDatasetId("target")},e.getTargetProperty=function(){return t[e.getEnvironment()]||""},e.target_extended=!0,e}}},"zGlobal_xdm._experience.analytics.event901to1000":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(event){var waData=window.digitalDataWAposting||{};if(!waData.eventsArray||waData.eventsArray.length<1)return{};var event901to1000={};return waData.eventsArray.forEach((item=>{if(!item)return;if(item.indexOf("event")<0)return;let regexArray=item.match(/(event)([^=]*)(.*)/),txt=regexArray[1];if(!txt)return;let num=regexArray[2],value=regexArray[3];Number(num)>900&&Number(num)<1001&&(eval("event901to1000.event"+num+"= {}"),value?eval("event901to1000.event"+num+".value"+value):eval("event901to1000.event"+num+".value= 1"))})),event901to1000}}},zGlobal_rsid:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("xSite_rsid")||"";return""===e?"":e}}},zSite_AA_alloyConfig:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("zGlobal_alloyConfig");return e?(e.getDatasetMap().analytics={play:"62fd3737a193ec1c084cf893",itca:"62fd3737a193ec1c084cf893",prdr:"637519c8581eae1c075e967a",prod:"6377b483cda5721c07122ba1"},e.getAnalyticsDatasetId=function(){return e.getDatasetId("analytics")},e):(_satellite.error("MISSING DE zGlobal_alloyConfig!"),!1)}}},zGlobal_alloyConfig:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(_satellite.truist=_satellite.truist||{},_satellite.truist.alloyConfig)return _satellite.truist.alloyConfig;var e=_satellite.getVar("zSite_config"),t=e.prodHosts||[],n=e.prdrHosts||[],o={},i="aep_ss",r=i+"a",a=i+"b",s=[r,a],l=function(){return s},c=function(e){return s=s.concat(e)},d=function(){var e=!1;return t.indexOf(window.location.hostname)>-1&&(e="production"===_satellite.environment.stage),n.indexOf(window.location.hostname)>-1&&(e=!1),e},u=d(),g=function(){if(d())return"prod";var e=sessionStorage.getItem(r)||"";if(!e){for(var t=0,o=n.length,i=!1;t<o&&!(i=-1!==window.location.hostname.indexOf(n[t]));t++);e=i?"prdr":"itca",sessionStorage.setItem(r,e)}return e},m=function(e){if(!u){console.log('Test any of the following environments: "prod", "prdr", "play", "acs", or "itca". All other inputs will fail.');var t=["prod","prdr","play","acs","itca"];"string"==typeof e&&(e=e.toLowerCase(),-1!==t.indexOf(e)&&(sessionStorage.setItem(r,e),console.log("Environment set. To take effect refresh page once in the app.")))}},p=function(e){return"string"==typeof e&&o[e]&&o[e][g()]||""},f=function(){return o},h=function(){return _satellite.getVar("zGlobal_datastreamID")},b=function(){var e=sessionStorage.getItem(a);return u||"string"!=typeof e?void 0:JSON.parse(e)},v=function(e){console.log('Test any of the following cdata variables: "truistCIF", "hSTICIN", "clientView", or "customerProfile". All other inputs will fail.','Example: setUserData({"hSTICIN":"0123456789"})'),u||"object"!=typeof e||sessionStorage.setItem(a,JSON.stringify(offersUserData))},y=function(){if("object"==typeof s)for(var e=0,t=s.length;e<t;e++)sessionStorage.removeItem(s[e])};return _satellite.truist.alloyConfig={getSessionStorageVars:l,addSessionStorageVars:c,getDatasetId:p,getDatasetMap:f,getEdgeId:h,getEnvironment:g,setEnvironment:m,getUserData:b,setUserData:v,resetConfig:y},_satellite.truist.alloyConfig}}},"3pt_cognitiv":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{var t=document.createElement("img");t.setAttribute("src",e),t.setAttribute("height","1"),t.setAttribute("width","1"),t.setAttribute("style","display:none"),t.setAttribute("alt",""),document.body.appendChild(t)}catch(e){_satellite.logger.log("3PT ERROR appending cognitiv image tag: "+e)}}}}},zGlobal_datastreamID:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={};_satellite.truist=_satellite.truist||{},_satellite.truist.alloyConfig&&(e=_satellite.truist.alloyConfig),_satellite.truist.alloyConfig||(e=_satellite.getVar("zGlobal_alloyConfig"));var t=e.getEnvironment(),n=_satellite.getVar("zSite_config").alloyEdgeMap;if(null===n)return _satellite.getVar("xSite_datastreamID");if(n.sync_on&&n.sync_off){let e=_satellite.getVar("zSite_config").aepSyncOverride;return e&&"sync_on"==e||"sync_off"==e?n[e][t]||"":n[_satellite.getVar("zGlobal_etp_total_optout")?"sync_off":"sync_on"][t]||""}return n[t]||""}}},"3pt_deluxe":{
modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{_satellite.logger.log("Deluxe base script - loading");var t=document.createElement("script");t.type="text/javascript",t.src="//ndn.statistinamics.com/cstnxtm/"+e.account+".js",document.getElementsByTagName("head")[0].appendChild(t),_satellite.logger.log("Deluxe base script - finished loading")}catch(e){_satellite.logger.log("error loading the Deluxe base script: "+e)}}}}},"zGlobal_xdm.web.webInteraction.type":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalDataWAposting;return"download"===e.linkType?"download":"exit"===e.linkType?"exit":e.linkType||e.linkName||"web.webinteraction.linkClicks"===e.eventType?"other":void 0}}},zGlobal_AA_Global_Processing:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{go:function(e,t,n){_satellite.logger.info("***DataElement zGlobal_AA_Global_Processing: Currently processing...***"),window.digitalDataWA=window.digitalDataWA||{},window.digitalDataWA.temp=window.digitalDataWA.temp||{};var o=window.digitalDataWA||{};window.digitalDataWApre=window.digitalDataWApre||[],window.digitalDataWA&&window.digitalDataWAUtils||_satellite.logger.warn("Something is missing for zGlobal_AA_Global_Processing!!");var i=window.digitalDataWAUtils||_satellite.getVar("zGlobal_utils"),r=_satellite.getVar("zSite_config");(n&&(o=i.cloneAssign(o,n)),_satellite.getVar("dataQueue"))&&_satellite.getVar("zGlobal_util_getDataQueue").go();o.temp.eventType=e||"unknown",o.temp.events=o.temp.events||"",o.events&&(o.temp.events+=","+o.events,o.events=""),o.debugAnalytics||(o.debugAnalytics=""),o.temp.debugAnalytics||(o.temp.debugAnalytics=""),o.temp.debugETP||(o.temp.debugETP="");for(const e in o)null===o[e]&&(delete o[e],o.temp.debugAnalytics+=", GP_error: waData."+e+" is null",_satellite.logger.warn("Processing Error: waData."+e+" is null!"));o.eventType&&(o.eventType!==e&&(_satellite.logger.warn("waData eventType is invalid - logging this to debugAnalytics, but not providing it in the record"),o.debugAnalytics+=",ERROR invalid root-level waData.eventType was given to GP: "+o.eventType,delete o.eventType),o.eventType===e&&(_satellite.logger.info("waData eventType was provided in the original dataLayer - but correctly matches the global processing eventType... Cleaning up..."),delete o.eventType)),o.alloyVersion=_satellite.getVar("alloyVersion"),o.ecid=o.ecid||_satellite.getVar("ECID"),o.ecid||(o.debugAnalytics+=",no_ecid"),o.server=document.location.hostname,window.location.search&&(o.queryString=i.cleanUrl(window.location.search)),o.cleanURL=i.cleanUrl([window.location.protocol,"//",window.location.host,window.location.pathname].join("")),window.navigator&&(o.browserLanguage=window.navigator.language),o.pageName=_satellite.getVar("zGlobal_pageName"),o.pageName&&(o.siteSection1=o.pageName.substring(0,o.pageName.indexOf("|"))),o.pageName&&(o.siteSection2=o.pageName.substring(0,o.pageName.indexOf("|",o.pageName.indexOf("|")+1))),o.pageName&&(o.channel=o.pageName.substring(0,o.pageName.indexOf("|")));var a=new Date;o.temp.timestampUTC=a.toISOString(),o.temp.timeParting=i.getTimeParting("America/New_York"),o.library=_satellite.property.name+"|"+_satellite.environment.stage+"|"+_satellite.buildInfo.buildDate,o.library=i.cleanText(o.library),o.marTechV=o.marTechV||"no_martech","no_martech"===o.marTechV&&window.marTech&&window.marTech.version&&(o.marTechV=window.marTech.version),o.aepSyncOverride=o.aepSyncOverride||r.aepSyncOverride||"none",o.zGlobalVersion=o.zGlobalVersion||r.zGlobalVersion||"unknown",o.trigger&&(o.temp.trigger=o.trigger,delete o.trigger),o.temp.trigger||(o.temp.trigger=t.$rule.name,o.temp.trigger=i.cleanText(o.temp.trigger));var s="in",l="in",c="in";if(_satellite.getVar("zGlobal_etp_gpc_optout")&&(s="out"),_satellite.getVar("zGlobal_etp_onetrust_optout")&&(l="out"),_satellite.getVar("zGlobal_etp_total_optout")&&(c="out"),o.etpSettings="gpc:"+s+",ot:"+l+",total:"+c,"sync_off"===o.aepSyncOverride&&(o.etpSettings=o.etpSettings+",aepSyncOverride:out"),"sync_on"===o.aepSyncOverride&&(o.etpSettings=o.etpSettings+",aepSyncOverride:in"),o.intCampaign&&(o.temp.intCampaign=o.intCampaign,delete o.intCampaign),!o.temp.intCampaign&&i.getQueryParam("icid")&&(o.temp.intCampaign=i.getQueryParam("icid")),o.temp.intCampaign&&(o.temp.intCampaign=i.getValOnce("intCampaign",o.temp.intCampaign)),o.temp.intCampaign&&(o.temp.events+=",event6"),o.intCampaignImp&&(o.temp.intCampaignImp=o.intCampaignImp,o.intCampaignImp="",o.temp.contentList1?o.temp.contentList1+=",":o.temp.contentList1="",o.temp.contentList1+=o.temp.intCampaignImp),o.contentList1&&(o.temp.contentList1?o.temp.contentList1+=","+o.contentList1:o.temp.contentList1=o.contentList1,delete o.contentList1),o.contentDefaultImp&&(o.temp.contentDefaultImp=o.contentDefaultImp,delete o.contentDefaultImp,o.temp.contentList1?o.temp.contentList1+=",":o.temp.contentList1="",o.temp.contentList1+=o.temp.contentDefaultImp,o.temp.events+=",event21"),o.contentDefaultClk&&(o.temp.contentDefaultClk=o.contentDefaultClk,delete o.contentDefaultClk),o.temp.contentDefaultClk&&(o.temp.contentList1=o.temp.contentDefaultClk,o.temp.events+=",event22"),o.offersImp&&(o.temp.offersImp=o.offersImp,delete o.offersImp,o.temp.contentList1?o.temp.contentList1+=",":o.temp.contentList1="",o.temp.contentList1+=o.temp.offersImp),o.offerClk&&(o.temp.offerClk=o.offerClk,delete o.offerClk),o.temp.offerClk&&(o.temp.contentList1=o.temp.offerClk),o.offerCTA&&(o.temp.offerCTA=o.offerCTA,delete o.offerCTA),o.temp.offerCTA&&(o.temp.contentList1=o.temp.offerCTA),o.targetImp&&(o.temp.targetImp=o.targetImp,delete o.targetImp,o.temp.contentList1?o.temp.contentList1+=",":o.temp.contentList1="",o.temp.contentList1+=o.temp.targetImp),o.targetClk&&(o.temp.targetClk=o.targetClk,delete o.targetClk),o.temp.targetClk&&(o.temp.contentList1=o.temp.targetClk),o.list2&&(o.temp.list2=o.list2,delete o.list2),o.products&&(o.temp.products=o.products,delete o.products),o.prodView&&(o.temp.prodView=o.prodView,delete o.prodView),o.temp.prodView&&(o.temp.products=o.temp.prodView,o.temp.events+=",prodView"),o.productCTA&&(o.temp.productCTA=o.productCTA,delete o.productCTA),o.temp.productCTA&&(o.temp.products=o.temp.productCTA,o.temp.events+=",event59"),o.transactionID&&(o.temp.transactionID=o.transactionID,delete o.transactionID),r.toggleLogin&&!0===r.toggleLogin){var d=_satellite.getVar("zGlobal_ds_wa_pl"),u=_satellite.getVar("zGlobal_ds_wa_pl_wac")||sessionStorage.getItem("ds_wa_pl_wac");if(d&&(!u||d!==u)){_satellite.logger.info("GP: Login detected - Adding event and login method");var g="";var m=/~lm:(.*)~/.exec(d);null!==m&&m[1]&&"p"===(g=m[1])&&(g="password"),o.temp.loginMethod=g||"unknown",o.temp.loginMethod=r.site+"|"+o.temp.loginMethod,o.temp.events+=",event35",sessionStorage.setItem("ds_wa_pl_wac",d);var p="ds_wa_pl_wac="+encodeURI(d)+";domain="+encodeURI(document.location.hostname)+";path=/;secure";document.cookie=p}}if(o.loginMethod&&(o.temp.loginMethod=o.loginMethod,delete o.loginMethod),o.profileFlowName&&(o.temp.profileFlowName=o.profileFlowName,delete o.profileFlowName),(o.profileFlowInfo||o.profileInfo)&&(o.profileFlowInfo?(o.temp.profileFlowInfo=o.profileFlowInfo,delete o.profileFlowInfo):o.profileInfo&&(o.temp.profileFlowInfo=o.profileInfo,delete o.profileInfo)),o.toolFlowName&&(o.temp.toolFlowName=o.toolFlowName,delete o.toolFlowName),(o.toolFlowInfo||o.toolInfo)&&(o.toolFlowInfo?(o.temp.toolFlowInfo=o.toolFlowInfo,delete o.toolFlowInfo):o.toolInfo&&(o.temp.toolFlowInfo=o.toolInfo,delete o.toolInfo)),o.serviceFlowName&&(o.temp.serviceFlowName=o.serviceFlowName,delete o.serviceFlowName),(o.serviceFlowInfo||o.serviceInfo)&&(o.serviceFlowInfo?(o.temp.serviceFlowInfo=o.serviceFlowInfo,delete o.serviceFlowInfo):o.serviceInfo&&(o.temp.serviceFlowInfo=o.serviceInfo,delete o.serviceInfo)),o.securityFlowName&&(o.temp.securityFlowName=o.securityFlowName,delete o.securityFlowName),(o.securityFlowInfo||o.securityInfo)&&(o.securityFlowInfo?(o.temp.securityFlowInfo=o.securityFlowInfo,delete o.securityFlowInfo):o.securityInfo&&(o.temp.securityFlowInfo=o.securityInfo,delete o.securityInfo)),o.truistCIF&&"string"!=typeof o.truistCIF&&(o.temp.debugAnalytics+=", warning: truistCIF is not string (converting it to string...)",o.truistCIF=""+o.truistCIF),o.newAcctExpType&&-1!=o.newAcctExpType.indexOf("teammate")&&delete o.truistCIF,-1!=o.pageName.indexOf("truist|digital_commerce_tm")&&delete o.truistCIF,o.trigger&&(o.temp.trigger=o.trigger,delete o.trigger),o.error&&(o.temp.systemError=o.error,delete o.error),o.temp.error&&(o.temp.systemError=o.temp.error,delete o.temp.error),o.systemError&&(o.temp.systemError=o.systemError,delete o.systemError),o.temp.systemError&&(o.temp.systemError=i.cleanText(o.temp.systemError),o.temp.events+=",event50"),o.validationError&&(o.temp.validationError=o.validationError,delete o.validationError),o.temp.validationError&&(o.temp.validationError=i.cleanText(o.temp.validationError),o.temp.events+=",event69"),o.searchResults&&(o.temp.searchResults=o.searchResults,delete o.searchResults),o.searchInfo&&(o.temp.searchInfo=o.searchInfo,delete o.searchInfo),o.searchTerm&&(o.temp.searchTerm=o.searchTerm,delete o.searchTerm),o.searchType&&(o.temp.searchType=o.searchType,delete o.searchType),o.newAcctNoofProducts&&(o.temp.newAcctNoofProducts=o.newAcctNoofProducts,delete o.newAcctNoofProducts),o.newAcctProductCrosssell&&(o.temp.newAcctProductCrosssell=o.newAcctProductCrosssell,delete o.newAcctProductCrosssell),o.newAcctExtraInfo&&(o.temp.newAcctExtraInfo=o.newAcctExtraInfo,delete o.newAcctExtraInfo),o.enrollmentType&&(o.temp.enrollmentType=o.enrollmentType,delete o.enrollmentType),o.enrollmentInfo&&(o.temp.enrollmentInfo=o.enrollmentInfo,delete o.enrollmentInfo),o.newAcctFundingType&&(o.temp.newAcctFundingType=o.newAcctFundingType,delete o.newAcctFundingType),o.newAcctAuthFlow&&(o.temp.newAcctAuthFlow=o.newAcctAuthFlow,delete o.newAcctAuthFlow),o.newAcctAppTerm&&(o.temp.newAcctAppTerm=o.newAcctAppTerm,delete o.newAcctAppTerm),o.newAcctBalTrxType&&(o.temp.newAcctBalTrxType=o.newAcctBalTrxType,delete o.newAcctBalTrxType),o.newAcctTMTGroup&&(o.temp.newAcctTMTGroup=o.newAcctTMTGroup,delete o.newAcctTMTGroup),o.newAcctContactType&&(o.temp.newAcctContactType=o.newAcctContactType,delete o.newAcctContactType),o.overlayName&&(o.temp.overlayName=o.overlayName,delete o.overlayName),o.fieldTrackingName&&(o.temp.fieldTrackingName=o.fieldTrackingName,delete o.fieldTrackingName),o.temp.fieldTrackingName&&(o.temp.events+=",event73"),o.transactionFlowName&&(o.temp.transactionFlowName=o.transactionFlowName,delete o.transactionFlowName),o.transactionFlowID&&(o.temp.transactionFlowID=o.transactionFlowID,delete o.transactionFlowID),o.transactionFromToAccts&&(o.temp.transactionFromToAccts=o.transactionFromToAccts,delete o.transactionFromToAccts),o.transactionFlowInfo&&(o.temp.transactionFlowInfo=o.transactionFlowInfo,o.transactionFlowInfo=""),o.locatorSearchType&&(o.temp.locatorSearchType=o.locatorSearchType,delete o.locatorSearchType),o.locatorSearchTerm&&(o.temp.locatorSearchTerm=o.locatorSearchTerm,delete o.locatorSearchTerm),o.locatorSearchExtraInfo&&(o.temp.locatorSearchExtraInfo=o.locatorSearchExtraInfo,delete o.locatorSearchExtraInfo),o.notificationName&&(o.temp.notificationName=o.notificationName,delete o.notificationName),o.temp.notificationName){let e=o.temp.notificationName.split(",");e.forEach((function(t,n){e[n]=i.cleanText(t)})),o.temp.notificationName=e.toString()}o.insightID&&(o.temp.insightID=o.insightID,delete o.insightID),o.workCode&&(o.temp.workCode=o.workCode,delete o.workCode),o.secureMessageID&&(o.temp.secureMessageID=o.secureMessageID,delete o.secureMessageID),o.secureMessageSubject&&(o.temp.secureMessageSubject=o.secureMessageSubject,delete o.secureMessageSubject),o.promoCenterQualDetails&&(o.temp.promoCenterQualDetails=o.promoCenterQualDetails,delete o.promoCenterQualDetails),"true"===sessionStorage.getItem("aep_debug")&&(o.testFlag=o.testFlag?o.testFlag+",aep_debug":"aep_debug"),"true"===sessionStorage.getItem("waData_debug")&&(o.testFlag=o.testFlag?o.testFlag+",waData_debug":"waData_debug"),o.testFlag&&(o.temp.testFlag=o.testFlag,delete o.testFlag),o.debugAnalytics&&(o.temp.debugAnalytics?o.temp.debugAnalytics+=", "+o.debugAnalytics:o.temp.debugAnalytics=o.debugAnalytics,delete o.debugAnalytics),o.debugTarget&&(o.temp.debugTarget=o.debugTarget,delete o.debugTarget),o.debugOffers&&(o.temp.debugOffers=o.debugOffers,delete o.debugOffers),o.debug3PT&&(o.temp.debug3PT=o.debug3PT,delete o.debug3PT),o.temp.debugAEP="domain:"+_satellite.getVar("zGlobal_edgeDomain")+",datastream:"+_satellite.getVar("zGlobal_datastreamID")+",dataset:"+_satellite.getVar("zGlobal_analyticsDatasetId"),o.debugAEP&&(o.temp.debugAEP+=","+o.debugAEP,delete o.debugAEP),o.debugETP&&(o.temp.debugETP=","+o.debugETP,delete o.debugETP);let f=document.querySelector('[href="https://privacycenter.truist.com"]')?"yes":"no",h=document.querySelector('script[src^="https://cdn.cookielaw.org/consent/"]')?"yes":"no",b=document.querySelector(".ot-sdk-show-settings")?"yes":"no",v=window.OptanonActiveGroups?"yes":"no",y=_satellite.cookie.get("OptanonConsent")?"yes":"no";(o.temp.debugETP=",privacyLink:"+f+",onetrustInclude:"+h+",onetrustLink:"+b+",onetrustWindowObj:"+v+",onetrustCookie:"+y,o.videoTitle&&(_satellite.logger.log("inside video tracking set vars"),o.temp.videoTitle=o.videoTitle,delete o.videoTitle),o.videoSegment&&(_satellite.logger.log("setting video segment"),o.temp.videoSegment=o.videoSegment,delete o.videoSegment),o.videoContentType&&(_satellite.logger.log("setting video content type"),o.temp.videoContentType=o.videoContentType,delete o.videoContentType),o.linkName&&(o.temp.linkName=o.linkName,delete o.linkName),o.linkURL&&(o.temp.linkURL=o.linkURL,delete o.linkURL),o.linkType&&(o.temp.linkType=o.linkType,delete o.linkType),o.temp.linkName&&!o.temp.linkType&&(o.temp.linkType="navigation"),"navigation"===o.temp.linkType&&o.temp.linkURL&&/(^http)/.test(o.temp.linkURL)&&!i.searchStringForArrayValues(new URL(o.temp.linkURL).hostname,_satellite.getVar("zGlobal_truist_domains"))&&(i.searchStringForArrayValues(new URL(o.temp.linkURL).hostname,_satellite.getVar("zGlobal_social_domains"))?(_satellite.logger.info("social network link detected. changing linkType to social..."),o.temp.linkType="social"):(_satellite.logger.info("exit link detected. changing linkType to exit..."),o.temp.linkType="exit")),o.temp.linkURL&&/^(tel:|mailto:)/.test(o.temp.linkURL)&&(o.temp.linkType=/(^tel:)/.test(o.temp.linkURL)?"phone":"email"),o.linkPosition&&(o.temp.linkPosition=o.linkPosition,delete o.linkPosition),null!==o.linkPosition&&null!==o.temp.linkPosition||(void 0!==o.linkPosition&&delete o.linkPosition,o.temp.linkPosition="null",_satellite.logger.warn("Processing Erorr: linkPosition is not a string!"),o.temp.debugAnalytics="warning: linkPosition is not string (null)"),o.linkPage&&(o.temp.linkPage=o.linkPage,delete o.linkPage),!o.temp.linkPage&&o.pageName&&o.temp.linkName&&(o.temp.linkPage=o.pageName),o.linkCategory&&(o.temp.linkCategory=o.linkCategory,delete o.linkCategory),o.fileDownloadName&&(o.temp.fileDownloadName=o.fileDownloadName,delete o.fileDownloadName),!o.temp.fileDownloadName&&"download"===o.temp.linkType&&o.temp.linkName&&(o.temp.fileDownloadName=o.temp.linkName),o.linkExtraInfo&&(o.temp.linkExtraInfo=o.linkExtraInfo,delete o.linkExtraInfo),(null===o.linkExtraInfo||null===o.temp.linkExtraInfo||void 0!==o.temp.linkExtraInfo&&"string"!=typeof o.temp.linkExtraInfo)&&(void 0!==o.linkExtraInfo&&delete o.linkExtraInfo,o.temp.linkExtraInfo="null",_satellite.logger.warn("Processing Erorr: linkExtraInfo is not a string!"),o.temp.debugAnalytics="warning: linkExtraInfo is not a string"),o.temp.linkName&&(o.events&&(o.events=i.cleanCSV(o.events,"event11"),o.events=i.cleanCSV(o.events,"event13")),o.temp.events&&(o.temp.events=i.cleanCSV(o.temp.events,"event11"),o.temp.events=i.cleanCSV(o.temp.events,"event13")),"download"===o.temp.linkType?o.temp.events+=",event12,event52":"exit"===o.temp.linkType?o.temp.events+=",event13,event52":"interaction"===o.temp.linkType?o.temp.events+=",event49,event52":"social"===o.temp.linkType?o.temp.events+=",event51,event52":"phone"===o.temp.linkType?o.temp.events+=",event56,event52":"email"===o.temp.linkType?o.temp.events+=",event57,event52":o.temp.events+=",event11,event52"),"web.webpagedetails.pageViews"===e||"1"===o.pageView)&&_satellite.getVar("zGlobal_AA_Global_Processing_PageViewOnly").go();o.temp.products&&(o.temp.products=i.cleanSProductStr(o.temp.products)),o.temp.products&&!o.temp.productsArray&&(o.temp.productsArray=i.convertProductStringToArray(o.temp.products)),o.events&&(o.temp.events+=","+o.events,o.events=""),o.temp.events?(o.temp.events=i.cleanCSV(o.temp.events),o.temp.eventsArray=o.temp.events.split(",")):o.temp.eventsArray=[],window.digitalDataWApre.push(i.clone(o));var _=i.clone(o);delete(_=i.cloneAssign(_,_.temp)).temp,o.temp={},_satellite.logger.info("***DataElement zGlobal_AA_Processing: Processing Completed.***"),_satellite.track("Analytics_Post",{triggerEvent:t,waData:_})}}}}},zSite_config:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{zGlobalVersion:"20251024",prodHosts:["truist.com","www.truist.com"],prdrHosts:["preview-www.truist.com","truistcom-aprd.truist.com"],edgeDomain:"edge.truist.com",aepSyncOverride:"",alloyEdgeMap:{sync_on:{play:"0f228634-9dd7-4d03-a7f4-3abd1ba5fe4b",itca:"0f228634-9dd7-4d03-a7f4-3abd1ba5fe4b",prdr:"9745f0c3-9e4c-425d-89f0-79b0923d340d",prod:"79e764cb-f746-4825-90e1-56468a6cd722"},sync_off:{play:"dacc9952-6aa3-497a-8001-4d4c26295f90",itca:"dacc9952-6aa3-497a-8001-4d4c26295f90",prdr:"6bfad59d-609d-4c9e-a997-b7d2e1ccc11d",prod:"37b9a4d2-fe7e-4245-9707-91d6a447911f"}},toggleLogin:!1,site:function(){var e="truist|com";if(e)return e;var t=_satellite.getVar("xSite_siteNames");return t||"truist|fallback"}(),utils:{}}}}},zGlobal_util_functionQueue:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.truist=_satellite.truist||{},_satellite.truist.functionQueue=_satellite.truist.functionQueue||{runFunction:function(e){_satellite.logger.info("functionQueue runFunction",e),this[e].inpFunction(),this[e].timeoutID=void 0},queueFunction:function(e,t,n){"string"==typeof e?"function"==typeof t?("number"!=typeof n&&(n=50),_satellite.logger.info("functionQueue queueFunction",e,t,n),this[e]&&"number"==typeof this[e].timeoutID&&this.cancel(e),this[e]={name:e,inpFunction:t,timeoutID:window.setTimeout(function(e){this.runFunction(e)}.bind(this),n,e)}):_satellite.logger.error("functionQueue error: bad function.",t):_satellite.logger.error("functionQueue error: bad function name.",e)},cancel:function(e){_satellite.logger.warn("functionQueue cancel",e),window.clearTimeout(this[e].timeoutID)}},_satellite.truist.functionQueue}}},zGlobal_pageName:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";window.digitalDataWA=window.digitalDataWA||{};var t=window.digitalDataWA;if(t.pageName)return e=t.pageName,_satellite.logger.info("zGlobal_pageName: cache detected: pageName= "+e),e;window.digitalDataWAUtils=window.digitalDataWAUtils||_satellite.getVar("zGlobal_utils");var n,o,r,a=window.digitalDataWAUtils,s=_satellite.getVar("xSite_pageName");if("string"==typeof s){if(_satellite.logger.info("xSite_pageName Data Element is available. Using that value."),""!==s)return e=s,e=a.cleanText(e),t.pageName=e,_satellite.logger.info("pageName derived from the Data Element xSite_pageName: "+e),e;_satellite.logger.info("*****xSite_pageName IS blank!*****")}else void 0!==s&&_satellite.logger.warn("*****xSite_pageName is "+typeof s+"!*****");if(window.glbPageData&&window.glbPageData.pageName)return e=window.glbPageData.pageName,e=a.cleanText(e),t.pageName=e,_satellite.logger.info("pageName derived from glbPageData.pageName: "+e),e;if(e="",n="|",r="home",(o=window.location.pathname.toLowerCase()).length>1){var l=o.split("/");for(i=1;i<l.length;i++)null!=l[i]&&""!=l[i]&&(e+=n,e+=l[i]);e=a.cleanText(e).replace(/(\.|\?).*/,""),e=_satellite.getVar("zSite_config").site+n+e}else e=_satellite.getVar("zSite_config").site+n+r;return _satellite.logger.info("pageName fallback used: pageName= "+e),t.pageName=e,e}}},"zGlobal_xdm._experience.analytics.event101to200":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(event){var waData=window.digitalDataWAposting||{};if(!waData.eventsArray||waData.eventsArray.length<1)return{};var event101to200={};return waData.eventsArray.forEach((item=>{if(!item)return;if(item.indexOf("event")<0)return;let regexArray=item.match(/(event)([^=]*)(.*)/),txt=regexArray[1];if(!txt)return;let num=regexArray[2],value=regexArray[3];Number(num)>100&&Number(num)<201&&(eval("event101to200.event"+num+"= {}"),value?eval("event101to200.event"+num+".value"+value):eval("event101to200.event"+num+".value= 1"))})),event101to200}}},"zGlobal_xdm._experience.analytics.event1to100":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(event){var waData=window.digitalDataWAposting||{};if(!waData.eventsArray||waData.eventsArray.length<1)return _satellite.logger.info("xdm._experience.analytics.event1to100: no events."),{};var event1to100={};return waData.eventsArray.forEach((item=>{if(!item)return;if(item.indexOf("event")<0)return;let regexArray=item.match(/(event)([^=]*)(.*)/),txt=regexArray[1];if(!txt)return;let num=regexArray[2],value=regexArray[3];Number(num)<101&&(eval("event1to100.event"+num+"= {}"),value?eval("event1to100.event"+num+".value"+value):eval("event1to100.event"+num+".value= 1"))})),event1to100}}},zGlobal_etp_onetrust_optout:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.OptanonActiveGroups;if(_satellite.logger.info("DE: zGlobal_etp_onetrust_optout: oneTrustAG origially is: "+e),e&&",,"!==e)return _satellite.logger.info("DE: zGlobal_etp_onetrust_optout: oneTrustAG found with valid info: "+e),e.indexOf("SPD_BG")>-1||e.indexOf("C0004")>-1||e.indexOf("C0005")>-1?(_satellite.logger.info("DE: zGlobal_etp_onetrust_optout: false"),!1):(_satellite.logger.info("DE: zGlobal_etp_onetrust_optout: true"),!0);",,"===e&&_satellite.logger.info("DE: zGlobal_etp_onetrust_optout: oneTrustAG found with bad info: "+e),e||_satellite.logger.info("DE: zGlobal_etp_onetrust_optout: no oneTrustAG, getting cookie...");var t=_satellite.cookie.get("OptanonConsent");return!(!t||!t)&&(_satellite.logger.info("DE: zGlobal_etp_onetrust_optout: oneTrustCookie found with valid info: "+t),t.indexOf("SPD_BG:1")>-1||t.indexOf("C0004:1")>-1||t.indexOf("C0005:1")>-1?(_satellite.logger.info("DE: zGlobal_etp_onetrust_optout: false"),!1):(_satellite.logger.info("DE: zGlobal_etp_onetrust_optout: true"),!0))}}},"3pt_gtag":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{gtag("event","conversion",{send_to:"AW-"+e.account+"/"+e.identifier}),"377173270"===e.account?_satellite.logger.log("3PT Youtube fired with: AW-"+e.account+"/"+e.identifier):_satellite.logger.log("3PT Gtag fired with : AW-"+e.account+"/"+e.identifier)}catch(e){_satellite.logger.log("3PT ERROR firing Gtag or Youtube script: "+e)}}}}},zGlobal_alloyPrehideUtil:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(_satellite.truist=_satellite.truist||{},_satellite.truist.alloyPrehideUtil)return _satellite.truist.alloyPrehideUtil;_satellite.logger.info("alloy-prehiding initialized");var e="2.2",t="page_alloy_prehiding_selectors",n=function(e){var n=_satellite.getVar(t)||[];n.push(e),_satellite.setVar(t,n)},o=function(e){e=e||" { opacity: 0 !important; } ";var n=(_satellite.getVar(t)||[]).join(",");if(n&&(n+=e),!(n+=_satellite.getVar("zSite_alloy_prehiding_css")||""))return!1;var o=_satellite.getVar("zSite_AT_alloyConfig").getTargetUtilVars(),i=(o[5],o[11]||"alloy-prehide"),r=o[12]||3e3;r+=1e3;var a=o[13]||"target_prehide_timeout_expired";_satellite.logger.info("alloy-prehiding css",n+""),_satellite.logger.info("alloy-prehiding id",i+""),_satellite.setVar("alloy-prehiding-start",Date.now()),function(e,t,n,o){var r=e.head;if(r){if(t)return;var s=e.createElement("style");s.id=i,s.innerText=n,r.appendChild(s),setTimeout((function(){_satellite.logger.info("alloy-prehiding timeout expired",Date.now()-_satellite.getVar("alloy-prehiding-start")),_satellite.setVar(a,!0),s.parentNode&&s.parentNode.removeChild(s)}),o)}}(document,-1!==document.location.href.indexOf("adobe_authoring_enabled"),n,r)};return _satellite.truist.alloyPrehideUtil={version:e,addPageLoadSelector:n,executePageLoadPrehide:o},_satellite.truist.alloyPrehideUtil}}},zGlobal_etp_gpc_optout:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!0===navigator.globalPrivacyControl}}},getVOCEnvir:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t="dev",n=location.hostname.toLowerCase(),o=_satellite.getVar("zSite_config").prodHosts;for(e=0;e<o.length;e++)n===o[e]&&"production"===_satellite.buildInfo.environment&&(t="prod");return t}}},zGlobal_xdm:{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{URL:"%zGlobal_xdm.web.webInteraction.url%",name:"%zGlobal_xdm.web.webInteraction.name%",type:"%zGlobal_xdm.web.webInteraction.type%",linkClicks:{value:"%zGlobal_xdm.web.webInteraction.linkClicks.value%"}},webPageDetails:{name:"%zGlobal_xdm.web.webPageDetails.name%",server:"%zGlobal_xdm.web.webPageDetails.server%",pageViews:{value:"%zGlobal_xdm.web.webPageDetails.pageViews.value%"},siteSection:"%zGlobal_xdm.web.webPageDetails.siteSection%"}},commerce:{productViews:{value:"%zGlobal_xdm.commerce.productViews.value%"}},eventType:"%zGlobal_xdm.eventType%",_experience:{analytics:{event1to100:"%zGlobal_xdm._experience.analytics.event1to100%",event101to200:"%zGlobal_xdm._experience.analytics.event101to200%",event201to300:"%zGlobal_xdm._experience.analytics.event201to300%",event801to900:"%zGlobal_xdm._experience.analytics.event801to900%",event901to1000:"%zGlobal_xdm._experience.analytics.event901to1000%",customDimensions:{eVars:{eVar1:"%zGlobal_xdm._experience.analytics.customDimensions.eVars.eVar1%"}}}},productListItems:"%zGlobal_xdm.productListItems%",_suntrustbanksinc:{waData:"%zGlobal_xdm._suntrustbanksinc.waData%"}},sandbox:{name:"itca"}}},"3pt_matrix_LP":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{"truist|com|home":{gtag:{account:"1032153865",identifier:"PdvKCJzwsvsCEInWlewD"}},"truist|com|care":{floodlight_2:{type:"care_0",cat:"truis000",u2:document.location.pathname,cache_bust:"off"}},"truist|com|checking|truist_one_banking":{gtag:{account:"1032153865",identifier:"GtGpCMr3svsCEInWlewD"},floodlight_2:{type:"landi0",cat:"truis00r",u2:document.location.pathname,cache_bust:"off"}},"truist|com|checking|one_simple_choice":{impact:{campaignId:"16852",customerId:"",customerEmail:""}},"truist|com|checking|checking_offer":{yahoo:{yp:"10176830",ea:""},cognitiv:"https://beacon.lynx.cognitivlabs.com/pixel/capture?tags=truist_homepage",floodlight_2:{type:"landi0",cat:"truis001",cache_bust:"off"}},"truist|com|checking|student_checking":{gtag:{account:"1032153865",identifier:"OmOXCL6YtfsCEInWlewD"}},"truist|com|checking|open_checking":{floodlight_2:{type:"landi0",cat:"truis00j",u1:"",u2:document.location.pathname,cache_bust:"off"}},"truist|com|savings":{gtag:{account:"1032153865",identifier:"y3-fCNKjtfsCEInWlewD"}},"truist|com|savings|certificate_of_deposit":{gtag:{account:"1032153865",identifier:"-ZP8CK_1ivsCEInWlewD"}},"truist|com|investing_retirement|investing_services":{gtag:{account:"1032153865",identifier:"0KSRCLyQs_sCEInWlewD"},floodlight_2:{type:"landi0",cat:"truis004",cache_bust:"false"}},"truist|com|digital_banking":{gtag:{account:"1032153865",identifier:"4Zh8CO6qtfsCEInWlewD"}},"truist|com|digital_banking|digital_wealth":{gtag:{account:"1032153865",identifier:"-rxvCPystfsCEInWlewD"}},"truist|com|checking|premier_banking":{gtag:{account:"1032153865",identifier:"M1cnCK73ivsCEInWlewD"}},"truist|com|checking|premier_banking|financial_planning":{gtag:{account:"1032153865",identifier:"zrquCOW2tfsCEInWlewD"}},"truist|com|checking|premier_banking|benefits_rewards":{gtag:{account:"1032153865",identifier:"53VGCOChiP0CEInWlewD"}},"truist|com|commercial_corporate_institutional":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"},floodlight_2:{type:"lobad0",cat:"truis003",cache_bust:"off",u1:"",u2:document.location.pathname}},"truist|com|commercial_corporate_institutional|banking":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"},floodlight_2:{type:"landi0",cat:"truis00k",u1:"",u2:document.location.pathname,cache_bust:"off"}},"truist|com|commercial_corporate_institutional|banking|business_banking":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|business_insights":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"},floodlight_2:{type:"lobad0",cat:"truis003",cache_bust:"off",u1:"",u2:document.location.pathname}},"truist|com|commercial_corporate_institutional|banking|commercial_banking":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|banking|middle_market_banking":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|banking|business_lifecycle_advisory":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"},floodlight_2:{type:"lobad0",cat:"truis003",cache_bust:"off",u1:"",u2:document.location.pathname}},"truist|com|commercial_corporate_institutional|financing":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|manage_cash_flow|checking_solutions":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|manage_cash_flow|information_reporting":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|manage_cash_flow|merchant_services":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|manage_cash_flow|payables":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|risk_management|business_insurance":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|resources|commercial_corporate_institutional|risk_management|articles|risk_management_strategies_to_protect_your_business":{floodlight_2:{type:"lobad0",cat:"truis003",cache_bust:"off",u1:"",u2:document.location.pathname}},"truist|com|resources|commercial_corporate_institutional|strategic_advice|articles|how_to_prepare_your_business_for_a_recession":{floodlight_2:{type:"lobad0",cat:"truis003",cache_bust:"off",u1:"",u2:document.location.pathname}},"truist|com|resources|commercial_corporate_institutional|employee_benefits|articles|talent_optimization_strategies_for_employee_retention":{floodlight_2:{type:"lobad0",cat:"truis003",cache_bust:"off",u1:"",u2:document.location.pathname}},"truist|com|resources|commercial_corporate_institutional|investment_banking|articles|how_truist_securities_leaders_collaborate_to_improve_client_experience":{floodlight_2:{type:"unive0",cat:"truis0",u1:"",u2:document.location.pathname,cache_bust:"off"}},"truist|com|resources|commercial_corporate_institutional|strategic_advice|videos|truist_helps_biote_expand_into_new_markets":{floodlight_2:{type:"unive0",cat:"truis0",u1:"",u2:document.location.pathname,cache_bust:"off"}},"truist|com|commercial_corporate_institutional|industry_expertise|commercial_real_estate":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|industry_expertise|commercial_real_estate|our_expertise":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|industry_expertise|commercial_real_estate|contact_us":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|contact_form":{floodlight_2:{type:"landi0",cat:"truis00f",u1:"",u2:document.location.pathname,cache_bust:"off"}},"truist|com|commercial_corporate_institutional|contact_form|thank_you":{floodlight_2:{type:"landi0",cat:"truis00g",u1:"",u2:document.location.pathname,cache_bust:"off"}},"truist|com|commercial_corporate_institutional|investment_banking":{floodlight_2:{type:"landi0",cat:"truis00n",u1:"",u2:document.location.pathname,cache_bust:"off"}},"truist|com|credit_cards":{gtag:{
account:"1032153865",identifier:"jjWICNC_tfsCEInWlewD"}},"truist|com|credit_cards|enjoy_cash":{gtag:{account:"1032153865",identifier:"izn8CIWqs_sCEInWlewD"},yahoo:{yp:"10176829",ea:""},floodlight_2:{type:"landi0",cat:"truis003",cache_bust:"off"}},"truist|com|credit_cards|enjoy_cash_secured":{gtag:{account:"1032153865",identifier:"9mFTCPHFtfsCEInWlewD"}},"truist|com|credit_cards|enjoy_travel":{gtag:{account:"1032153865",identifier:"63OaCOmrs_sCEInWlewD"}},"truist|com|credit_cards|enjoy_beyond":{gtag:{account:"1032153865",identifier:"-douCInJtfsCEInWlewD"}},"truist|com|credit_cards|future":{gtag:{account:"1032153865",identifier:"RzwECPCSi_sCEInWlewD"}},"truist|com|credit_cards|deals":{gtag:{account:"1032153865",identifier:"b6w_CLbJtfsCEInWlewD"}},"truist|com|loans":{gtag:{account:"1032153865",identifier:"JC5BCK2Ri_sCEInWlewD"}},"truist|com|loans|heloc":{gtag:{account:"1032153865",identifier:"aP-vCKbLtfsCEInWlewD"}},"truist|com|loans|auto_loans":{gtag:{account:"1032153865",identifier:"jiceCOCxs_sCEInWlewD"}},"truist|com|loans|recreational_loans":{gtag:{account:"1032153865",identifier:"Bs2SCM2zs_sCEInWlewD"}},"truist|com|loans|recreational_loans|marine_loans":{gtag:{account:"1032153865",identifier:"WnhSCPfUtfsCEInWlewD"}},"truist|com|loans|recreational_loans|boat_loans":{gtag:{account:"1032153865",identifier:"HaC8CKuys_sCEInWlewD"}},"truist|com|loans|recreational_loans|rv_loans":{gtag:{account:"1032153865",identifier:"B7cyCOq1s_sCEInWlewD"}},"truist|com|mortgage":{gtag:{account:"1032153865",identifier:"nDa1CNeCi_sCEInWlewD"}},"truist|com|mortgage|buy_home":{gtag:{account:"1032153865",identifier:"BLG9CLiEi_sCEInWlewD"}},"truist|com|mortgage|refinance":{gtag:{account:"1032153865",identifier:"z28iCOCFi_sCEInWlewD"}},"truist|com|mortgage|correspondent_lending":{gtag:{account:"1032153865",identifier:"9YVoCJKIi_sCEInWlewD"}},"truist|com|money_mindset":{gtag:{account:"1032153865",identifier:"CC5SCLu_tfsCEInWlewD"}},"truist|com|resources":{floodlight_2:{type:"landi0",cat:"truis00q",u1:"",u2:document.location.pathname,cache_bust:"off"}},"truist|com|resources|commercial_corporate_institutional":{floodlight_2:{type:"landi0",cat:"truis00m",u1:"",u2:document.location.pathname,cache_bust:"off"},deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|resources|commercial_corporate_institutional|strategic_advice|videos|expanding_global_presence":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|small_business":{gtag:{account:"1032153865",identifier:"GUOyCJyRuPsCEInWlewD"}},"truist|com|small_business|banking|checking":{gtag:{account:"1032153865",identifier:"kPmwCOz7tfsCEInWlewD"},floodlight_2:{type:"landi0",cat:"truis00",cache_bust:"off"}},"truist|com|small_business|banking|checking_offer":{floodlight_2:{type:"landi0",cat:"truis0",cache_bust:"off"}},"truist|com|small_business|banking|checking|simple_business_checking":{gtag:{account:"1032153865",identifier:"5V01CIT8tfsCEInWlewD"}},"truist|com|small_business|banking|checking|dynamic_business_checking":{gtag:{account:"1032153865",identifier:"uT1HCLX9tfsCEInWlewD"}},"truist|com|small_business|credit_cards":{gtag:{account:"1032153865",identifier:"9ooTCLSauPsCEInWlewD"}},"truist|com|small_business|credit_cards|business_cash_rewards":{gtag:{account:"1032153865",identifier:"iAlnCKCDtvsCEInWlewD"}},"truist|com|small_business|loans|auto_loan":{gtag:{account:"1032153865",identifier:"OjmRCMnxjfsCEInWlewD"}},"truist|com|small_business|loans|real_estate_loan":{gtag:{account:"1032153865",identifier:"y1uvCPvzjfsCEInWlewD"}},"truist|com|small_business|loans|line_of_credit":{gtag:{account:"1032153865",identifier:"JPf5CNWFtvsCEInWlewD"}},"truist|com|wealth":{gtag:{account:"1032153865",identifier:"uQD1CK6js_sCEInWlewD"},floodlight_2:{type:"landi0",cat:"truis00p",u1:"",u2:document.location.pathname,cache_bust:"off"}},"truist|com|resources|wealth|financial_planning|ive_been_meaning_to_do_that_podcast":{floodlight_2:{type:"lobad0",cat:"truis0",cache_bust:"off",u1:"",u2:document.location.pathname}},"truist|com|loans|personal_loans|unsecured_personal_loans":{gtag:{account:"1032153865",identifier:"ONHtCN-Wi_sCEInWlewD"}}}}}},"zGlobal_xdm.commerce.productViews.value":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.digitalDataWAposting.eventsArray.find((e=>"prodView"===e))?1:0}}},"3pt_twitter":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{if(e.hasOwnProperty("identifier")&&twq("event",e.identifier,{}),e.hasOwnProperty("image1")&&e.hasOwnProperty("image2")){var t=document.createElement("img"),n=document.createElement("img");t.setAttribute("src",e.image1),n.setAttribute("src",e.image2),t.setAttribute("height","1"),t.setAttribute("width","1"),t.setAttribute("style","display:none"),t.setAttribute("alt",""),n.setAttribute("height","1"),n.setAttribute("width","1"),n.setAttribute("style","display:none"),n.setAttribute("alt",""),document.body.appendChild(t),document.body.appendChild(n),_satellite.logger.log("3PT Twitter pixel fired with: "+e.image1+" , "+e.image2)}}catch(e){_satellite.logger.log("error appending Twitter image tags: "+e)}}}}},zGlobal_alloyTargetUtil:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={version:"1.1.0.11"},t=_satellite.getVar("zGlobal_util_functionQueue"),n=_satellite.getVar("zGlobal_utils"),o=_satellite.getVar("zSite_AT_alloyConfig"),i=o.getTargetUtilVars(),r=i[0],a=i[1],s=i[2],l=i[3],c=i[4],d=i[5],u=i[6],g=i[7],m=i[8],p=(i[9],i[10]),f=i[11]||"alloy-prehide",h=i[12]||3e3,b=i[13]||"target_prehide_timeout_expired",v=o.getTargetProperty(),y=i[14]||0,_=i[15]||y?"pre":"await";_satellite.logger.info("target_default_prefetch_mode",_);var w=i[16]||"target_mbox_parameters",C="true"===sessionStorage.getItem("target_debug")||"true"===sessionStorage.getItem("aep_debug"),k=function(e,t,n,o){if(C){_satellite.logger.info("debugAddDOMElements tracking_id",e);var i,r={selector_element:t,tracking_element:n,tracking_id:e,tracking_links:o},a=_satellite.getVar("target_debug"),s=a.dom_elements.length;for(i=0;i<s;i++)if(a.dom_elements[i].tracking_id===r.tracking_id&&a.dom_elements[i].tracking_element===r.tracking_element)return void _satellite.logger.warn("duplicate");return a.dom_elements.push(r),_satellite.setVar("target_debug",a),r}},P=function(e){var t=e.tracking_id;if(C&&t){target_debug=_satellite.getVar("target_debug"),dom_elements=target_debug.dom_elements;for(var n=0,o=dom_elements.length;n<o;n++){var i=dom_elements[n];if(e.tracking_id===i.tracking_id){var r=e.data||{},a=e.meta||{};i.proposition_item=e,i.selector=r.selector,i.activity_name=a["activity.name"],i.experience_name=a["experience.name"],i.offer_id=a["offer.id"],i.rendered=e.rendered,i.tracked=e.tracked,target_debug.dom_elements[n]=i;break}}_satellite.setVar("target_debug",target_debug)}},E=function(){return _satellite.logger.info("debugModeInit"),C&&(_satellite.setDebug(!0),target_debug={dom_elements:[],proposition_items:[]},target_debug.summary=function(){console.log("Adobe Target Debug Summary:","Errors",target_debug.errors,"proposition items returned",target_debug.proposition_items,"elements affected",target_debug.dom_elements)},_satellite.setVar("target_debug",target_debug),D(5e3)),C},T=function(){if(C){var e=(_satellite.getVar(d)||{}).propositions;if(e){for(var t=[],n=0,o=e.length;n<o;n++){t.push(...e[n].items);for(var i=0,r=e[n].items.length;i<r;i++)P(e[n].items[i])}return target_debug=_satellite.getVar("target_debug"),target_debug.proposition_items=t,_satellite.setVar("target_debug",target_debug),t}}},I=function(){T(),console.log("---target debug start---"),console.log(_satellite.getVar("target_debug")),console.log("---target debug end---")},D=function(e){_satellite.logger.info("queueReportTargetDebugResults START",e),t.queueFunction("reportTargetDebugResults",I,e),_satellite.logger.info("queueReportTargetDebugResults END",e)},A=function(e,t){_satellite.logger.info("alloyUnhide START");let n,o=0,i=0;if(e&&(_satellite.logger.warn("alloyUnhide elements",e),e.forEach((t=>{let r=t.querySelectorAll("img");i+=r.length,r.forEach((t=>{t.complete?(_satellite.logger.warn("alloyUnhide imgs",e),o++):t.addEventListener("load",(()=>{o++,_satellite.logger.info("alloyUnhide img load: loaded_elements",o,i,n),o===i&&(clearTimeout(n),A())}))}))}))),i>o||t){_satellite.logger.warn("alloyUnhide delayed: "+(t?"jQuery":"Elements")+" loading...");let e=Math.max(_satellite.getVar("alloy-prehiding-start")||0+h-Date.now(),0);n=setTimeout(A,e)}else{_satellite.logger.info("alloyUnhide PROCEEDING");var r=document.getElementById(f)||{id:""};switch(_satellite.logger.info("target_prehiding_style_element",r),r.id){case"":return;case"alloy-prehiding":_satellite.logger.info('alloyUnhide innerText=""'),r.innerText="";break;default:_satellite.logger.info("alloyUnhide target_prehiding_style_element.remove()"),r.remove()}_satellite.logger.info("alloyUnhide END")}},S=function(e,t){var n="pre"===(t=t||_),o=!n;_satellite.logger.info("prefetchPropositions start","mode_pre",n,"mode_await",o),_satellite.logger.info("prefetchPropositions",e);for(var i=[],r=[],a=[],l=0,c=e.length;l<c;l++)for(var d=e[l],u=d.items,g=0,m=u.length;g<m;g++){var p=u[g];!p.prefetched&&p.data&&p.data.content&&p.data.content[s]&&(i=i.concat(p.data.content[s]),p.prefetched=d.renderAttempted=!0,r.push(e[l]),a.push(X(p)))}Z();var f=0,h=i.length;if(!h)return!1;for(var b=[],v=[],y={},w=function(e){var t=e.mbox;if(!(t&&t.name&&e.selector&&e.trigger&&e.trigger.type&&e.trigger.selector))return!1;var i=t.parameters;if("object"==typeof t.profileParameters)for(var r in t.profileParameters)i["profile."+r]=t.profileParameters[r];if(o&&x(t.name,e,i),n){Object.assign(y,i);var a=t.name,s={mbox:a,notificationParams:i,parameters:y,customLinkData:e.customLinkData,selector:e.selector,trigger:e.trigger,update_cache:!0};b.push(a),v.push(s)}};f<h;f++)w(i[f]);if(o)return _satellite.logger.info("awaitTriggerPropositions end"),!0;if(!b.length)return _satellite.logger.info("prefetchPropositions mboxes.length < 1"),!1;var C={decision_scopes:b,render_decisions:!1,request_data:z(y),response_meta:v,response_rule:"handlePrefetchPropositions"};M(C)},x=function(e,t,n){if(_satellite.logger.info("setAwaitTrigger",e,t,n),!e||!t)return _satellite.logger.error("setViewTriggers FAILED",e,t,n),!1;var o=t.trigger.type||"click",i=function(){return document.querySelector(t.trigger.selector)||null},r=function(){_satellite.logger.warn("alloyTargetApplyMbox",e);var a=document.querySelector(t.selector);a.style.opacity=0;var s=!1,l=function(){a.style.opacity=1},c=setTimeout((function(){l(),s=!0}),h),d=function(){return s||(clearTimeout(c),l()),s},u={request_data:z(n),decision_scopes:[e],response_rule:"handleAwaitTriggerProposition",response_meta:{mbox:e,parameters:n,customLinkData:t.customLinkData,selector:t.selector,runReveal:d,await_timeout_expired:s}};M(u),i().removeEventListener(o,r)},a=function(){var e=i();return!!e&&(e.addEventListener(o,r),!0)},s=function(){if(!a())var e=0,t=setInterval((function(){(++e>100||a())&&clearInterval(t)}),50)};a()||("loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()),_satellite.setVar("mbox_"+e,{getTriggerElement:i})};e.handleAwaitTriggerProposition=function(e){_satellite.logger.info("handleAwaitTriggerProposition event_detail",e);var t=e.response.results.propositions[0],n=_satellite.getVar(d);n.propositions.push(t),_satellite.setVar(d,n);var o=t.items[0],i=e.response_meta;if(i.await_timeout_expired)return _satellite.logger.info("await_timeout_expired"),!1;i.customLinkData&&(o.customLinkData=i.customLinkData),i.mbox&&(o.mbox=i.mbox),i.parameters&&(o.parameters=i.parameters),i.selector&&(o.selector=i.selector),o.data&&(o.data.selector=o.selector),_satellite.logger.info("handleAwaitTriggerProposition render start");var r=document.querySelector(i.selector);return t.renderAttempted=!0,o.schema.indexOf("default")>-1&&t.items&&t.items[0]&&!t.items[0].data?t.items[0].data={selector:i.selector}:o.schema.indexOf("html")>-1&&(r.innerHTML=o.data.content),_satellite.logger.info("handleAwaitTriggerProposition render reveal"),"function"==typeof i.runReveal&&i.runReveal(),_satellite.logger.info("handleAwaitTriggerProposition render end"),re(e={results:{propositions:[t]}}),!0};var O=function(e){for(var t=(_satellite.getVar(d)||{}).propositions,n=null,o=0,i=t.length;o<i;o++)for(var r=t[o].items,a=0,s=r.length;a<s;a++)if(r[a].tracking_id===e){n=t[o],s=i=0;break}return n},R=function(e,t,n){for(var o=e,i=t.split("."),r=i.length,a=0;a<r-1;a++){var s=i[a];o[s]||(o[s]={}),o=o[s]}o[i[r-1]]=n},j=function(e){return e&&"object"==typeof e&&!Array.isArray(e)},N=function(e,...t){if(!t.length)return e;const n=t.shift();if(j(e)&&j(n))for(const t in n)j(n[t])?(e[t]||Object.assign(e,{[t]:{}}),N(e[t],n[t])):Object.assign(e,{[t]:n[t]});return N(e,...t)},L=function(){var e={com_adobe_experience_platform:{datasets:{event:{datasetId:o.getTargetDatasetId()}}}};return v&&(e.com_adobe_target={propertyToken:v}),e},M=function(e){_satellite.logger.info("getPropositions config:",e),e=e||{};var t=N(_satellite.getVar(c)||{},e.xdm);_satellite.logger.warn("request_xdm MERGE"),_satellite.logger.info("_satellite.getVar("+c+")",_satellite.getVar(c)),_satellite.logger.info("config.xdm",e.xdm),_satellite.logger.info("request_xdm",t),t.eventType=t.eventType||"decisioning.propositionTrigger",R(t,"_experience.decisioning.propositionEventType.trigger",1);var n=["__view__"];e.decision_scopes&&"string"==typeof e.decision_scopes[0]&&(n=e.decision_scopes),void 0===e.render_decisions&&(e.render_decisions=!1);var o=!!e.render_decisions,i=_satellite.getVar(l)||{};i=Object.assign(i,e.request_data||{});var r=e.response_meta,a=e.response_rule||"handlePropositions",s={data:i,decisionScopes:n,edgeConfigOverrides:L(),renderDecisions:o,xdm:t},d=!1,u=setTimeout((function(){d=!0}),h);window.alloy("sendEvent",s).then((function(e){g({results:e})})).catch((function(e){g({error:e})})),_satellite.logger.info("getPropositions"),_satellite.logger.info("response_rule",a),_satellite.logger.info("response_meta",r),_satellite.logger.info("event_data",s);var g=function(e){e.results&&e.results.propositions&&(_satellite.logger.info("response.results",JSON.parse(JSON.stringify(e.results))),e.results.propositions=V(e.results.propositions,d)),clearTimeout(u),_satellite.track(a,{response:e,response_meta:r})}};e.getPropositions=M;var V=function(e,t){if(!e||!e[0])return e;var n=_satellite.getVar(b);if(t||n)for(var o of(_satellite.logger.info("truth",!!t,!!n),e))"__view__"===o.scope&&(o.renderAttempted=!0,o.render_timeout_exceeded=!0,_satellite.logger.info("Alloy render attempt blocked due to prehide timeout exceeded.",o.items[0].meta,o));return e},G=function(e){_satellite.logger.info("getGlobalMboxParameters",e);var t=window.glbPageData||{},o={pageName:e.pageName||t.pageName||_satellite.getVar("zGlobal_pageName"),cleanURL:n.cleanUrl([window.location.protocol,"//",window.location.host,window.location.pathname].join(""))};window.location.search&&(o.queryString=n.cleanUrl(window.location.search));var i=e.products||t.products||t.prodView||"",r=n.convertProductStringToArray||null,a=n.cleanSProductStr||null;if(_satellite.logger.warn("gpd",JSON.stringify(t)+" "),_satellite.logger.info("products",i+" "),_satellite.logger.info("convertProductStringToArray",typeof r),_satellite.logger.info("cleanSProductStr",typeof a),i&&r&&a){o.products=a(i),_satellite.logger.info("default_parameters.products",o.products+" ");var s=r(o.products);_satellite.logger.info("products_arr",s,"typeof",typeof s[0]),"object"==typeof s[0]&&(o.productNames=s.map((e=>e.name)).join(","),_satellite.logger.info("productNames",s.map((e=>e.name)),"joined",o.productNames))}return Object.assign(o,e||{})},z=function(e){return{__adobe:{target:(e=G(e))||{}}}},F=function(e){var t="function"==typeof jQuery;return t&&e&&(t=e instanceof jQuery),t},U=function(e){var t=[];return e.forEach((e=>{e.renderAttempted&&e.render_timeout_exceeded||t.push(e)})),t},q=function(e){_satellite.logger.info("renderPropositions START",e),e=V(e);var t=U(e);window.alloy("applyPropositions",{propositions:t}).then((function(e){o(e)})).catch((function(e){o({error:e})}));var n="handleRenderedPropositions",o=function(e){_satellite.logger.info("renderPropositions END",e),_satellite.track(n,{results:e})}},W=function(e){var t=new CustomEvent("adobePropositionRendered",{detail:{type:"target",results:{propositions:e}}});window.dispatchEvent(t)},$=function(e){Q(e)},B=function(e,t,n){_satellite.logger.info("sendEventTrackPropositionsInteraction"),_satellite.logger.info(e),_satellite.logger.info(t),_satellite.logger.info(n),H(t,n),Q(e)},H=function(e,t){if(!e)return!1;var n=_satellite.getVar(c)||{};n.eventType="decisioning.propositionDisplay",R(n,"_experience.decisioning.propositionEventType.display",1),n._experience.decisioning.propositions=n._experience.decisioning.propositions||[],n._experience.decisioning.propositions.push({scope:e});var o={xdm:n};o.data=z(t),window.alloy("sendEvent",o)},Q=function(e){if(!e)return!1;for(var t=[],n=0,o=e.length;n<o;n++)t.push({id:e[n].id,scope:e[n].scope,scopeDetails:e[n].scopeDetails});if(t.length<1)return!1;var i=_satellite.getVar(c)||{};i._experience={decisioning:{propositions:t}},i.eventType="decisioning.propositionDisplay";var r={documentUnloading:!0,edgeConfigOverrides:L(),renderDecisions:!1,xdm:i};window.alloy("sendEvent",r)},J=function(e,t,n){_satellite.logger.info("setMboxTrigger Prefetch Personalization handler",e),_satellite.logger.info("setMboxTrigger Prefetch Personalization response_mbox",t),Object.assign(t,e),t.data&&(t.data.selector=t.selector);var o=t.trigger.type,i=null,r=function(){return i||(i=document.querySelector(t.trigger.selector)||null)},a=t.trigger.render||!1,s=function(){if(_satellite.logger.info("setMboxTrigger trackPrefetch START response_mbox",t),n.renderAttempted){re({results:{propositions:[n]}});var e=r();e.removeEventListener(o,l),e.removeEventListener(o,s)}},l=function(){if(_satellite.logger.info("setMboxTrigger renderPrefetch START response_mbox",t),n.renderAttempted=!0,t.schema.indexOf("default")>-1&&n.items&&n.items[0]&&!n.items[0].data)n.items[0].data={selector:t.selector};else if(t.schema.indexOf("html")>-1){var e=document.querySelector(t.selector);if(!e)return!1;e.innerHTML=t.data.content}return a&&s(),!0},c=function(){var e=r();return!!e&&(a?e.addEventListener(o,l):e.addEventListener(o,s),!0)},d=function(){_satellite.logger.info("setMboxTrigger domManipulation response_mbox",t);var e=r();return!!e&&((a||l())&&c(e))},u=function(){if(!d())var e=0,t=setInterval((function(){(++e>100||d())&&clearInterval(t)}),50)};d()||("loading"===document.readyState?window.addEventListener("DOMContentLoaded",u):u())},K=function(e){var t=e.data;if(t){var n=[],o=[],i=null;if("head"!==t.selector){if(F())i=jQuery(t.selector)[0],_satellite.setVar("personalizationAwaitingJQuery",!1);else try{i=document.querySelector(t.selector)}catch(e){_satellite.setVar("personalizationAwaitingJQuery",!0)}if(i){var r=null;switch(t.type){case"insertAfter":if((r=i.nextElementSibling)&&"META"===r.tagName)for(;r&&"DIV"!==r.tagName&&"container"!==r.className;)r=r.nextElementSibling;break;case"insertBefore":r=i.previousElementSibling;break;default:r=i}r.classList.add("at-element-marker"),o.push(r)}}else{var s=t.content;if(!s)return;var l=document.implementation.createHTMLDocument();l.body.innerHTML=s;for(var c=[].map.call(l.scripts,(function(e){return e.textContent})),d=[],m=0,p=(c=c.join("\n").split("\n")).length;m<p;m++){c[m].search(a)>-1&&d.push(c[m])}try{var f=new Function(d.join("\n")+';\n;if(typeof trackingElements === "object"){return trackingElements;}');o=[...f()||[]],f=void 0}catch(e){_satellite.logger.error("setTargetClickTracking tracking_elements error"),_satellite.logger.info(e)}o.concat(Array.from(document.querySelectorAll(g))||[])}var h=0,b=o.length;e.tracking_elements=o,e.tracking_links=[],e.selector_element=i;for(var v="data-wa-targettrackingid",y=e.tracking_id,_=e.customLinkData;h<b;h++){var w=!1;if(o[h]){r=o[h];var C=[],P="setAttribute",E="querySelectorAll";if(F(r)&&(P="attr",E="find"),r[P]){if(w=!0,r[P](v,y),r.tagName&&"A"===r.tagName||"BUTTON"===r.tagName){if(C.push(T),e.tracking_links.push(...C),r[P](u,"1"),_)for(key in _)r[h][P](key,_[key])}else{var T=r[E]("a,button");C.push(T),e.tracking_links.push(...C);for(var I=0,D=T.length;I<D;I++)if(T[I][P](u,"1"),_)for(key in _)T[I][P](key,_[key]),T[I][P](key,_[key])}k(y,i,r,C)}}w&&n.push(y)}return n}},X=function(e){if(_satellite.logger.info("setTargetTrackingId START"),!e)return"";var t=e.tracking_id||"";if(t)return t;var n=e.meta;if(!n){var o=_satellite.cookie.get("at_preview_mode"),i=_satellite.getVar("zGlobal_at_preview");n=o||i?{"activity.id":"at_preview"}:{}}_satellite.logger.info("setTargetTrackingId target_tokens",n),t=r+m+_satellite.getVar("zGlobal_at_property")||"";for(var a=0,s=p.length;a<s;a++){var l=n[p[a]];0!==l&&"0"!==l||(l="zero"),t+=m+(l||"")}return e.tracking_id=t,_satellite.logger.info("setTargetTrackingId END",t),t},Y=function(){_satellite.logger.info("trackImpressions "+d,_satellite.getVar(d));var e=(_satellite.getVar(d)||{}).propositions;_satellite.logger.info("propositions: ",e);for(var t=[],n=[],o=0,i=e.length;o<i;o++){var r=e[o];if(_satellite.logger.info("proposition.renderAttempted: "+r.renderAttempted),r.renderAttempted){for(var a=!1,s=r.items,l=0,c=s.length;l<c;l++){var u=s[l];_satellite.logger.info("propositions: ",u),_satellite.logger.info("proposition_item.tracked: "+u.tracked),_satellite.logger.info("proposition_item.default: "+u.default),_satellite.logger.info("proposition_item.rendered: "+u.rendered),_satellite.logger.info("proposition_item.prefetched: "+u.prefetched),_satellite.logger.info("proposition_item.tracking_id: "+u.tracking_id),!u.tracked&&(u.default||u.rendered||u.prefetched)&&(u.tracked=a=!0,n.push(u.tracking_id))}a&&t.push(r)}}if(_satellite.logger.info("trackImpressions experience_tracking_ids.length",n.length),n.length){W(t),$(t);var g={featureKey:"target",marTechData:{events:"event21",targetImp:n.join(",")}};_satellite.track("trackNext",g);var m="none",p=window.digitalDataWApost||[];p.length&&(m=p[p.length-1].pageName,p[p.length-1].targetImp);var f=_satellite.getVar("zGlobal_pageName")||"";if(_satellite.logger.info("trackImpressions check to see if analytics already fired","previousTrackedPage",m+"","zGlobal_pageName",f+""),_satellite.logger.info("experience_tracking_ids",n.join("?")),_satellite.logger.info("trackImpressions experience_tracking_ids.length",n.length),m===f){_satellite.logger.info("zGlobal_alloyTargetUtil: Checking digitalDataWA.temp. fire trackAction");var h={};_satellite.track("trackAction",{marTechData:h,cData:h})}}},Z=function(){t.queueFunction("trackImpressions",Y)},ee=function(e){_satellite.logger.info("getPropositionScopes START"),e=e||{};var t=["__view__"],n=_satellite.getVar(w)||{};e.marTechData&&(n=e.marTechData);var o={web:{webPageDetails:{viewName:n.pageName}}},i=_satellite.getVar("identityNode")||{};i.getIdentityMap&&(o.identityMap=i.getIdentityMap(n)),_satellite.logger.info("mbox_parameters",n);var r={xdm:o,request_data:z(n),decision_scopes:t,response_meta:{parameters:n}};return e.personalization_config&&(r.response_rule="handleMarTechPropositions",r.response_meta.mbox=n.pageName,r.response_meta.callback=e.callback),_satellite.logger.info("request_config",r),_satellite.logger.info("getPropositionScopes END"),r},te=function(e,t){var n=_satellite.getVar(d)||{};if(t&&n.propositions){for(var o=0,i=t.length;o<i;o++){var r=t[o];n.propositions.push(r)}_satellite.setVar(d,n)}else e&&e.response&&e.response.results&&(n=e.response.results,_satellite.setVar(d,n));return n};e.handleMarTechPropositions=function(e){if(C&&D(1e3),!(e&&e.response&&e.response.results&&e.response.results.propositions))return _satellite.logger.warn("handleMarTechPropositions FAILED"),!1;var t=te(e);_satellite.logger.warn("handleMarTechPropositions alloy_target_results",t);var n=e.response.results.propositions,o=e.response_meta||{};return _satellite.logger.warn("handleMarTechPropositions prefetch_response_propositions",n),_satellite.logger.warn("handleMarTechPropositions handlers",o),ne(e),t=te(e),!0};var ne=function(e){if(_satellite.logger.info("returnGetPropositionsCallback START"),!(e.response_meta&&"function"==typeof e.response_meta.callback&&e.response&&e.response.results&&e.response.results.propositions))return!1;_satellite.logger.info("returnGetPropositionsCallback IF Passed",e.response.results.propositions,e.response_meta.callback);var t={offers:ie(e.response.results.propositions)};_satellite.logger.info("returnGetPropositionsCallback proposition_response",t),e.response_meta.callback({propositionResponse:t}),_satellite.logger.info("returnGetPropositionsCallback END")},oe=function(e,t){e.renderAttempted=!0,t.rendered=!0,Z()},ie=function(e){_satellite.logger.log("formatOffers START");for(var t=[],n=0,o=e.length;n<o;n++){let o=e[n];for(var i=0,r=o.items.length;i<r;i++){let e=o.items[i],n=Object.assign({},e);n.meta.aepDecisionID=o.id,n.meta.aepDecisionScope=o.scope,n.meta.scope=o.scope;var a=e.data||{};n.meta.format=a.format;var s=X(e);n.meta.trackingID=s,n.offerMetadata=n.meta,n.propositionRendered=function(t){if(_satellite.logger.info("trackOfferImpression: proposition",o,"proposition_item",e),_satellite.logger.info("trackOfferImpression: tracking_elements",t),t&&t[0]instanceof Element){var n=["a","button","input","select"],i=n.join(),r=function(e){e.setAttribute("data-wa-track-clk","1")};for(var a of t)if(a instanceof Element)if(a.setAttribute("data-wa-targettrackingid",s),n.indexOf(a.nodeName.toLowerCase())>-1)r(a);else{var l=a.querySelectorAll(i);for(var c of l)r(c)}}oe(o,e)},t.push(n)}}return _satellite.logger.log("formatOffers END",t),t};e.initPropositions=function(e){return E(),M(ee(e)),!0},e.handlePropositions=function(e){_satellite.logger.info("handlePropositions START"),C&&D(1e3);var t=te(e);if(!t)return!1;var n=t.propositions;return!!n&&(n=V(n),q(n),S(n),C&&D(1e3),_satellite.logger.info("handlePropositions END"),!0)},e.handlePrefetchPropositions=function(e){if(_satellite.logger.info("handlePrefetchPropositions START"),C&&D(1e3),!(e&&e.response&&e.response.results&&e.response.results.propositions))return _satellite.logger.info("handlePrefetchPropositions no propositions",e),!1;for(var t=e.response.results.propositions,n=e.response_meta,o=0,i=t.length;o<i;o++)for(var r=t[o],a=0,s=r.items.length;a<s;a++)for(var l=0,c=n.length;l<c;l++)n[l].mbox===r.scope&&J(n[l],r.items[a],r);return _satellite.logger.info("cachePropositionResults event_detail",e),te(e,t),_satellite.logger.info("handlePrefetchPropositions END"),!0},e.handlePropositionsAwaitingJQuery=function(){if(_satellite.logger.info("handlePropositionsAwaitingJQuery START"),C&&D(1e3),_satellite.getVar("personalizationAwaitingJQuery")&&F()){var e=_satellite.getVar("personalizationPropositionsAwaitingJQuery");return _satellite.setVar("personalizationPropositionsAwaitingJQuery"),_satellite.setVar("personalizationAwaitingJQuery"),re({results:{propositions:e}}),!0}return!1};var re=function(e){_satellite.logger.info("handleRenderedPropositions START");var t=(e=e||{}).results||{},n=t.error,o=t.propositions;if(n)return A(),_satellite.logger.error("handleRenderedPropositions Error"),_satellite.logger.info(n),!1;var i=(_satellite.getVar(d)||{}).propositions;o||(o=i);for(var r=0,a=o.length,s=[],l=_satellite.getVar("personalizationPropositionsAwaitingJQuery")||[];r<a;r++){for(var c=o[r].items,u=0,g=c.length;u<g;u++){var m=c[u];if(m.tracking_id=m.tracking_id||X(m),m.data){var p=K(m)[0];p||(l.push(o[r]),_satellite.setVar("personalizationPropositionsAwaitingJQuery",l)),p&&!m.rendered&&(m.rendered=!0),m.selector_element&&s.push(m.selector_element)}else m.default=!0}for(var f=0,h=i.length;f<h;f++)if(i[f].id===o[r].id){Object.assign(i[f],o[r]);break}}return A(s,!!l[0]),Z(),_satellite.track("Personalization_Post",{personalization_elements:s,personalization_results:_satellite.getVar(d)||{}}),C&&D(1e3),_satellite.logger.info("handleRenderedPropositions END"),!0};e.handleRenderedPropositions=re;var ae=function(){_satellite.logger.info("handleLateRenderedPropositions"),re()};_satellite.getVar("at-content-rendering-complete")||(_satellite.setVar("at-content-rendering-complete",!0),document.addEventListener("at-content-rendering-complete",ae)),e.trackPropositionClickStep2=function(){};var se=function(e,t){if(!t||!t.targetClk)return!1;var n=O(t.targetClk);if(!n)return!1;var o="",i=t.linkPage,r=t.linkPosition,a=t.linkName;if(e&&e.attributes){var s=e.attributes,l=function(e){if(void 0!==s[e])return s[e].value};o=l("data-at-mbox"),i=l("data-at-linkpage")||i,r=l("data-at-linkposition")||r,a=l("data-at-linkname")||a}o||(o=i+"^"+r+"^"+a),o=o.replaceAll(".","");var c={linkPage:i,linkPosition:r,linkName:a,linkURL:t.linkURL,linkType:t.linkType,linkCategory:t.linkCategory,fileDownloadName:t.fileDownloadName,linkExtraInfo:t.linkExtraInfo,product:t.productCTA,targetTrackingId:t.targetClk};return B([n],o,c),!0};return e.trackPropositionClick=se,e}}},zGlobal_at_preview:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"at_preview",caseInsensitive:!0}},zGlobal_target_requests_xdm:{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"target_request",type:"other",linkClicks:{value:1}}}},sandbox:{name:"itca"}}},"zGlobal_xdm.web.webInteraction.linkClicks.value":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalDataWAposting;return"web.webinteraction.linkClicks"===e.eventType||e.linkType||e.linkName?1:0}}},zGlobal_etp_total_optout:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!!_satellite.getVar("zGlobal_etp_gpc_optout")||!!_satellite.getVar("zGlobal_etp_onetrust_optout")}}},zGlobal_utils:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalDataWAUtils)return window.digitalDataWAUtils;var e={getTimeParting:function(e){var t=e;if("-v"===e)return{plugin:"getTimeParting",version:"6.3"};e:{if(void 0!==window.s_c_il)for(var n,o=0;o<window.s_c_il.length;o++)if((n=window.s_c_il[o])._c&&"s_c"===n._c){o=n;break e}o=void 0}return void 0!==o&&(o.contextData.getTimeParting="6.3"),t=document.documentMode?void 0:t||"Etc/GMT",o=(new Date).toLocaleDateString("en-US",{timeZone:t,minute:"numeric",hour:"numeric",weekday:"long",day:"numeric",year:"numeric",month:"long"}),"year="+(o=/([a-zA-Z]+).*?([a-zA-Z]+).*?([0-9]+).*?([0-9]+)(.*?)([0-9])(.*)/.exec(o))[4]+" | month="+o[2]+" | date="+o[3]+" | day="+o[1]+" | time="+(o[6]+o[7])},getCookieValue:function(e,t,n){var o,i;if(!e)return"";if(o=void 0===_satellite.cookie.get(e)?"":_satellite.cookie.get(e),!t&&!n)return o;if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),i=r.toUTCString()}else i=0;if(t){var a=document.location.hostname.split(".").slice(-2).join(".");document.cookie=e+"="+encodeURIComponent(t)+";expires="+i+";path=/;secure;domain="+a}return o},getQueryParam:function(e,t,n){function o(e,t){var n,o=t?0:-1;if(e&&-1!=o&&-1!=t.indexOf("="))for(var i=0,r=(n=t.substring(o+1).split("&")).length;i<r;i++){var a=n[i].indexOf("="),s=n[i].substring(0,a),l=n[i].substring(a+1);if(s.toLowerCase()===e.toLowerCase())return decodeURIComponent(l||!0)}return""}if("-v"===e)return{plugin:"getQueryParam",version:"5.0.0-IAN-EDITED"};if(e){if(((t=t||",").length>4||t.indexOf("=")>-1)&&n&&n.length<4){var i=t;t=n,n=i}n=(n||location.search)+"";for(var r,a="",s=e.split(","),l=s.length,c=0;c<l;c++)"string"==typeof(r=o(s[c],n))&&""!==r&&(a+=a?t+r:r);return a}},getValOnce:function(e,t){var n=decodeURIComponent(sessionStorage.getItem("aa_valOnce"));if(void 0===typeof n||"null"===n)return sessionStorage.setItem("aa_valOnce",encodeURIComponent(e+":"+t)),t;var o="^"+e+":",i=new RegExp(o,"g"),r=n.split(","),a=r.find((e=>i.test(e)));if(a){if(a.substring(a.indexOf(":")+1)===t)return"";var s=new RegExp(o,"g"),l=r.findIndex((e=>s.test(e)));return l>-1&&(r[l]=e+":"+t,n=r.join(","),sessionStorage.setItem("aa_valOnce",encodeURIComponent(n))),t}return r.push(e+":"+t),n=r.join(","),sessionStorage.setItem("aa_valOnce",encodeURIComponent(n)),t},getStoreValue:function(e,t){let n=sessionStorage.getItem(e),o="";return n&&(o=decodeURIComponent(n)),t&&sessionStorage.setItem(e,encodeURIComponent(t)),o},cleanCSV:function(e,t,n){var o=(e||"").split(",").filter(Boolean).filter((function(e,t,n){return t===n.indexOf(e)}));if("string"==typeof t)for(var i=o.length-1;i>=0;i--)o[i]===t&&o.splice(i,1);return n?o:""+o},cleanSProductStr:function(e){if(!e)return"";let t=e.split(",");return t.forEach(((e,n)=>{e&&-1===e.indexOf(";")&&(e=";"+e,t[n]=e)
})),e=t.join(",")},cleanText:function(e){return e=(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace("&amp;","&")).replace("&","&")).replace("bb&t","bbt")).replace(/^(?:\W|_)+|(?:\W|_)+$/g,"")).replace(/[^:|\-\.\w]+/g,"_")).replace(/-/g,"_")).replace(/_+/g,"_")},cleanUrl:function(e){if(e.indexOf("?")>-1){var t,n=["username=","user=","userid=","email=","emailaddress=","ssn=","jsessionid=","accountnumber="];for(t=0;t<n.length;t++)if(e.toLowerCase().indexOf(n[t])>-1){var o=new RegExp("("+n[t]+")([^&#]+)","i");e=e.replace(o,"$1[redacted]")}}return e},clone:function(e){if(null==e||"object"!=typeof e||e instanceof Element)return e;var t=new e.constructor;for(var n in e)t[n]=window.digitalDataWAUtils.clone(e[n]);return t},cloneAssign:function(e,t){if(null==e||"object"!=typeof e||e instanceof Element)return e;if(null==t||"object"!=typeof t||t instanceof Element)return e;for(var n in t)e[n]=digitalDataWAUtils.clone(t[n]);return e},convertProductStringToArray:function(e){var t=e.split(","),n=[];return t.forEach((e=>{var t=e.split(";");t[2]&&(t[2]=Number(t[2]),isNaN(t[2])&&(t[2]=1)),""===t[2]&&(t[2]=void 0),t[3]&&(t[3]=Number(t[3]),isNaN(t[3])&&(t[3]=1)),""===t[3]&&(t[3]=void 0);var o={};t[4]&&t[4].split("|").forEach((e=>{var t=e.split("=");t[0]&&t[1]&&(isNaN(Number(t[1]))?o[t[0]]={value:1}:o[t[0]]={value:Number(t[1])}),t[0]&&!t[1]&&(o[t[0]]={value:1})}));var i={};t[5]&&t[5].split("|").forEach((e=>{var t=e.split("=");t[0]&&t[1]&&(i[t[0]]=t[1])}));var r={name:t[1],SKU:t[1],quantity:t[2],priceTotal:t[3],_experience:{analytics:{customDimensions:{eVars:i},event1to100:o}}};t[1]&&n.push(r)})),n},getClosest:function(e,t){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null},getClosestAll:function(e,t){var n=[];for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});e&&e!==document;e=e.parentNode)e.matches(t)&&n.push(e);return n},getText:function(e){var t=e;if(e.children.length>=1){t=document.createElement("div");var n,o=e.childNodes;for(n=0;n<o.length;n++)if("span"==o[n].nodeName.toLowerCase()&&o[n].className&&o[n].className.indexOf("screen-reader-only")>-1);else{var i=o[n].cloneNode();t.appendChild(i)}}return this.cleanText(t.textContent)},searchStringForArrayValues:function(e,t){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return t[n];return""}},t=function(e){if(null==e||"object"!=typeof e||e instanceof Element)return e;var n=new e.constructor;for(var o in e)n[o]=t(e[o]);return n},n=_satellite.getVar("zSite_config");if(n&&n.utils)if(t){var o=n.utils;for(var i in o)e[i]=t(o[i]);_satellite.logger.info("zSite_config.utils -> zGlobal_utils merge was successful")}else _satellite.logger.warn("localClone is not available");return _satellite.logger.info("zGlobal_utils Data Element is now built"),e}}},"3pt_impact":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){if(e.hasOwnProperty("campaignId")&&e.hasOwnProperty("customerId")&&e.hasOwnProperty("customerEmail"))try{ire("identify",{campaignId:e.campaignId,customerId:e.customerId,customerEmail:e.customerEmail})}catch(e){_satellite.logger.log("error executing Impact IRE Identify function: "+e)}if(e.hasOwnProperty("actionTrackerId")){digitalDataWA.newAcctAppId||_satellite.logger.error("3PT Impact ERROR: Missing Order ID parameter");try{_satellite.logger.log("firing impact conversion pixel"),ire("trackConversion",e.actionTrackerId,{orderId:digitalDataWA.newAcctAppId,customerId:digitalDataWA.newAcctAppId,customerEmail:""},{verifySiteDefinitionMatch:!0})}catch(e){_satellite.logger.log("Error firing Impact Conversion Pixel: "+e)}}}}}},zGlobal_ecid:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(_satellite.truist=_satellite.truist||{},_satellite.truist.ecid=_satellite.truist.ecid||_satellite.getVar("ECID")||"",_satellite.truist.ecid)return _satellite.truist.ecid;var e=function(e,t){return _satellite.setVar("identity_failure_msg","alloy.getIdentity() ecid fetch response "+e+" x"+t)},t=function(){var e=_satellite.getVar("identity_failure_msg")||"";return e?(e+="",_satellite.setVar("identity_failure_msg"),{debugAnalytics:e}):null},n=function(n,o){_satellite.logger.info("getECID | "+n,o);var a=i();if(a)return r(a);var s=(_satellite.getVar("ecid_failures")||0)+1;_satellite.setVar("ecid_failures",s);var l=null;return s>=10?(e(n,10),_satellite.logger.info("getECID | failure_msg",_satellite.getVar("identity_failure_msg")+""),(l=t())&&_satellite.track("genericDC",l),_satellite.setVar("ecid_failures"),!0):(1===s&&(e(n,1),_satellite.logger.info("getECID | failure_msg",_satellite.getVar("identity_failure_msg")+""),(l=t())&&_satellite.track("genericDC",l)),s<10&&_satellite.track("getECID"),!0)},o=function(e){var t=`; ${document.cookie}`.split(`; ${e}=`);if(t.length>1)return t.pop().split(";").shift()},i=function(){var e=o("AMCV_AA7A3BC75245B3BC0A490D4D%40AdobeOrg")||"",t=decodeURIComponent(e).split("|"),n=t.indexOf("MCMID");if(-1===n||n===t.length)return _satellite.logger.info("getECIDCookie Failed: amcv_cookie",e),"";var i=t[n+1]||"";return _satellite.logger.info("getECIDCookie",i),i},r=function(e){if(e)return _satellite.logger.info("getECID | success",e),_satellite.setVar("ECID",e),_satellite.truist.ecid=e,_satellite.setVar("ecid_failures"),e;_satellite.logger.info("getECID | failure",e)},a=function(){return alloy("getIdentity").then((function(e){e&&e.identity&&e.identity.ECID?r(e.identity.ECID):n("missing",e)})).catch((function(e){n("error",e)}))};_satellite.logger.info("getECID | fetch");var s=_satellite.getVar("ecid_failures")||0;10>s&&(s>1?_satellite.getVar("zGlobal_util_functionQueue").queueFunction("getIdentity",a,500):a());return _satellite.truist.ecid}}},"zGlobal_xdm.web.webPageDetails.name":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalDataWAposting;if(e.pageName)return e.pageName;if("web.webpagedetails.pageViews"===e.eventType){var t=_satellite.getVar(t);return t.site+"|unknown"}}}},zGlobal_social_domains:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["facebook.com","twitter.com","linkedin.com","buzzsprout.com","pinterest.com"]}}},"3pt_tiktok":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{ttq.track(e.event)}catch(e){_satellite.logger.log("error executing Tik Tok conversion tag: "+e)}}}}},"3pt_linkedin":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{window.lintrk("track",e),_satellite.logger.log("3PT Linkedin pixel fired with: "+JSON.stringify(e))}catch(e){_satellite.logger.log("3PT ERROR firing linkedin script tag "+e)}}}}},zGlobal_edgeDomain:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("zSite_config").edgeDomain||"";return""===e&&(e=_satellite.getVar("xSite_edgeDomain")||"edge.adobedc.net"),e}}},"zGlobal_xdm.productListItems":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalDataWAposting.productsArray"}},zGlobal_ds_wa_pl_wac:{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"ds_wa_pl_wac"}},"zGlobal_xdm._experience.analytics.customDimensions.eVars.eVar1":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalDataWAposting.pageName"}},"3pt_matrix_universal":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{"www.truist.com":{floodlight_2:{type:"unive0",cat:"truis00",cache_bust:"off",u1:"",u2:document.location.pathname}}}}}},"3pt_pinterest":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{e.event_name&&e.uuid?pintrk("track",e.event_name,{event_id:e.uuid}):_satellite.logger.log("missing required param(s)")}catch(e){_satellite.logger.log("error firing Pinterest conversion event: "+e)}}}}},"zGlobal_xdm.web.webPageDetails.server":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"document.location.hostname"}},zGlobal_util_getDataQueue:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=["events","products","contentID","intCampaignImp","offersImp","targetImp"];return{update:function(t){if("object"!=typeof t)return!1;var n=_satellite.getVar("dataQueue")||null;if(null===n)n=t;else for(var o in t)if(n[o])for(var i in t[o])if(e.indexOf(i)>-1&&n[o][i]){var r=t[o][i].split(","),a=n[o][i].split(",");for(var s in r)-1===a.indexOf(s)&&a.push(s);n[o][i]+=","+t[o][i]}else n[o][i]=t[o][i];else n[o]=t[o];_satellite.logger.info("dataQueue updated"),_satellite.logger.info(n),_satellite.setVar("dataQueue",n)},go:function(){_satellite.logger.info("Executing getDataQueue..."),window.digitalDataWAUtils||(_satellite.logger.warn("window.digitalDataWAUtils was not found -> fetching utilities again..."),window.digitalDataWAUtils=_satellite.getVar("zGlobal_utils"));var t=_satellite.getVar("dataQueue");if(void 0!==t){for(var n in t)for(var o in t[n])e.indexOf(o)>-1&&window.digitalDataWA[o]?window.digitalDataWA[o]+=","+t[n][o]:window.digitalDataWA[o]=t[n][o];_satellite.logger.info("dataQueue found - added data to new cache.  New digitalDataWA:"),_satellite.logger.info(window.digitalDataWAUtils.clone(window.digitalDataWA))}return _satellite.setVar("dataQueue",void 0),!0}}}}},"3pt_dv360":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{var t={allow_custom_scripts:!0,send_to:"DC-4264071/"+e.type+"/"+e.cat+"+unique"};gtag("event","conversion",t),_satellite.logger.log("3PT dv360 fired with : "+JSON.stringify(e))}catch(e){_satellite.logger.log("3PT ERROR firing dv360 script: "+e)}}}}},zGlobal_truist_domains:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["truist.com","truistinsurance.com","truistleadershipinstitute.com","truistsecurities.com","myafco.com","paymypremiums.com","mcgriff.com","lightstream.com","truist-tst.com","truist-prd.com","momentumonup.com","postechnologygroup.com","bridgetrusttitle.com","afco.com","cafo.com","primeratepfc.com","regionalacceptance.com","grandbridge.com","benefits.truist.com","sheffieldfinancial.com","axshare.com","design-systems.pages.devops.bbt"]}}},zGlobal_util_getWAData:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{getFieldData:function(e){_satellite.logger.info("zGlobal_util_getWAData.getFieldData is executing..."),window.digitalDataWA=window.digitalDataWA||{},window.digitalDataWA.temp=window.digitalDataWA.temp||{},window.digitalDataWAUtils=window.digitalDataWAUtils||_satellite.getVar("zGlobal_utils");var t=window.digitalDataWAUtils;if(!t.getClosest||!t.getClosestAll||!t.cleanText)return _satellite.logger.warn("Required Utilities Are Missing!  Abort everything."),!1;var n="";e.getAttribute("data-wa-fieldname")?(n=e.getAttribute("data-wa-fieldname"),n=t.cleanText(n)):n="unknown",window.digitalDataWA.temp.fieldTrackingName=n},getLinkData:function(e){if(void 0===e)return!1;_satellite.logger.info("zGlobal_util_getWAData.getLinkData is executing..."),window.digitalDataWA=window.digitalDataWA||{},window.digitalDataWA.temp=window.digitalDataWA.temp||{},window.digitalDataWAUtils=window.digitalDataWAUtils||_satellite.getVar("zGlobal_utils");var t=window.digitalDataWAUtils;if(!t.getClosest||!t.getClosestAll||!t.cleanText)return _satellite.logger.warn("Required Utilities Are Missing!  Abort everything."),!1;var n="",o="",i="",r="",a="",s="",l="",c="",d="",u="",g="",m=function(n){for(var o=0,i=n.length,r=null;o<i;o++)if(r=t.getClosest(e,"["+n[o]+"]")){var a=r.getAttribute(n[o]);if(a)return a}return""};o=m(["data-wa-linkurl","href","onclick"])||"unknown",i=m(["data-wa-linktype"]),i=t.cleanText(i);var p=t.getClosestAll(e,"[data-wa-component]");if(p){for(var f=p.length-1;f>=0;f--)r&&(r+="|"),r+=p[f].getAttribute("data-wa-component"),"search_results"==p[f].getAttribute("data-wa-component")&&(window.digitalDataWA.events?window.digitalDataWA.events+=",event60":window.digitalDataWA.events=",event60");if(r){var h=r.split("|"),b=h.length;for(f=0;f<b;f++)h[f]&&(h[f]=h[f].replace(/^[_\s]+|[_\s]+$/gm,""));r=h.join("|"),r=t.cleanText(r)}}if(e.getAttribute("data-wa-linkname")?(a=e.getAttribute("data-wa-linkname"),a=t.cleanText(a)):e.innerText||e.textContent?(a=(a=e.innerText||e.textContent).trim(),a=t.cleanText(a)):a="unknown",s=m(["data-wa-linkcategory"]),s=t.cleanText(s),(e.getAttribute("data-wa-filedownloadname")||"download"===i&&a)&&(c=e.getAttribute("data-wa-filedownloadname")||a,c=t.cleanText(c)),l=e.getAttribute("data-wa-linkextrainfo")||""){for(var v=l.split(","),y=0,_=v.length;y<_;y++)v[y]&&(v[y]=t.cleanText(v[y]));l=v.join(",")}d=m(["data-wa-productcta"]),(u=m(["data-wa-targettrackingid"]))&&(n+=",event22"),g=m(["data-wa-contentdefaultid"]),window.digitalDataWA.temp.linkURL=o,window.digitalDataWA.temp.linkType=i,window.digitalDataWA.temp.linkPosition=r,window.digitalDataWA.temp.linkPage=_satellite.getVar("zGlobal_pageName")||"",window.digitalDataWA.temp.linkName=a,window.digitalDataWA.temp.linkCategory=s,window.digitalDataWA.temp.fileDownloadName=c,window.digitalDataWA.temp.linkExtraInfo=l,window.digitalDataWA.temp.productCTA=d,window.digitalDataWA.temp.targetClk=u,window.digitalDataWA.temp.contentDefaultClk=g,n&&(window.digitalDataWA.temp.events=(window.digitalDataWA.temp.events||"")+n)},getFormSubmitData:function(e){_satellite.logger.info("zGlobal_util_getWAData.getFormSubmitData is executing..."),window.digitalDataWA=window.digitalDataWA||{},window.digitalDataWA.temp=window.digitalDataWA.temp||{},window.digitalDataWAUtils=window.digitalDataWAUtils||_satellite.getVar("zGlobal_utils");var t=window.digitalDataWAUtils;if(!t.getClosest||!t.getClosestAll||!t.cleanText)return _satellite.logger.warn("Required Utilities Are Missing!  Abort everything."),!1;var n="";e.getAttribute("data-wa-formname")?(n=e.getAttribute("data-wa-formname"),n=t.cleanText(n)):n="unknown";var o=_satellite.getVar("zSite_config").site;window.digitalDataWA.temp.toolFlowName=o+"|forms|"+n,window.digitalDataWA.temp.events="event39"}}}}},"zGlobal_xdm._suntrustbanksinc.waData":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalDataWAposting"}},"zGlobal_xdm._experience.analytics.event801to900":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(event){var waData=window.digitalDataWAposting||{};if(!waData.eventsArray||waData.eventsArray.length<1)return{};var event801to900={};return waData.eventsArray.forEach((item=>{if(!item)return;if(item.indexOf("event")<0)return;let regexArray=item.match(/(event)([^=]*)(.*)/),txt=regexArray[1];if(!txt)return;let num=regexArray[2],value=regexArray[3];Number(num)>800&&Number(num)<901&&(eval("event801to900.event"+num+"= {}"),value?eval("event801to900.event"+num+".value"+value):eval("event801to900.event"+num+".value= 1"))})),event801to900}}},zSite_alloy_prehiding_css:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return""}}}},extensions:{"adobe-alloy":{displayName:"Adobe Experience Platform Web SDK",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP24fbfef5ecfe48bb92445c9a259f9377/",settings:{instances:[{name:"alloy",edgeDomain:"%zGlobal_edgeDomain%",edgeConfigId:"%zGlobal_datastreamID%",stagingEdgeConfigId:"%zGlobal_datastreamID%",clickCollectionEnabled:!1,developmentEdgeConfigId:"%zGlobal_datastreamID%"}]},modules:{"adobe-alloy/dist/lib/dataElements/xdmObject/index.js":{name:"xdm-object",displayName:"XDM object",script:function(e){"use strict";e.exports=e=>e.data}},"adobe-alloy/dist/lib/actions/sendEvent/index.js":{name:"send-event",displayName:"Send event",script:function(e,t,n,o){"use strict";var i;const r=n("./createSendEvent"),a=n("../../instanceManager/index"),{sendEventCallbackStorage:s}=n("../../index"),l=n("../../utils/createGetConfigOverrides");e.exports=r({instanceManager:a,sendEventCallbackStorage:s,getConfigOverrides:l(null===(i=o.environment)||void 0===i?void 0:i.stage)})}},"adobe-alloy/dist/lib/instanceManager/index.js":{script:function(e,t,n,o){"use strict";var i;const{createCustomInstance:r,createEventMergeId:a,components:s}=n("../alloy"),l=n("./createInstanceManager"),c=n("./injectWrapOnBeforeEventSend"),d=n("../utils/createGetConfigOverrides"),u=c({version:"2.33.0"});e.exports=l({turbine:o,window:window,createCustomInstance:r,components:s,createEventMergeId:a,orgId:_satellite.company.orgId,wrapOnBeforeEventSend:u,getConfigOverrides:d(null===(i=o.environment)||void 0===i?void 0:i.stage)})}},"adobe-alloy/dist/lib/actions/sendEvent/createSendEvent.js":{script:function(e,t,n){"use strict";const o=n("../../utils/clone");e.exports=({instanceManager:e,sendEventCallbackStorage:t,getConfigOverrides:n})=>i=>{const{instanceName:r,...a}=i;a.edgeConfigOverrides=n(a);const s=e.getInstance(r);if(!s)throw new Error(`Failed to send event for instance "${r}". No matching instance was configured with this name.`);return a.xdm&&(a.xdm=o(a.xdm)),a.data&&(a.data=o(a.data)),s("sendEvent",a).then((e=>{t.triggerEvent(e)}))}}},"adobe-alloy/dist/lib/index.js":{script:function(e,t,n){"use strict";const o=n("./createEventMergeIdCache"),i=n("./createSendEventCallbackStorage"),r=n("./createMediaCollectionSessionStorage"),a=n("./createVariableStore");t.eventMergeIdCache=o(),t.sendEventCallbackStorage=i(),t.mediaCollectionSessionStorage=r(),t.variableStore=a()}},"adobe-alloy/dist/lib/utils/createGetConfigOverrides.js":{script:function(e){"use strict";const t=e=>t=>{var n,o,i,r;const{edgeConfigOverrides:a}=t;let s;if(a){if(a[e])s={...a[e]};else{if(a.development||a.staging||a.production)return;s=a}if(0!==Object.keys(s).length&&!1!==s.enabled){if(delete s.enabled,Object.keys(s).forEach((e=>{var t;!0===(null===(t=s[e])||void 0===t?void 0:t.enabled)&&delete s[e].enabled})),(null===(n=s.com_adobe_analytics)||void 0===n||null===(n=n.reportSuites)||void 0===n?void 0:n.length)>0&&(s.com_adobe_analytics.reportSuites=s.com_adobe_analytics.reportSuites.flatMap((e=>e.includes(",")?e.split(/,\s*/gi):e)).map((e=>e.trim())).filter(Boolean)),void 0!==(null===(o=s.com_adobe_identity)||void 0===o?void 0:o.idSyncContainerId)&&null!==(null===(i=s.com_adobe_identity)||void 0===i?void 0:i.idSyncContainerId)&&"string"==typeof(null===(r=s.com_adobe_identity)||void 0===r?void 0:r.idSyncContainerId))if(""===s.com_adobe_identity.idSyncContainerId.trim())delete s.com_adobe_identity.idSyncContainerId;else{const e=parseInt(s.com_adobe_identity.idSyncContainerId.trim(),10);if(Number.isNaN(e))throw new Error(`The ID sync container ID "${s.com_adobe_identity.idSyncContainerId}" is not a valid integer.`);s.com_adobe_identity.idSyncContainerId=e}return s}}};e.exports=t}},"adobe-alloy/dist/lib/utils/clone.js":{script:function(e){"use strict";e.exports=e=>JSON.parse(JSON.stringify(e))}},"adobe-alloy/dist/lib/alloy.js":{script:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}function r(e,t){function n(n,o,r){if("undefined"!=typeof document){"number"==typeof(r=i({},t,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var s in r)r[s]&&(a+="; "+s,!0!==r[s]&&(a+="="+r[s].split(";")[0]));return document.cookie=n+"="+e.write(o,n)+a}}function o(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],o={},i=0;i<n.length;i++){var r=n[i].split("="),a=r.slice(1).join("=");try{var s=decodeURIComponent(r[0]);if(o[s]=e.read(a,s),t===s)break}catch(e){}}return t?o[t]:o}}return Object.create({set:n,get:o,remove:function(e,t){n(e,"",i({},t,{expires:-1}))},withAttributes:function(e){return r(this.converter,i({},this.attributes,e))},withConverter:function(e){return r(i({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}function a(e,t=0){return(cn[e[t+0]]+cn[e[t+1]]+cn[e[t+2]]+cn[e[t+3]]+"-"+cn[e[t+4]]+cn[e[t+5]]+"-"+cn[e[t+6]]+cn[e[t+7]]+"-"+cn[e[t+8]]+cn[e[t+9]]+"-"+cn[e[t+10]]+cn[e[t+11]]+cn[e[t+12]]+cn[e[t+13]]+cn[e[t+14]]+cn[e[t+15]]).toLowerCase()}function s(){if(!dn){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");dn=crypto.getRandomValues.bind(crypto)}return dn(un)}function l(e,t,n){if(gn.randomUUID&&!t&&!e)return gn.randomUUID();const o=(e=e||{}).random??e.rng?.()??s();if(o.length<16)throw new Error("Random bytes length must be >= 16");if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=o[e];return t}return a(o)}function c(e){return"object"==typeof e||void 0===e}function d(){return{matches:(e,t,n=[])=>{if(c(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!c(n[e])&&o===String(n[e]).toLowerCase())return!0;return!1}}}function u(){return{matches:(e,t,n=[])=>{if(c(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!c(n[e])&&o===String(n[e]).toLowerCase())return!1;return!0}}}function g(){return{matches:(e,t)=>void 0!==e[t]&&null!==e[t]}}function m(){return{matches:(e,t)=>void 0===e[t]||null===e[t]}}function p(e){return"number"==typeof e}function f(){return{matches:(e,t,n=[])=>{const o=e[t];if(!p(o))return!1;for(let e=0;e<n.length;e+=1)if(p(n[e])&&o>n[e])return!0;return!1}}}function h(){return{matches:(e,t,n=[])=>{const o=e[t];if(!p(o))return!1;for(let e=0;e<n.length;e+=1)if(p(n[e])&&o>=n[e])return!0;return!1}}}function b(){return{matches:(e,t,n=[])=>{const o=e[t];if(!p(o))return!1;for(let e=0;e<n.length;e+=1)if(p(n[e])&&o<n[e])return!0;return!1}}}function v(){return{matches:(e,t,n=[])=>{const o=e[t];if(!p(o))return!1;for(let e=0;e<n.length;e+=1)if(p(n[e])&&o<=n[e])return!0;return!1}}}function y(){return{matches:(e,t,n=[])=>{if(c(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!c(n[e])&&-1!==o.indexOf(String(n[e]).toLowerCase()))return!0;return!1}}}function _(){return{matches:(e,t,n=[])=>{if(c(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!c(n[e])&&-1!==o.indexOf(String(n[e]).toLowerCase()))return!1;return!0}}}function w(){return{matches:(e,t,n=[])=>{if(c(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!c(n[e])&&o.startsWith(String(n[e]).toLowerCase()))return!0;return!1}}}function C(){return{matches:(e,t,n=[])=>{if(c(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!c(n[e])&&o.endsWith(n[e].toLowerCase()))return!0;return!1}}}function k(e){return jg[e]}function P(e){return void 0===e}function E(e,t,n,o=0,i=1/0){return e.reduce(((e,r)=>{try{const a=n.generateEventHash(Fg(r)),s=t.events[a];if(!s)return e;const{timestamps:l=[]}=s;return e+l.filter((e=>e>=o&&e<=i)).length}catch{return e}}),0)}function T(e,t,n,o=0,i=1/0){try{let r=o;const a=e.every((e=>{const o=n.generateEventHash(Fg(e)),a=t.events[o];if(!a)return!1;const s=a.timestamps[0],l=s>=r&&s<=i;return r=s,l}));return Number(a)}catch{return 0}}function I(e,t,n,o=0,i=1/0){try{return e.reduce(((e,r,a)=>{const s=n.generateEventHash(Fg(r)),l=t.events[s];if(!l)return e;const c=l.timestamps.filter((e=>e>=o&&e<=i)).pop();return c&&c>e.timestamp?{index:a,timestamp:c}:e}),{index:-1,timestamp:0}).index}catch{return-1}}function D(e,t,n){let o=!0;for(let i=0;i<t.length;i+=1)o=o&&t[i].evaluate(e,n);return o}function A(e,t,n){let o=!1;for(let i=0;i<t.length;i+=1)if(o=o||t[i].evaluate(e,n),o)return!0;return!1}function S(e,t,n){return{version:e,rules:t,metadata:n}}function x(e,t,n){return{key:n,execute:(n,o)=>e.evaluate(n,o)?t:[],toString:()=>`Rule{condition=${e}, consequences=${t}}`}}function O(e,t){return{evaluate:(e,n)=>t.evaluate(e,n),toString:()=>`Condition{type=${e}, definition=${t}}`}}function R(e,t,n){return{id:e,type:t,detail:n}}function j(e,t){return{evaluate:(n,o)=>Og.AND===e?D(n,t,o):Og.OR===e&&A(n,t,o)}}function N(e,t,n){return{evaluate:o=>{const i=k(t);return!!i&&i.matches(o,e,n)}}}function L(e,t,n,o,i,r){return{evaluate:(a,s)=>{let l;return l=Rg.MOST_RECENT===r?I(e,a,s,o,i):Rg.ORDERED===r?T(e,a,s,o,i):E(e,a,s,o,i),Gg(l,t,n)}}}function M(e){const{key:t,matcher:n,values:o}=e;return N(t,n,o)}function V(e){const{logic:t,conditions:n}=e;return j(t,n.map(z))}function G(e){const{events:t,from:n,to:o,matcher:i,value:r,searchType:a}=e;return L(t,i,r,n,o,a)}function z(e){const{type:t,definition:n}=e;if(Sg.MATCHER===t){return O(t,M(n))}if(Sg.GROUP===t){return O(t,V(n))}if(Sg.HISTORICAL===t){return O(t,G(n))}throw new Error("Can not parse condition")}function F(e){const{id:t,type:n,detail:o}=e;return R(t,n,o)}function U(e){const{condition:t,consequences:n,key:o}=e;return x(z(t),n.map(F),o)}function q(e){if(!e)return;return{provider:e.provider,providerData:Object.assign({},e.providerData)}}function W(e){const{version:t,rules:n,metadata:o}=e;return S(t,n.map(U),q(o))}function $(e,t){return{provider:qg,execute:n=>e.map((e=>e.execute(n,t))).filter((e=>e.length>0))}}function B(e){const{providerData:t}=e;if(!t)throw new Error("Provider data is missing in metadata");const{identityTemplate:n,buckets:o}=t;if(!n)throw new Error("Identity template is missing in provider data");if(!o)throw new Error("Buckets is missing in provider data")}function H(e){const{xdm:t}=e;if(!t)throw new Error("XDM object is missing in the context");const{identityMap:n}=t;if(!n)throw new Error("Identity map is missing in the XDM object");const o=n[Wg];if(!o)throw new Error("ECID identity namespace is missing in the identity map");if(!Array.isArray(o)||0===o.length)throw new Error("ECID identities array is empty or not an array");const i=o[0].id;if(!i)throw new Error("ECID identity is missing in the identities array");return i}function Q(e,t,n){const{providerData:o}=n,{identityTemplate:i}=o;return i.replace($g,t).replace(Bg,e)}function J(e){return!P(e)}function K(e,t=e=>e[0]){const n={};return function(...o){const i=t(o);return J(n[i])||(n[i]=e(...o)),n[i]}}function X(e,t){const n=65535&t;return((t-n)*e|0)+(n*e|0)|0}function Y(e,t=0){let n;const o=e.length,i=3432918353,r=461845907;let a=t;const s=-2&o;for(let t=0;t<s;t+=2)n=e.charCodeAt(t)|e.charCodeAt(t+1)<<16,n=X(n,i),n=(131071&n)<<15|n>>>17,n=X(n,r),a^=n,a=(524287&a)<<13|a>>>19,a=5*a+3864292196|0;return o%2==1&&(n=e.charCodeAt(s),n=X(n,i),n=(131071&n)<<15|n>>>17,n=X(n,r),a^=n),a^=o<<1,a^=a>>>16,a=X(a,2246822507),a^=a>>>13,a=X(a,3266489909),a^=a>>>16,a}function Z(e,t){const n=Hg(e),o=Math.abs(n)%t/t*Qg;return Math.round(o*Qg)/Qg}function ee(e,t,n){return{allocation:Jg(e,t),...n}}function te(e){const t={};for(let n=0;n<e.length;n+=1){const o=e[n];o.key&&(t[o.key]||(t[o.key]=[]),t[o.key].push(o))}return t}function ne(e,t){return t.map((t=>t.execute(e))).filter((e=>e.length>0))}function oe(e,t){B(t);const n=e.filter((e=>!e.key)),o=te(e),{buckets:i}=t.providerData;return{provider:Ug,execute:e=>{const r=H(e),a=ne(e,n),s=Object.keys(o),l=[];for(let n=0;n<s.length;n+=1){const a=s[n],c=o[a],d=ne(ee(Q(r,a,t),i,e),c);l.push(...d)}return[...a,...l]}}}function ie(e,t,n){const{provider:o}=t;return o===Ug?oe(e,t):$(e,n)}function re(e,t={generateEventHash:()=>{throw new Error("No hash function provided")}}){const{rules:n,metadata:o={}}=W(e);return ie(n,o,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.deepAssign=t.createEventMergeId=t.createCustomInstance=t.components=void 0;var ae=o(n("@adobe/reactor-query-string")),se=e=>null==e,le=e=>!se(e)&&!Array.isArray(e)&&"object"==typeof e,ce=(...e)=>e.length<2?Object.assign(...e):e.reduce(((e,t)=>(le(t)&&Object.keys(t).forEach((n=>{Array.isArray(t[n])?Array.isArray(e[n])?e[n].push(...t[n]):e[n]=[...t[n]]:e[n]=t[n]})),e)));const de=e=>{const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=atob(t);return Uint8Array.from(n,(e=>e.codePointAt(0)))};var ue=r({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),ge={get:ue.get.bind(ue),set:ue.set.bind(ue),remove:ue.remove.bind(ue),withConverter:ue.withConverter.bind(ue)};const me=(e,t)=>{Object.keys(t).forEach((n=>{le(e[n])&&le(t[n])?me(e[n],t[n]):e[n]=t[n]}))};var pe=(e,...t)=>{if(se(e))throw new TypeError('deepAssign "target" cannot be null or undefined');const n=Object(e);return t.forEach((e=>me(n,Object(e)))),n};t.deepAssign=pe;var fe=(e,t)=>n=>{const o=t.split(".").reduce(((e,t)=>(e[t]=e[t]||{},e[t])),e);pe(o,n)},he=()=>{const e=[];return{add(t){e.push(t)},call:(...t)=>Promise.all(e.map((e=>e(...t))))}},be=({logger:e,cookieJar:t})=>({...t,set:(n,o,i)=>(e.info("Setting cookie",{name:n,value:o,...i}),t.set(n,o,i))}),ve=()=>{let e=0,t=Promise.resolve();return{addTask(n){e+=1;const o=()=>n().finally((()=>{e-=1}));return t=t.then(o,o),t},get length(){return e}}},ye=()=>{const e={};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e};const _e=(e,t)=>e===t,we=(e,t,n)=>{for(let o=0;o<e.length;o+=1)if(n(e[o],t))return o;return-1};var Ce=(e,t=_e)=>e.filter(((n,o)=>we(e,n,t)===o)),ke=(e,t)=>e.appendChild(t);const Pe=(e,t)=>{Object.keys(t).forEach((n=>{if("style"===n&&le(t[n])){const o=t[n];Object.keys(o).forEach((t=>{e.style[t]=o[t]}))}else e[n]=t[n]}))};var Ee=(e,t={},n={},o=[],i=document)=>{const r=i.createElement(e);return Object.keys(t).forEach((e=>{r.setAttribute(e,t[e])})),Pe(r,n),o.forEach((e=>ke(r,e))),r};const Te="BODY",Ie="IFRAME",De="IMG",Ae="DIV",Se="STYLE",xe="SCRIPT",Oe="HEAD";var Re=({src:e,currentDocument:t=document})=>new Promise(((n,o)=>{Ee(De,{src:e},{onload:n,onerror:o,onabort:o},[],t)})),je=e=>"function"==typeof e,Ne=e=>Array.isArray(e)&&e.length>0,Le=e=>Array.isArray(e)?e:null==e?[]:[].slice.call(e);const Me=/^\s*>/;var Ve=(e,t)=>Me.test(t)?Le(e.querySelectorAll(`:scope ${t}`)):Le(e.querySelectorAll(t)),Ge=":shadow";const ze=e=>e.split(Ge),Fe=(e,t)=>{const n=t;if(!n.startsWith(">"))return n;return`${e instanceof Element||e instanceof Document?":scope":":host"} ${n}`};var Ue=(e,t)=>{const n=ze(t);if(n.length<2)return Ve(e,t);let o=e;for(let e=0;e<n.length;e+=1){const t=n[e].trim();if(""===t&&o.shadowRoot){o=o.shadowRoot;continue}const i=Fe(o,t),r=Ve(o,i);if(0===r.length||!r[0]||!r[0].shadowRoot)return r;o=r[0].shadowRoot}},qe=e=>-1!==e.indexOf(Ge),We=(e,t=document)=>qe(e)?Ue(t,e):Ve(t,e);const $e="MutationObserver",Be="requestAnimationFrame",He={childList:!0,subtree:!0},Qe="visibilityState",Je="visible",Ke=100,Xe=5e3,Ye=e=>new Error(`Could not find: ${e}`),Ze=e=>new Promise(e),et=e=>je(e[$e]),tt=(e,t,n,o,i)=>Ze(((r,a)=>{let s;const l=new e[$e]((()=>{const e=i(n);Ne(e)&&(l.disconnect(),s&&clearTimeout(s),r(e))}));s=setTimeout((()=>{l.disconnect(),a(Ye(n))}),o),l.observe(t,He)})),nt=e=>e[Qe]===Je,ot=(e,t,n,o)=>Ze(((i,r)=>{const a=()=>{const n=o(t);Ne(n)?i(n):e[Be](a)};a(),setTimeout((()=>{r(Ye(t))}),n)})),it=(e,t,n)=>Ze(((o,i)=>{const r=()=>{const t=n(e);Ne(t)?o(t):setTimeout(r,Ke)};r(),setTimeout((()=>{i(Ye(e))}),t)}));var rt=(e,t=We,n=Xe,o=window,i=document)=>{const r=t(e);return Ne(r)?Promise.resolve(r):et(o)?tt(o,i,e,n,t):nt(i)?ot(o,e,n,t):it(e,n,t)},at=(e,t)=>t.matches?t.matches(e):t.msMatchesSelector(e),st=e=>{const t=e.parentNode;return t?t.removeChild(e):null};const lt={name:"Adobe Alloy"},ct={style:{display:"none",width:0,height:0}};var dt=({appendNode:e=ke,awaitSelector:t=rt,createNode:n=Ee,fireImage:o=Re}={})=>{const i=o;let r;const a=()=>t(Te).then((([t])=>r||(r=n(Ie,lt,ct),e(t,r)))),s=({src:e})=>a().then((t=>{const n=t.contentWindow.document;return o({src:e,currentDocument:n})}));return e=>{const{hideReferrer:t,url:n}=e;return t?s({src:n}):i({src:n})}},ut=e=>le(e)&&0===Object.keys(e).length
;const gt=(e,t)=>se(e)||!le(e)?e:Object.keys(e).reduce(((n,o)=>{const i=e[o];if(le(i)){const e=gt(i,t);return ut(e)?n:{...n,[o]:e}}return t(i)?{...n,[o]:i}:n}),{}),mt=e=>{let t=2166136261;const n=16777619,o=(new TextEncoder).encode(e);for(let e=0;e<o.length;e+=1)t^=o[e],t=Math.imul(t,n);return t>>>0},pt=e=>mt(e).toString(16).padStart(8,"0");var ft="com.adobe.alloy.",ht=(e,t)=>e.slice(-t);const bt=`${ft}getTld`;var vt=(e,t)=>{let n="";const o=e.location.hostname.toLowerCase().split(".");let i=1;for(;i<o.length&&!t.get(bt);)i+=1,n=ht(o,i).join("."),t.set(bt,bt,{domain:n});return t.remove(bt,{domain:n}),n},yt="kndctr",_t=e=>e.replace("@","_"),wt=(e,t)=>`${yt}_${_t(e)}_${t}`,Ct=(e,t)=>{const n={};return e.forEach((e=>{const o=t(e);n[o]||(n[o]=[]),n[o].push(e)})),n};const kt="Chrome",Pt="Edge",Et="EdgeChromium",Tt="Firefox",It="IE",Dt="Safari",At="Unknown";var St=e=>{let t,n=!1;return()=>(n||(n=!0,t=e()),t)};const xt=[kt,Pt,Et,It,At];var Ot=({getBrowser:e})=>St((()=>xt.includes(e())));const Rt="identity",jt="consent",Nt="cluster";var Lt=({orgId:e})=>{const t=wt(e,Rt);return()=>Boolean(ge.get(t))};const Mt=(e,t)=>{const n=Object.keys(e);for(let o=0;o<n.length;o+=1){const i=n[o];if(e[i].test(t))return i}return At};var Vt=({userAgent:e})=>St((()=>Mt({[Pt]:/Edge\/([0-9\._]+)/,[Et]:/Edg\/([0-9\.]+)/,[kt]:/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/,[Tt]:/Firefox\/([0-9\.]+)(?:\s|$)/,[It]:/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/,[Dt]:/Version\/([0-9\._]+).*Safari/},e)));const Gt=(e,t,n)=>({getItem(o){try{return e[t].getItem(n+o)}catch{return null}},setItem(o,i){try{return e[t].setItem(n+o,i),!0}catch{return!1}},clear(){try{return Object.keys(e[t]).forEach((o=>{o.startsWith(n)&&e[t].removeItem(o)})),!0}catch{return!1}}});var zt=e=>t=>{const n=ft+t;return{session:Gt(e,"sessionStorage",n),persistent:Gt(e,"localStorage",n)}},Ft=(e,t)=>e.filter((e=>t.includes(e))),Ut=e=>"boolean"==typeof e,qt=e=>"number"==typeof e&&!Number.isNaN(e),Wt=e=>{const t=parseInt(e,10);return qt(t)&&e===t},$t=(e,t)=>0===t.indexOf(`${yt}_${_t(e)}_`),Bt=e=>"string"==typeof e,Ht=e=>Bt(e)&&e.length>0,Qt=()=>{};const Jt=e=>{const t={},n=e.split(".");switch(n.length){case 1:t.subdomain="",t.domain=e,t.topLevelDomain="";break;case 2:t.subdomain="",t.domain=e,t.topLevelDomain=n[1];break;case 3:t.subdomain="www"===n[0]?"":n[0],t.domain=e,t.topLevelDomain=n[2];break;case 4:t.subdomain="www"===n[0]?"":n[0],t.domain=e,t.topLevelDomain=`${n[2]}.${n[3]}`}return t},Kt=e=>{try{const t=new URL(e);let n=t.pathname;return e.endsWith("/")||"/"!==n||(n=""),{host:t.hostname,path:n,query:t.search.replace(/^\?/,""),anchor:t.hash.replace(/^#/,"")}}catch{return{host:"",path:"",query:"",anchor:""}}},Xt=(e,t=Jt)=>{Bt(e)||(e="");const n=Kt(e),{host:o,path:i,query:r,anchor:a}=n;return{path:i,query:r,fragment:a,...t(o)}};var Yt=e=>{if(se(e)||"object"!=typeof e)return null;const t=gt(e,(e=>!se(e)&&(!!Ut(e)||(!!qt(e)||(!!Ht(e)||!!Ne(e))))));return ut(t)?null:t};const Zt=e=>Array.isArray(e)?e.map((e=>Zt(e))):"object"==typeof e&&null!==e?Object.keys(e).sort().reduce(((t,n)=>(t[n]=Zt(e[n]),t)),{}):e;var en=e=>Zt(e),tn=e=>e instanceof Error?e:new Error(e),nn=({error:e,message:t})=>{try{e.message=t}catch{}},on=({error:e,message:t})=>{const n=tn(e),o=`${t}\nCaused by: ${n.message}`;return nn({error:n,message:o}),n},rn=e=>Bt(e)&&"true"===e.toLowerCase(),an=(e,t)=>{if(qt(e)||Bt(e)){const t=Math.round(Number(e));if(!Number.isNaN(t))return t}return t};const sn=(e,t,n)=>`${e}`.padStart(t,n);var ln=e=>{const t=e.getFullYear(),n=sn(e.getMonth()+1,2,"0"),o=sn(e.getDate(),2,"0"),i=sn(e.getHours(),2,"0"),r=sn(e.getMinutes(),2,"0"),a=sn(e.getSeconds(),2,"0"),s=sn(e.getMilliseconds(),3,"0"),l=an(e.getTimezoneOffset(),0);return`${t}-${n}-${o}T${i}:${r}:${a}.${s}${l>0?"-":"+"}${sn(Math.floor(Math.abs(l)/60),2,"0")}:${sn(Math.abs(l)%60,2,"0")}`};const cn=[];for(let e=0;e<256;++e)cn.push((e+256).toString(16).slice(1));let dn;const un=new Uint8Array(16);var gn={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};const mn=e=>function(t,n){return null==t?t:e.call(this,t,n)},pn=(e,t)=>function(n,o){return t.call(this,e.call(this,n,o),o)},fn=(e,t)=>function(n,o){const i=[],r=[e,t].reduce(((e,t)=>{try{return t.call(this,e,o)}catch(t){return i.push(t),e}}),n);if(i.length)throw new Error(i.join("\n"));return r},hn=(e,t,n)=>Object.assign(pn(e,t),e,n),bn=(e,t,n)=>Object.assign(pn(e,mn(t)),e,n),vn=(e,t,n)=>Object.assign(fn(mn(t),e),e,n),yn=(e,t,n,o)=>{if(!e)throw new Error(`'${n}': Expected ${o}, but got ${JSON.stringify(t)}.`)};var _n=(e,t)=>(yn(Ut(e),e,t,"true or false"),e),wn=(e,t)=>(yn(je(e),e,t,"a function"),e),Cn=(e,t)=>function(n,o){let i;const r=e.find((e=>{try{return i=e.call(this,n,o),!0}catch{return!1}}));return yn(r,n,o,t),i},kn=e=>function(t,n){yn(Array.isArray(t),t,n,"an array");const o=[],i=t.map(((i,r)=>{try{return e.call(this,i,`${n}[${r}]`,t)}catch(e){return void o.push(e.message)}}));if(o.length)throw new Error(o.join("\n"));return i},Pn=e=>t=>null==t?e:t,En=(e="This field has been deprecated")=>function(t,n){let o=e;return void 0!==t&&(n&&(o=`'${n}': ${o}`),this&&this.logger&&this.logger.warn(o)),t},Tn=e=>(t,n)=>(yn(t===e,t,n,`${e}`),t),In=e=>function(t,n){yn(le(t),t,n,"an object");const o=[],i={};if(Object.keys(t).forEach((r=>{const a=t[r],s=n?`${n}.${r}`:r;try{const t=e.call(this,a,s);void 0!==t&&(i[r]=t)}catch(e){o.push(e.message)}})),o.length)throw new Error(o.join("\n"));return i},Dn=(e,t)=>(n,o)=>(yn(n>=t,n,o,`${e} greater than or equal to ${t}`),n),An=(e,t)=>(n,o)=>(yn(n<=t,n,o,`${e} less than or equal to ${t}`),n),Sn=e=>(t,n)=>{const o=[];if(Object.keys(t).forEach((t=>{if(!e[t]){const e=n?`${n}.${t}`:t;o.push(`'${e}': Unknown field.`)}})),o.length)throw new Error(o.join("\n"));return t},xn=e=>(t,n)=>(le(t)?yn(!ut(t),t,n,e):yn(t.length>0,t,n,e),t),On=e=>function(t,n){yn(le(t),t,n,"an object");const o=[],i={};if(Object.keys(e).forEach((r=>{const a=t[r],s=e[r],l=n?`${n}.${r}`:r;try{const e=s.call(this,a,l);void 0!==e&&(i[r]=e)}catch(e){o.push(e.message)}})),Object.keys(t).forEach((e=>{Object.prototype.hasOwnProperty.call(i,e)||(i[e]=t[e])})),o.length)throw new Error(o.join("\n"));return i},Rn=(e,t,n)=>function(o,i){yn(le(o),o,i,"an object");const{[e]:r,[n]:a,...s}=o,l=t(r,i);if(void 0!==l){let t=`The field '${e}' is deprecated. Use '${n}' instead.`;if(i&&(t=`'${i}': ${t}`),void 0!==a&&a!==l)throw new Error(t);this&&this.logger&&this.logger.warn(t)}return{[n]:a||l,...s}},jn=()=>{const e=[];return(t,n)=>(yn(-1===e.indexOf(t),t,n,"a unique value across instances"),e.push(t),t)},Nn=e=>{const t=Object.create(null);for(let n=0;n<e.length;n+=1){const o=e[n];if(o in t)return!1;t[o]=!0}return!0},Ln=()=>(e,t)=>(yn(Nn(e),e,t,"array values to be unique"),e);const Mn=/^[a-z0-9.-]{1,}$/i;var Vn=(e,t)=>(yn(Mn.test(e),e,t,"a valid domain"),e),Gn=(e,t)=>(yn(Wt(e),e,t,"an integer"),e),zn=(e,t)=>(yn(qt(e),e,t,"a number"),e),Fn=e=>{try{return null!==RegExp(e)}catch{return!1}},Un=(e,t)=>(yn(Fn(e),e,t,"a regular expression"),e),qn=(e,t)=>{if(null==e)throw new Error(`'${t}' is a required option`);return e},Wn=(e,t)=>(yn(Bt(e),e,t,"a string"),e),$n=e=>(t,n)=>(yn(e.test(t),t,n,`does not match the ${e.toString()}`),t);const Bn=e=>e;Bn.default=function(e){return hn(this,Pn(e))},Bn.required=function(){return hn(this,qn)},Bn.deprecated=function(e){return hn(this,En(e))};const Hn=function(){return bn(this,Vn)},Qn=function(e){return bn(this,Dn("an integer",e))},Jn=function(e){return bn(this,Dn("a number",e))},Kn=function(e){return bn(this,An("a number",e))},Xn=function(){return bn(this,Gn,{minimum:Qn})},Yn=function(){return bn(this,xn("a non-empty string"))},Zn=function(){return bn(this,xn("a non-empty array"))},eo=function(){return bn(this,xn("a non-empty object"))},to=function(){return bn(this,Un)},no=function(e){return bn(this,$n(e))},oo=function(){return bn(this,jn())},io=function(){return bn(this,Ln())},ro=function(e,t){return hn(this,Cn(e,t))},ao=function(){return this},so=function(e){return bn(this,kn(e),{nonEmpty:Zn,uniqueItems:io})},lo=function(){return bn(this,_n)},co=function(){return bn(this,wn)},uo=function(e){return bn(this,Tn(e))},go=function(){return bn(this,zn,{minimum:Jn,maximum:Kn,integer:Xn,unique:oo})},mo=function(e){return bn(this,In(e),{nonEmpty:eo})},po=e=>({noUnknownFields:function(){return bn(this,Sn(e))},nonEmpty:eo,concat:function(t){const n={...e,...t.schema};return bn(this,t,po(n))},renamed:function(e,t,n){return vn(this,Rn(e,t,n))},schema:e}),fo=function(e){return bn(this,On(e),po(e))},ho=function(){return bn(this,Wn,{regexp:to,domain:Hn,nonEmpty:Yn,unique:oo,matches:no})},bo=ro.bind(Bn),vo=ao.bind(Bn),yo=so.bind(Bn),_o=lo.bind(Bn),wo=co.bind(Bn),Co=uo.bind(Bn),ko=go.bind(Bn),Po=mo.bind(Bn),Eo=fo.bind(Bn),To=ho.bind(Bn),Io=function(...e){return bo(e.map(Co),`one of these values: ${JSON.stringify(e)}`)};var Do=Po(yo(Eo({authenticatedState:Io("ambiguous","authenticated","loggedOut"),id:To(),namespace:Eo({code:To()}).noUnknownFields(),primary:_o(),xid:To()}).noUnknownFields()).required()),Ao=Eo({}),So="alloy_debug",xo=({console:e,locationSearch:t,createLogger:n,instanceName:o,createNamespacedStorage:i,getMonitors:r})=>{const a=ae.default.parse(t),s=i(`instance.${o}.`),l=s.session.getItem("debug");let c="true"===l,d=null===l;const u=()=>c,g=(e,{fromConfig:t})=>{t&&!d||(c=e),t||(s.session.setItem("debug",e.toString()),d=!1)};return void 0!==a[So]&&g(rn(a[So]),{fromConfig:!1}),{setDebugEnabled:g,logger:n({getDebugEnabled:u,context:{instanceName:o},getMonitors:r,console:e}),createComponentLogger:t=>n({getDebugEnabled:u,context:{instanceName:o,componentName:t},getMonitors:r,console:e})}};const Oo=["onComponentsRegistered","onBeforeEvent","onBeforeRequest","onResponse","onRequestFailure","onClick","onDecision"],Ro=(e,t)=>(...n)=>Promise.all(e.getLifecycleCallbacks(t).map((e=>new Promise((t=>{t(e(...n))}))))),jo=e=>(...t)=>Promise.resolve().then((()=>e(...t)));var No=e=>Oo.reduce(((t,n)=>(t[n]=jo(Ro(e,n)),t)),{});const Lo=(e,t)=>(...n)=>{let o;try{o=e(...n)}catch(e){throw on({error:e,message:t})}return o instanceof Promise&&(o=o.catch((e=>{throw on({error:e,message:t})}))),o};var Mo=()=>{const e={},t={},n={},o=(e,n={})=>{const o=Ft(Object.keys(t),Object.keys(n));if(o.length)throw new Error(`[ComponentRegistry] Could not register ${e} because it has existing command(s): ${o.join(",")}`);Object.keys(n).forEach((o=>{const i=n[o];i.commandName=o,i.run=Lo(i.run,`[${e}] An error occurred while executing the ${o} command.`),t[o]=i}))},i=(e,t={})=>{Object.keys(t).forEach((o=>{n[o]=n[o]||[],n[o].push(Lo(t[o],`[${e}] An error occurred while executing the ${o} lifecycle hook.`))}))};return{register(t,n){const{commands:r,lifecycle:a}=n;o(t,r),i(t,a),e[t]=n},getCommand:e=>t[e],getCommandNames:()=>Object.keys(t),getLifecycleCallbacks:e=>n[e]||[],getComponentNames:()=>Object.keys(e)}},Vo=({logger:e,sendFetchRequest:t,sendBeaconRequest:n,isRequestRetryable:o,getRequestRetryDelay:i})=>({requestId:r,url:a,payload:s,useSendBeacon:l})=>{const c=JSON.stringify(s),d=JSON.parse(c);e.logOnBeforeNetworkRequest({url:a,requestId:r,payload:d});const u=(s=0)=>(l?n:t)(a,c).then((t=>{if(o({response:t,retriesAttempted:s})){const e=i({response:t,retriesAttempted:s});return new Promise((t=>{setTimeout((()=>{t(u(s+1))}),e)}))}let n;try{n=JSON.parse(t.body)}catch{}return e.logOnNetworkResponse({requestId:r,url:a,payload:d,...t,parsedBody:n,retriesAttempted:s}),{statusCode:t.statusCode,body:t.body,parsedBody:n,getHeader:t.getHeader}}));return u().catch((t=>{throw e.logOnNetworkError({requestId:r,url:a,payload:d,error:t}),on({error:t,message:"Network request failed."})}))},Go=({logger:e})=>t=>{if(t){const n=t.split(";");if(n.length>=2&&n[1].length>0)try{const e=parseInt(n[1],10);if(!Number.isNaN(e))return{regionId:e}}catch{}e.warn(`Invalid adobe edge: "${t}"`)}return{}};const zo=1,Fo=(e,t)=>{let n,o=0,i=0;do{if(t<0||t+i>=e.length)throw new Error("Invalid varint: buffer ended unexpectedly");if(n=e[t+i],o|=(127&n)<<7*i,i+=1,i>10)throw new Error("Invalid varint: too long")}while(128&n);return{value:o,length:i}},Uo=Object.freeze({VARINT:0,I64:1,LEN:2,SGROUP:3,EGROUP:4,I32:5}),qo=e=>{let t=0,n=null;for(;t<e.length&&!n;){const{value:o,length:i}=Fo(e,t);t+=i;const r=7&o;if(o>>3===zo){if(r===Uo.LEN){const o=Fo(e,t);return t+=o.length,n=(new TextDecoder).decode(e.slice(t,t+o.value)),t+=o.value,n}}else switch(r){case Uo.VARINT:t+=Fo(e,t).length;break;case Uo.I64:t+=8;break;case Uo.LEN:{const n=Fo(e,t);t+=n.length+n.value;break}case Uo.SGROUP:case Uo.EGROUP:break;case Uo.I32:t+=4;break;default:throw new Error(`Malformed kndctr cookie. Unknown wire type: ${r}`)}}throw new Error("No ECID found in cookie.")};var Wo=({orgId:e,cookieJar:t,logger:n})=>{const o=wt(e,"identity");return()=>{const e=t.get(o);if(!e)return null;try{const t=decodeURIComponent(e).replace(/_/g,"/").replace(/-/g,"+"),n=de(t);return qo(n)}catch(e){return n.warn(`Unable to decode ECID from ${o} cookie`,e),null}}},$o=({logger:e,loggingCookieJar:t,config:n})=>{let o=null;const i=new Promise((e=>{o=e})),r=Wo({orgId:n.orgId,cookieJar:t,logger:e});return{initialize(){r()&&this.setIdentityAcquired()},setIdentityAcquired(){o()},awaitIdentity:()=>i,getEcidFromCookie:()=>r()}};const Bo="in",Ho="out",Qo="pending",Jo="disabled",Ko="wait",Xo="auto",Yo="general",Zo="declinedConsent",ei="default",ti="initial",ni="new",oi=e=>{const t=new Error(e);return t.code=Zo,t.message=e,t};var ii=({logger:e})=>{const t=[],n=()=>{for(;t.length;)t.shift().resolve()},o=()=>{for(;t.length;)t.shift().reject(oi("The user declined consent."))},i=()=>Promise.resolve(),r=()=>Promise.resolve(),a=()=>Promise.resolve(),s=()=>Promise.reject(oi("No consent preferences have been set.")),l=()=>Promise.reject(oi("The user declined consent.")),c=e=>{if(e)return Promise.reject(new Error("Consent is pending."));const n=ye();return t.push(n),n.promise};return{in(t){t===ei?this.awaitConsent=r:(t===ti?e.info("Loaded user consent preferences. The user previously consented."):t===ni&&this.awaitConsent!==a&&e.info("User consented."),n(),this.awaitConsent=a)},out(t){t===ei?(e.warn("User consent preferences not found. Default consent of out will be used."),this.awaitConsent=s):(t===ti?e.warn("Loaded user consent preferences. The user previously declined consent."):t===ni&&this.awaitConsent!==l&&e.warn("User declined consent."),o(),this.awaitConsent=l)},pending(t){t===ei&&e.info("User consent preferences not found. Default consent of pending will be used. Some commands may be delayed."),this.awaitConsent=c},awaitConsent:i,withConsent(){return this.awaitConsent(!0)},current(){switch(this.awaitConsent){case r:return{state:"in",wasSet:!1};case a:return{state:"in",wasSet:!0};case s:return{state:"out",wasSet:!1};case l:return{state:"out",wasSet:!0};case c:return{state:"pending",wasSet:!1};default:return{state:"in",wasSet:!1}}}}},ri=({generalConsentState:e,logger:t})=>{const n=(n,o)=>{switch(n[Yo]){case Bo:e.in(o);break;case Ho:e.out(o);break;case Qo:e.pending(o);break;default:t.warn(`Unknown consent value: ${n[Yo]}`)}};return{initializeConsent(e,t){t[Yo]?n(t,ti):n(e,ei)},setConsent(e){n(e,ni)},suspend(){e.pending()},awaitConsent:()=>e.awaitConsent(),withConsent:()=>e.withConsent(),current:()=>e.current()}};const ai=e=>e&&e._experience&&e._experience.decisioning&&Ne(e._experience.decisioning.propositions)?e._experience.decisioning.propositions:[];var si=()=>{const e={};let t,n,o=!1,i=!1,r=!0;const a=e=>{if(i)throw new Error(`${e} cannot be called after event is finalized.`)},s={hasQuery(){return Object.prototype.hasOwnProperty.call(this.getContent(),"query")},getContent(){const o=JSON.parse(JSON.stringify(e));return t&&pe(o,{xdm:t}),n&&pe(o,{data:n}),o},setUserXdm(e){a("setUserXdm"),t=e},setUserData(e){a("setUserData"),n=e},mergeXdm(t){a("mergeXdm"),t&&pe(e,{xdm:t})},mergeData(t){a("mergeData"),t&&pe(e,{data:t})},mergeMeta(t){a("mergeMeta"),t&&pe(e,{meta:t})},mergeQuery(t){a("mergeQuery"),t&&pe(e,{query:t})},documentMayUnload(){o=!0},finalize(o){if(i)return;const a=Ce([...ai(t),...ai(e.xdm)],((e,t)=>e===t||e.id&&t.id&&e.id===t.id&&e.scope&&t.scope&&e.scope===t.scope));if(t&&this.mergeXdm(t),a.length>0&&(e.xdm._experience.decisioning.propositions=a),n&&s.mergeData(n),i=!0,o){r=!1;const t={xdm:e.xdm||{},data:e.data||{}},n=o(t);r=!1!==n,e.xdm=t.xdm||{},e.data=t.data||{},ut(e.xdm)&&delete e.xdm,ut(e.data)&&delete e.data}},getDocumentMayUnload:()=>o,isEmpty:()=>ut(e)&&(!t||ut(t))&&(!n||ut(n)),shouldSend:()=>r,getViewName(){if(t&&t.web&&t.web.webPageDetails)return t.web.webPageDetails.viewName},toJSON(){if(!i)throw new Error("toJSON called before finalize");return e}};return s};const li="Retry-After",ci="x-adobe-edge";var di=({extractEdgeInfo:e})=>({content:t={},getHeader:n})=>{const{handle:o=[],errors:i=[],warnings:r=[]}=t;return{getPayloadsByType:e=>o.filter((t=>t.type===e)).flatMap((e=>e.payload)),getErrors:()=>i,getWarnings:()=>r,getEdge:()=>e(n(ci)),toJSON:()=>t}};const ui="configure",gi="setDebug";var mi=({logger:e,configureCommand:t,setDebugCommand:n,handleError:o,validateCommandOptions:i})=>{let r;const a=(o,a)=>{let s;if(o===ui){if(r)throw new Error("The library has already been configured and may only be configured once.");s=()=>(r=t(a),r.then((()=>{})))}else{if(!r)throw new Error("The library must be configured first. Please do so by executing the configure command.");s=o===gi?()=>{const e=Eo({enabled:_o().required()}).noUnknownFields(),t=i({command:{commandName:gi,optionsValidator:e},options:a});n(t)}:()=>r.then((e=>{const t=e.getCommand(o);if(!t||!je(t.run)){const t=[ui,gi].concat(e.getCommandNames()).join(", ");throw new Error(`The ${o} command does not exist. List of available commands: ${t}.`)}const n=i({command:t,options:a});return t.run(n)}),(()=>(e.warn(`An error during configuration is preventing the ${o} command from executing.`),new Promise((()=>{})))))}return s};return(t,n={})=>new Promise((o=>{const i=a(t,n);e.logOnBeforeCommand({commandName:t,options:n}),o(i())})).catch((e=>o(e,`${t} command`))).catch((o=>{throw e.logOnCommandRejected({commandName:t,options:n,error:o}),o})).then((o=>{const i=le(o)?o:{};return e.logOnCommandResolved({commandName:t,options:n,result:i}),i}))};const pi="https://adobe.ly/3sHgQHb";var fi=({command:e,options:t})=>{const{commandName:n,documentationUri:o=pi,optionsValidator:i}=e;let r=t;if(i)try{r=i(t)}catch(e){throw new Error(`Invalid ${n} command options:\n\t - ${e} For command documentation see: ${o}`)}return r};const hi="https://adobe.ly/3sHh553",bi=({combinedConfigValidator:e,options:t,logger:n})=>{try{return e.noUnknownFields().required().call({logger:n},t)}catch(e){throw new Error(`Resolve these configuration problems:\n\t - ${e.message.split("\n").join("\n\t - ")}\nFor configuration documentation see: ${hi}`)}},vi=(e,t,n)=>n.reduce(((n,{buildOnInstanceConfiguredExtraParams:o})=>(o&&(n={...n,...o({config:e,logger:t})}),n)),{}),yi=e=>{const t=[],n={get enabled(){return e.enabled},flush(){t.forEach((({method:t,args:n})=>e[t](...n)))}};return Object.keys(e).filter((t=>"function"==typeof e[t])).forEach((e=>{n[e]=(...n)=>{t.push({method:e,args:n})}})),n};var _i=({options:e,componentCreators:t,coreConfigValidators:n,createConfig:o,logger:i,setDebugEnabled:r})=>{const a=yi(i),s=t.map((({configValidators:e})=>e)).filter((e=>e)).reduce(((e,t)=>e.concat(t)),n),l=o(bi({combinedConfigValidator:s,options:e,logger:a}));r(l.debugEnabled,{fromConfig:!0}),a.flush();const c=vi(l,i,t);return i.logOnInstanceConfigured({...c,config:l}),l},wi=({componentCreators:e,lifecycle:t,componentRegistry:n,getImmediatelyAvailableTools:o})=>(e.forEach((e=>{const{namespace:t}=e,i=o(t);let r;try{r=e(i)}catch(e){throw on({error:e,message:`[${t}] An error occurred during component creation.`})}n.register(t,r)})),t.onComponentsRegistered({lifecycle:t}).then((()=>n)));const Ci=e=>({...e}),ki="edge.adobedc.net",Pi="adobedc.demdex.net";var Ei="ee",Ti=()=>Eo({debugEnabled:_o().default(!1),datastreamId:To().unique().required(),edgeDomain:To().domain().default(ki),edgeBasePath:To().nonEmpty().default(Ei),orgId:To().unique().required(),onBeforeEventSend:wo().default(Qt),edgeConfigOverrides:Ao}).renamed("edgeConfigId",To().unique(),"datastreamId"),Ii=({errorPrefix:e,logger:t})=>(n,o)=>{const i=tn(n);if(i.code===Zo)return t.warn(`The ${o} could not fully complete. ${i.message}`),{};throw nn({error:i,message:`${e} ${i.message}`}),i},Di=({fetch:e})=>(t,n)=>e(t,{method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"text/plain; charset=UTF-8"},referrerPolicy:"no-referrer-when-downgrade",body:n}).then((e=>e.text().then((t=>({statusCode:e.status,getHeader:t=>e.headers.get(t),body:t}))))),Ai=({sendBeacon:e,sendFetchRequest:t,logger:n})=>(o,i)=>{const r=new Blob([i],{type:"text/plain; charset=UTF-8"});return e(o,r)?Promise.resolve({statusCode:204,getHeader:()=>null,body:""}):(n.info("Unable to use `sendBeacon`; falling back to `fetch`."),t(o,i))},Si=({getDebugEnabled:e,console:t,getMonitors:n,context:o})=>{let i=`[${o.instanceName}]`;o.componentName&&(i+=` [${o.componentName}]`);const r=(e,t)=>{const i=n();if(i.length>0){const n={...o,...t};i.forEach((t=>{t[e]&&t[e](n)}))}},a=(n,...o)=>{r("onBeforeLog",{level:n,arguments:o}),e()&&t[n](i,...o)};return{get enabled(){return n().length>0||e()},logOnInstanceCreated(e){r("onInstanceCreated",e),a("info","Instance initialized.")},logOnInstanceConfigured(e){r("onInstanceConfigured",e),a("info","Instance configured. Computed configuration:",e.config)},logOnBeforeCommand(e){r("onBeforeCommand",e),a("info",`Executing ${e.commandName} command. Options:`,e.options)},logOnCommandResolved(e){r("onCommandResolved",e),a("info",`${e.commandName} command resolved. Result:`,e.result)},logOnCommandRejected(e){r("onCommandRejected",e),a("error",`${e.commandName} command was rejected. Error:`,e.error)},logOnBeforeNetworkRequest(e){r("onBeforeNetworkRequest",e),a("info",`Request ${e.requestId}: Sending request.`,e.payload)},logOnNetworkResponse(e){r("onNetworkResponse",e);const t=e.parsedBody||e.body?"response body:":"no response body.";a("info",`Request ${e.requestId}: Received response with status code ${e.statusCode} and ${t}`,e.parsedBody||e.body)},logOnNetworkError(e){r("onNetworkError",e),a("error",`Request ${e.requestId}: Network request failed.`,e.error)},logOnContentHiding(e){r("onContentHiding",{status:e.status}),a(e.logLevel,e.message)},logOnContentRendering(e){r("onContentRendering",{status:e.status,payload:e.detail}),a(e.logLevel,e.message)},info:a.bind(null,"info"),warn:a.bind(null,"warn"),error:a.bind(null,"error")}},xi="__view__",Oi=e=>(t,n)=>{e.xdm=e.xdm||{},e.xdm.identityMap=e.xdm.identityMap||{},e.xdm.identityMap[t]=e.xdm.identityMap[t]||[],e.xdm.identityMap[t].push(n)},Ri=e=>{const{payload:t,getAction:n,getUseSendBeacon:o,datastreamIdOverride:i,edgeSubPath:r}=e,a=l();let s=!1,c=!1;return{getId:()=>a,getPayload:()=>t,getAction:()=>n({isIdentityEstablished:c}),getDatastreamIdOverride:()=>i,getUseSendBeacon:()=>o({isIdentityEstablished:c}),getEdgeSubPath:()=>r||"",getUseIdThirdPartyDomain:()=>s,setUseIdThirdPartyDomain(){s=!0},setIsIdentityEstablished(){c=!0}}},ji=({payload:e,datastreamIdOverride:t})=>{const n=({isIdentityEstablished:t})=>e.getDocumentMayUnload()&&t;return Ri({payload:e,getAction:({isIdentityEstablished:e})=>n({isIdentityEstablished:e})?"collect":"interact",getUseSendBeacon:n,datastreamIdOverride:t})};const Ni=(e,t)=>n=>{const o=t.split(".").reduce(((e,t)=>(e[t]=e[t]||{},e[t])),e);Object.assign(o,n)};var Li=e=>{const{content:t,addIdentity:n,hasIdentity:o}=e,i=Ni(t,"meta.configOverrides");return{mergeMeta:fe(t,"meta"),mergeState:fe(t,"meta.state"),mergeQuery:fe(t,"query"),mergeConfigOverride:e=>i(Yt(e)),addIdentity:n,hasIdentity:o,toJSON:()=>t}},Mi=e=>t=>void 0!==(e.xdm&&e.xdm.identityMap&&e.xdm.identityMap[t]),Vi=()=>{const e={};return{...Li({content:e,addIdentity:Oi(e),hasIdentity:Mi(e)}),addEvent:t=>{e.events=e.events||[],e.events.push(t)},getDocumentMayUnload:()=>(e.events||[]).some((e=>e.getDocumentMayUnload()))}},Gi=({localConfigOverrides:e,globalConfigOverrides:t,payload:n})=>{const o={payload:n},{datastreamId:i,...r}=e||{};return i&&(o.datastreamIdOverride=i),t&&!ut(t)&&n.mergeConfigOverride(t),r&&!ut(r)&&n.mergeConfigOverride(r),o};const zi="adb_validation_sessionid",Fi="validation.",Ui="clientId",qi=e=>{let t=e.persistent.getItem(Ui);return t||(t=l(),e.persistent.setItem(Ui,t)),t};var Wi=({window:e,createNamespacedStorage:t})=>{const n=t(Fi);return()=>{const t=ae.default.parse(e.location.search)[zi];if(!t)return"";const o=`${t}|${qi(n)}`;return`&${ae.default.stringify({adobeAepValidationToken:o})}`}};const $i="Event was canceled because the onBeforeEventSend callback returned false.";var Bi=({config:e,logger:t,lifecycle:n,consent:o,createEvent:i,createDataCollectionRequestPayload:r,createDataCollectionRequest:a,sendEdgeNetworkRequest:s,applyResponse:l})=>{const{onBeforeEventSend:c,edgeConfigOverrides:d}=e;return{createEvent:i,sendEvent(e,i={}){const{edgeConfigOverrides:l,...u}=i,g=Gi({payload:r(),localConfigOverrides:l,globalConfigOverrides:d}),m=a(g),p=he(),f=he();return n.onBeforeEvent({...u,event:e,onResponse:p.add,onRequestFailure:f.add}).then((()=>(g.payload.addEvent(e),o.awaitConsent()))).then((()=>{try{e.finalize(c)}catch(e){const t=()=>{throw e};return f.add(n.onRequestFailure),f.call({error:e}).then(t,t)}if(!e.shouldSend()){f.add(n.onRequestFailure),t.info($i);const e=new Error($i);return f.call({error:e}).then((()=>{}))}return s({request:m,runOnResponseCallbacks:p.call,runOnRequestFailureCallbacks:f.call})}))},applyResponse(e,t={}){const{renderDecisions:o=!1,decisionContext:i={},responseHeaders:s={},responseBody:c={handle:[]},personalization:d}=t,u=r(),g=a({payload:u}),m=he();return n.onBeforeEvent({event:e,renderDecisions:o,decisionContext:i,decisionScopes:[xi],personalization:d,onResponse:m.add,onRequestFailure:Qt}).then((()=>(u.addEvent(e),l({request:g,responseHeaders:s,responseBody:c,runOnResponseCallbacks:m.call}))))}}};const Hi="state:store";var Qi=({cookieJar:e,shouldTransferCookie:t,apexDomain:n,dateProvider:o})=>({cookiesToPayload(o,i){const r=""!==n&&i.endsWith(n),a={domain:n,cookiesEnabled:!0};if(!r){const n=e.get(),o=Object.keys(n).filter(t).map((e=>({key:e,value:n[e]})));o.length&&(a.entries=o)}o.mergeState(a)},responseToCookies(t){t.getPayloadsByType(Hi).forEach((t=>{const i={domain:n},r=t.attrs&&t.attrs.SameSite&&t.attrs.SameSite.toLowerCase();void 0!==t.maxAge&&(i.expires=new Date(o().getTime()+1e3*t.maxAge)),void 0!==r&&(i.sameSite=r),"none"===r&&(i.secure=!0),e.set(t.key,t.value,i)}))}});const Ji="mboxEdgeCluster",Ki="at_qa_mode",Xi="mbox";var Yi=({orgId:e,targetMigrationEnabled:t})=>n=>$t(e,n)||n===Ki||t&&n===Xi,Zi="v1";const er="TypeError",tr="NetworkError",nr=e=>e.name===er||e.name===tr||0===e.status;var or=e=>{const t=e.shift()||[],n=e.shift()||[];return ce({},...t,...n,...e)},ir=e=>t=>{const n=()=>{throw t};return e.call({error:t}).then(n,n)};const rr=(e,t)=>t.getUseIdThirdPartyDomain()&&nr(e);var ar=({config:e,lifecycle:t,cookieTransfer:n,sendNetworkRequest:o,createResponse:i,processWarningsAndErrors:r,getLocationHint:a,getAssuranceValidationTokenParams:s})=>{const{edgeDomain:l,edgeBasePath:c,datastreamId:d}=e;let u=!1;const g=(e,t)=>{const n=a(),o=n?`${c}/${n}${t.getEdgeSubPath()}`:`${c}${t.getEdgeSubPath()}`,i=t.getDatastreamIdOverride()||d;return i!==d&&t.getPayload().mergeMeta({sdkConfig:{datastream:{original:d}}}),`https://${e}/${o}/${Zi}/${t.getAction()}?configId=${i}&requestId=${t.getId()}${s()}`};return({request:e,runOnResponseCallbacks:a=Qt,runOnRequestFailureCallbacks:s=Qt})=>{const c=he();c.add(t.onResponse),c.add(a);const d=he();return d.add(t.onRequestFailure),d.add(s),t.onBeforeRequest({request:e,onResponse:c.add,onRequestFailure:d.add}).then((()=>{const t=u||!e.getUseIdThirdPartyDomain()?l:Pi,i=g(t,e),r=e.getPayload();return n.cookiesToPayload(r,t),o({requestId:e.getId(),url:i,payload:r,useSendBeacon:e.getUseSendBeacon()})})).then((e=>(r(e),e))).catch((t=>{if(rr(t,e)){u=!0,e.setUseIdThirdPartyDomain(!1);const t=g(l,e),i=e.getPayload();return n.cookiesToPayload(i,l),o({requestId:e.getId(),url:t,payload:i,useSendBeacon:e.getUseSendBeacon()})}return ir(d)(t)})).then((({parsedBody:e,getHeader:t})=>{const o=i({content:e,getHeader:t});return n.responseToCookies(o),c.call({response:o}).then(or)}))}};const sr=204,lr="The server responded with a";var cr=({logger:e})=>t=>{const{statusCode:n,body:o,parsedBody:i}=t;if(n<200||n>=300||!i&&n!==sr||i&&!Array.isArray(i.handle)){const e=i?JSON.stringify(i,null,2):o;throw new Error(`${lr} status code ${n} and ${e?`response body:\n${e}`:"no response body."}`)}if(i){const{warnings:t=[],errors:n=[]}=i;t.forEach((t=>{e.warn(`${lr} warning:`,t)})),n.forEach((t=>{e.error(`${lr} non-fatal error:`,t)}))}},dr=({orgId:e,cookieJar:t})=>{const n=wt(e,Nt),o=()=>t.get(n),i=()=>{const e=t.get(Ji);if(e)return`t${e}`};return()=>o()||i()};const ur=3,gr=[429,503,502,504];var mr=({response:e,retriesAttempted:t})=>t<ur&&gr.includes(e.statusCode);const pr=1e3,fr=1e3,hr=.3,br=e=>{const t=pr+e*fr,n=t*hr,o=t-n,i=t+n;return Math.round(o+Math.random()*(i-o))},vr=e=>{const t=e.getHeader(li);let n;if(t){const e=parseInt(t,10);n=Wt(e)?1e3*e:Math.max(0,new Date(t).getTime()-(new Date).getTime())}return n};var yr=({response:e,retriesAttempted:t})=>{let n=vr(e);return void 0===n&&(n=br(t)),n};const _r=200;var wr=({cookieTransfer:e,lifecycle:t,createResponse:n,processWarningsAndErrors:o})=>({request:i,responseHeaders:r,responseBody:a,runOnResponseCallbacks:s=Qt,runOnRequestFailureCallbacks:l=Qt})=>{const c=he();c.add(t.onResponse),c.add(s);const d=he();d.add(t.onRequestFailure),d.add(l);const u=e=>r[e];return t.onBeforeRequest({request:i,onResponse:c.add,onRequestFailure:d.add}).then((()=>o({statusCode:_r,getHeader:u,body:JSON.stringify(a),parsedBody:a}))).catch(ir(d)).then((()=>{const t=n({content:a,getHeader:u});return e.responseToCookies(t),c.call({response:t}).then(or)}))},Cr=e=>{let t=window.__alloyMonitors||[];return e&&(t=t.concat(e)),t},kr=e=>t=>{const n={webPageDetails:{URL:e.location.href||e.location},webReferrer:{URL:e.document.referrer}};pe(t,{web:n})};const Pr=e=>{const{screen:{orientation:t}}=e;if(null==t||null==t.type)return null;const n=t.type.split("-");return 0===n.length||"portrait"!==n[0]&&"landscape"!==n[0]?null:n[0]},Er=e=>{if(je(e.matchMedia)){if(e.matchMedia("(orientation: portrait)").matches)return"portrait";if(e.matchMedia("(orientation: landscape)").matches)return"landscape"}return null};var Tr=e=>t=>{const{screen:{width:n,height:o}}=e,i={},r=an(o);r>=0&&(i.screenHeight=r);const a=an(n);a>=0&&(i.screenWidth=a);const s=Pr(e)||Er(e);s&&(i.screenOrientation=s),Object.keys(i).length>0&&pe(t,{device:i})},Ir=e=>t=>{const{document:{documentElement:{clientWidth:n,clientHeight:o}={}}}=e,i={type:"browser"},r=an(n);r>=0&&(i.browserDetails={viewportWidth:r});const a=an(o);a>=0&&(i.browserDetails=i.browserDetails||{},i.browserDetails.viewportHeight=a),pe(t,{environment:i})},Dr=e=>t=>{const n=e(),o={},i=an(n.getTimezoneOffset());void 0!==i&&(o.localTimezoneOffset=i),(void 0===i||Math.abs(i)<6e3)&&(o.localTime=ln(n)),pe(t,{placeContext:o})},Ar=e=>t=>{const n=e().toISOString();pe(t,{timestamp:n})},Sr="https://ns.adobe.com/experience/alloy",xr="2.30.0",Or=e=>{pe(e,{implementationDetails:{name:Sr,version:xr,environment:"browser"}})},Rr=(e,t,n,o)=>{const i=e.context.flatMap(((e,o)=>n[e]?[n[e]]:(t.warn(`Invalid context[${o}]: '${e}' is not available.`),[]))).concat(o);return{namespace:"Context",lifecycle:{onBeforeEvent({event:e}){const n={};return Promise.all(i.map((e=>Promise.resolve(e(n,t))))).then((()=>e.mergeXdm(n)))}}}},jr=[["architecture","string"],["bitness","string"],["model","string"],["platformVersion","string"],["wow64","boolean"]];const Nr=e=>"userAgentData"in e;var Lr=e=>Nr(e)?(t,n)=>{try{return e.userAgentData.getHighEntropyValues(jr.map((e=>e[0]))).then((e=>{const n={};jr.forEach((([t,o])=>{Object.prototype.hasOwnProperty.call(e,t)&&typeof e[t]===o&&(n[t]=e[t])})),pe(t,{environment:{browserDetails:{userAgentClientHints:n}}})}))}catch(e){return n.warn(`Unable to collect user-agent client hints. ${e.message}`),Qt}}:Qt;const Mr=kr(window),Vr=Tr(window),Gr=Ir(window),zr=Dr((()=>new Date)),Fr=Ar((()=>new Date)),Ur={web:Mr,device:Vr,environment:Gr,placeContext:zr},qr={highEntropyUserAgentHints:Lr(navigator)},Wr={...Ur,...qr},$r=[Fr,Or],Br=({config:e,logger:t})=>Rr(e,t,Wr,$r);Br.namespace="Context",Br.configValidators=Eo({context:yo(To()).default(Object.keys(Ur))});var Hr=({options:e})=>Eo({type:To(),xdm:Eo({eventType:To(),identityMap:Do}),data:Eo({}),documentUnloading:_o(),renderDecisions:_o(),decisionScopes:yo(To()).uniqueItems(),personalization:Eo({decisionScopes:yo(To()).uniqueItems(),surfaces:yo(To()).uniqueItems(),sendDisplayEvent:_o().default(!0),
includeRenderedPropositions:_o().default(!1),defaultPersonalizationEnabled:_o(),decisionContext:Eo({})}).default({sendDisplayEvent:!0}),datasetId:To(),mergeId:To(),edgeConfigOverrides:Ao,advertising:Eo({handleAdvertisingData:Io(Jo,Ko,Xo).default(Jo)})}).required().noUnknownFields()(e),Qr=({options:e})=>Eo({renderDecisions:_o(),responseHeaders:Po(To().required()),responseBody:Eo({handle:yo(Eo({type:To().required(),payload:vo().required()})).required()}).required(),personalization:Eo({sendDisplayEvent:_o().default(!0),decisionContext:Eo({})}).default({sendDisplayEvent:!0})}).noUnknownFields()(e);const Jr=({eventManager:e,logger:t})=>({commands:{sendEvent:{documentationUri:"https://adobe.ly/3GQ3Q7t",optionsValidator:e=>Hr({options:e}),run:n=>{const{xdm:o,data:i,documentUnloading:r,type:a,mergeId:s,datasetId:l,edgeConfigOverrides:c,...d}=n,u=e.createEvent();return r&&u.documentMayUnload(),u.setUserXdm(o),u.setUserData(i),a&&u.mergeXdm({eventType:a}),s&&u.mergeXdm({eventMergeId:s}),c&&(d.edgeConfigOverrides=c),l&&(t.warn("The 'datasetId' option has been deprecated. Please use 'edgeConfigOverrides.com_adobe_experience_platform.datasets.event.datasetId' instead."),d.edgeConfigOverrides=c||{},pe(d.edgeConfigOverrides,{com_adobe_experience_platform:{datasets:{event:{datasetId:l}}}})),e.sendEvent(u,d)}},applyResponse:{documentationUri:"",optionsValidator:e=>Qr({options:e}),run:t=>{const{renderDecisions:n=!1,decisionContext:o={},responseHeaders:i={},responseBody:r={handle:[]},personalization:a}=t,s=e.createEvent();return e.applyResponse(s,{renderDecisions:n,decisionContext:o,responseHeaders:i,responseBody:r,personalization:a})}}}});Jr.namespace="DataCollector";const Kr=(e,t)=>`ID sync ${t?"succeeded":"failed"}: ${e.spec.url}`;var Xr=({fireReferrerHideableImage:e,logger:t})=>n=>{const o=n.filter((e=>"url"===e.type));return o.length?Promise.all(o.map((n=>e(n.spec).then((()=>{t.info(Kr(n,!0))})).catch((()=>{t.error(Kr(n,!1))}))))).then(Qt):Promise.resolve()};const Yr=Eo({thirdPartyCookiesEnabled:_o().default(!0),idMigrationEnabled:_o().default(!0)});var Zr=Eo({url:To().required().nonEmpty(),edgeConfigOverrides:Ao}).required().noUnknownFields(),ea="ECID",ta=({addEcidQueryToPayload:e,addQueryStringIdentityToPayload:t,ensureSingleIdentity:n,setLegacyEcid:o,handleResponseForIdSyncs:i,getNamespacesFromResponse:r,getIdentity:a,consent:s,appendIdentityToUrl:l,logger:c,identity:d,getIdentityOptionsValidator:u})=>{let g,m={};return{lifecycle:{onBeforeRequest:({request:o,onResponse:i,onRequestFailure:r})=>(e(o.getPayload()),t(o.getPayload()),n({request:o,onResponse:i,onRequestFailure:r})),onResponse({response:e}){const t=r(e);return g&&g[ea]||!t||!t[ea]||o(t[ea]),t&&Object.keys(t).length>0&&(g={...g,...t}),m={...m,...e.getEdge()},d.setIdentityAcquired(),i(e)}},commands:{getIdentity:{optionsValidator:u,run:e=>{const{namespaces:t}=e;return s.awaitConsent().then((()=>{if(g)return;const n=d.getEcidFromCookie();return n&&t.includes(ea)&&(g||(g={}),g[ea]=n,1===t.length)?void 0:a(e)})).then((()=>({identity:t.reduce(((e,t)=>(e[t]=g[t]||null,e)),{}),edge:m})))}},appendIdentityToUrl:{optionsValidator:Zr,run:e=>s.withConsent().then((()=>{if(g)return;const t=d.getEcidFromCookie();return t?(g||(g={}),void(g[ea]=t)):a(e)})).then((()=>({url:l(g[ea],e.url)}))).catch((t=>(c.warn(`Unable to append identity to url. ${t.message}`),e)))}}}},na=({config:e,getEcidFromVisitor:t,apexDomain:n,isPageSsl:o,cookieJar:i})=>{const{idMigrationEnabled:r,orgId:a}=e,s=`AMCV_${a}`,l=()=>{let e=null;const t="s_ecid",n=i.get(t)||i.get(s);if(n){const t=/(^|\|)MCMID\|(\d+)($|\|)/,o=n.match(t);o&&(e=o[2])}return e};return{getEcid(){if(r){const e=l();return e?Promise.resolve(e):t()}return Promise.resolve()},setEcid(e){if(r&&l()!==e){const t=o?{sameSite:"none",secure:!0}:{};i.set(s,`MCMID|${e}`,{domain:n,expires:390,...t})}}}},oa=({logger:e})=>new Promise(((t,n)=>{if(le(window.adobe)&&le(window.adobe.optIn)){const o=window.adobe.optIn;e.info("Delaying request while waiting for legacy opt-in to let Visitor retrieve ECID from server."),o.fetchPermissions((()=>{o.isApproved([o.Categories.ECID])?(e.info("Received legacy opt-in approval to let Visitor retrieve ECID from server."),t()):n(new Error("Legacy opt-in was declined."))}),!0)}else t()})),ia=e=>{const t=e.Visitor;return je(t)&&je(t.getInstance)&&t},ra=({logger:e,orgId:t,awaitVisitorOptIn:n})=>()=>{const o=ia(window);return o?n({logger:e}).then((()=>(e.info("Delaying request while using Visitor to retrieve ECID from server."),new Promise((n=>{o.getInstance(t,{}).getMarketingCloudVisitorID((t=>{e.info("Resuming previously delayed request that was waiting for ECID from Visitor."),n(t)}),!0)}))))).catch((t=>{t?e.info(`${t.message}, retrieving ECID from experience edge`):e.info("An error occurred while obtaining the ECID from Visitor.")})):Promise.resolve()},aa=({processIdSyncs:e})=>t=>e(t.getPayloadsByType("identity:exchange")),sa=({doesIdentityCookieExist:e,setDomainForInitialIdentityPayload:t,addLegacyEcidToPayload:n,awaitIdentityCookie:o,logger:i})=>{let r;const a=e=>(t(e),n(e.getPayload()));return({request:t,onResponse:n,onRequestFailure:s})=>{if(e())return t.setIsIdentityEstablished(),Promise.resolve();if(r){i.info("Delaying request while retrieving ECID from server.");const e=r;return r=e.catch((()=>o({onResponse:n,onRequestFailure:s}))),r.catch((()=>{})),e.then((()=>{i.info("Resuming previously delayed request."),t.setIsIdentityEstablished()})).catch((()=>a(t)))}return r=o({onResponse:n,onRequestFailure:s}),r.catch((()=>{})),a(t)}},la="CORE",ca=({thirdPartyCookiesEnabled:e,areThirdPartyCookiesSupportedByDefault:t})=>{const n={identity:{fetch:[ea]}};return e&&t()&&n.identity.fetch.push(la),e=>{e.mergeQuery(n)}},da=({thirdPartyCookiesEnabled:e,areThirdPartyCookiesSupportedByDefault:t})=>n=>{e&&t()&&n.setUseIdThirdPartyDomain()},ua=({getLegacyEcid:e,addEcidToPayload:t})=>n=>n.hasIdentity(ea)?Promise.resolve():e().then((e=>{e&&t(n,e)})),ga="adobe_mc",ma=e=>{try{return decodeURIComponent(e)}catch{return""}};const pa=300;var fa=({locationSearch:e,dateProvider:t,orgId:n,logger:o})=>i=>{if(i.hasIdentity(ea))return;let r=ae.default.parse(e)[ga];if(void 0===r)return;Array.isArray(r)&&(o.warn("Found multiple adobe_mc query string paramters, only using the last one."),r=r[r.length-1]);const a=r.split("|").reduce(((e,t)=>{const[n,o]=t.split("=");return e[n]=ma(o),e[n]=e[n].replace(/[^a-zA-Z0-9@.]/g,""),e}),{}),s=parseInt(a.TS,10),l=a.MCMID,c=ma(a.MCORGID);t().getTime()/1e3<=s+pa&&c===n&&l?(o.info(`Found valid ECID identity ${l} from the adobe_mc query string parameter.`),i.addIdentity(ea,{id:l})):o.info("Detected invalid or expired adobe_mc query string parameter.")},ha=(e,t)=>{e.addIdentity(ea,{id:t})},ba=({doesIdentityCookieExist:e,orgId:t,logger:n})=>({onResponse:o,onRequestFailure:i})=>new Promise(((r,a)=>{o((()=>{e()?r():(n.warn(`Identity cookie not found. This could be caused by any of the following issues:\n\t* The org ID ${t} configured in Alloy doesn't match the org ID specified in the edge configuration.\n\t* Experience edge was not able to set the identity cookie due to domain or cookie restrictions.\n\t* The request was canceled by the browser and not fully processed.`),a(new Error("Identity cookie not found.")))})),i((()=>{e()?r():a(new Error("Identity cookie not found."))}))})),va=e=>e.getPayloadsByType("identity:result").reduce(((e,t)=>(t.namespace&&t.namespace.code&&(e[t.namespace.code]=t.id),e)),{}),ya=({sendEdgeNetworkRequest:e,createIdentityRequestPayload:t,createIdentityRequest:n,globalConfigOverrides:o})=>({namespaces:i,edgeConfigOverrides:r}={})=>{const a=Gi({payload:t(i),globalConfigOverrides:o,localConfigOverrides:r}),s=n(a);return e({request:s})},_a=({payload:e,datastreamIdOverride:t})=>Ri({payload:e,datastreamIdOverride:t,getAction:()=>"identity/acquire",getUseSendBeacon:()=>!1}),wa=e=>{const t={query:{identity:{fetch:e}}};return Li({content:t,addIdentity:Oi(t),hasIdentity:Mi(t)})};const Ca=/^([^?#]*)(\??[^#]*)(#?.*)$/,ka=e=>""===e?"?":"?"===e?"":"&";var Pa=({dateProvider:e,orgId:t})=>(n,o)=>{const i=Math.round(e().getTime()/1e3),r=encodeURIComponent(`TS=${i}|MCMID=${n}|MCORGID=${encodeURIComponent(t)}`),[,a,s,l]=o.match(Ca);return`${a}${s}${ka(s)}adobe_mc=${r}${l}`};const Ea=Eo({namespaces:yo(Io(ea,la)).nonEmpty().uniqueItems().default([ea]),edgeConfigOverrides:Ao}).noUnknownFields().default({namespaces:[ea]});var Ta=({thirdPartyCookiesEnabled:e})=>t=>{const n=Ea(t);if(!e&&n.namespaces.includes(la))throw new Error(`namespaces: The ${la} namespace cannot be requested when third-party cookies are disabled.`);return n};const Ia=({config:e,logger:t,consent:n,fireReferrerHideableImage:o,sendEdgeNetworkRequest:i,apexDomain:r,getBrowser:a,identity:s})=>{const{orgId:l,thirdPartyCookiesEnabled:c,edgeConfigOverrides:d}=e,u=ra({logger:t,orgId:l,awaitVisitorOptIn:oa}),g=be({logger:t,cookieJar:ge}),m=na({config:e,getEcidFromVisitor:u,apexDomain:r,cookieJar:g,isPageSsl:"https:"===window.location.protocol}),p=Lt({orgId:l}),f=ya({sendEdgeNetworkRequest:i,createIdentityRequestPayload:wa,createIdentityRequest:_a,globalConfigOverrides:d}),h=Ot({getBrowser:a}),b=da({thirdPartyCookiesEnabled:c,areThirdPartyCookiesSupportedByDefault:h}),v=ua({getLegacyEcid:m.getEcid,addEcidToPayload:ha}),y=fa({locationSearch:window.document.location.search,dateProvider:()=>new Date,orgId:l,logger:t}),_=ba({doesIdentityCookieExist:p,orgId:l,logger:t}),w=sa({doesIdentityCookieExist:p,setDomainForInitialIdentityPayload:b,addLegacyEcidToPayload:v,awaitIdentityCookie:_,logger:t}),C=Xr({fireReferrerHideableImage:o,logger:t}),k=aa({processIdSyncs:C}),P=Pa({dateProvider:()=>new Date,orgId:l}),E=Ta({thirdPartyCookiesEnabled:c}),T=ca({thirdPartyCookiesEnabled:c,areThirdPartyCookiesSupportedByDefault:h});return ta({addEcidQueryToPayload:T,addQueryStringIdentityToPayload:y,ensureSingleIdentity:w,setLegacyEcid:m.setEcid,handleResponseForIdSyncs:k,getNamespacesFromResponse:va,getIdentity:f,consent:n,identity:s,appendIdentityToUrl:P,logger:t,getIdentityOptionsValidator:E})};Ia.namespace="Identity",Ia.configValidators=Yr;const Da=({config:e,componentRegistry:t})=>{const n=[...t.getCommandNames(),ui,gi].sort(),o={...e};Object.keys(e).forEach((t=>{const n=e[t];"function"==typeof n&&(o[t]=n.toString())}));const i=t.getComponentNames();return{version:xr,configs:o,commands:n,components:i}},Aa=({config:e,componentRegistry:t})=>({commands:{getLibraryInfo:{run:()=>({libraryInfo:Da({config:e,componentRegistry:t})})}}});Aa.namespace="LibraryInfo";var Sa=Object.freeze({__proto__:null,context:Br,dataCollector:Jr,identity:Ia,libraryInfo:Aa});const xa=zt(window),{fetch:Oa,navigator:Ra}=window,ja=Ti(),Na=vt(window,ge),La=Di({fetch:Oa}),Ma=dt(),Va=Wi({window:window,createNamespacedStorage:xa}),Ga=Vt({userAgent:window.navigator.userAgent}),za=({instanceName:e,logController:{setDebugEnabled:t,logger:n,createComponentLogger:o},components:i})=>{const r=Mo(),a=No(r),s=i.concat(Object.values(Sa)),l=e=>{t(e.enabled,{fromConfig:!1})},c=be({logger:n,cookieJar:ge}),d=i=>{const l=_i({options:i,componentCreators:s,coreConfigValidators:ja,createConfig:Ci,logger:n,setDebugEnabled:t}),{orgId:d,targetMigrationEnabled:u}=l,g=Yi({orgId:d,targetMigrationEnabled:u}),m=Qi({cookieJar:c,shouldTransferCookie:g,apexDomain:Na,dateProvider:()=>new Date}),p=je(Ra.sendBeacon)?Ai({sendBeacon:Ra.sendBeacon.bind(Ra),sendFetchRequest:La,logger:n}):La,f=Vo({logger:n,sendFetchRequest:La,sendBeaconRequest:p,isRequestRetryable:mr,getRequestRetryDelay:yr}),h=cr({logger:n}),b=Go({logger:n}),v=di({extractEdgeInfo:b}),y=dr({orgId:d,cookieJar:ge}),_=ar({config:l,lifecycle:a,cookieTransfer:m,sendNetworkRequest:f,createResponse:v,processWarningsAndErrors:h,getLocationHint:y,getAssuranceValidationTokenParams:Va}),w=wr({lifecycle:a,cookieTransfer:m,createResponse:v,processWarningsAndErrors:h}),C=ii({logger:n}),k=ri({generalConsentState:C,logger:n}),P=$o({config:l,logger:n,loggingCookieJar:c});P.initialize();const E=Bi({config:l,logger:n,lifecycle:a,consent:k,createEvent:si,createDataCollectionRequestPayload:Vi,createDataCollectionRequest:ji,sendEdgeNetworkRequest:_,applyResponse:w});return wi({componentCreators:s,lifecycle:a,componentRegistry:r,getImmediatelyAvailableTools(t){const n=o(t);return{config:l,componentRegistry:r,consent:k,identity:P,eventManager:E,fireReferrerHideableImage:Ma,logger:n,lifecycle:a,sendEdgeNetworkRequest:_,handleError:Ii({errorPrefix:`[${e}] [${t}]`,logger:n}),createNamespacedStorage:xa,apexDomain:Na,getBrowser:Ga}}})},u=Ii({errorPrefix:`[${e}]`,logger:n});return mi({logger:n,configureCommand:d,setDebugCommand:l,handleError:u,validateCommandOptions:fi})},Fa=({eventManager:e,lifecycle:t,handleError:n})=>o=>{if(o.s_fe)return Promise.resolve();const i="composedPath"in o&&o.composedPath().length>0?o.composedPath()[0]:o.target,r=e.createEvent();return r.documentMayUnload(),t.onClick({event:r,clickedElement:i}).then((()=>r.isEmpty()?Promise.resolve():e.sendEvent(r))).then(Qt).catch((e=>{n(e,"click collection")}))};var Ua=({eventManager:e,lifecycle:t,handleError:n})=>{const o=Fa({eventManager:e,lifecycle:t,handleError:n});document.addEventListener("click",o,!0)};const qa="\\.(exe|zip|wav|mp3|mov|mpg|avi|wmv|pdf|doc|docx|xls|xlsx|ppt|pptx)$",Wa=To().regexp().default(qa),$a=Eo({clickCollectionEnabled:_o().default(!0),clickCollection:Eo({internalLinkEnabled:_o().default(!0),externalLinkEnabled:_o().default(!0),downloadLinkEnabled:_o().default(!0),sessionStorageEnabled:_o().default(!1),eventGroupingEnabled:_o().default(!1),filterClickProperties:wo()}).default({internalLinkEnabled:!0,externalLinkEnabled:!0,downloadLinkEnabled:!0,sessionStorageEnabled:!1,eventGroupingEnabled:!1}),downloadLinkQualifier:Wa,onBeforeLinkClickSend:wo().deprecated('The field "onBeforeLinkClickSend" has been deprecated. Use "clickCollection.filterClickDetails" instead.')}),Ba="cppXYctnr";var Ha=(e=document)=>null!==e.getElementById(Ba),Qa=e=>{let t=e;/^https?:\/\//i.test(t)||(t=`${window.location.protocol}//${e}`);return new URL(t).hostname},Ja=(e,t)=>Qa(e)!==Qa(t);const Ka=(e,t)=>t&&("download"===t&&!e.downloadLinkEnabled||"exit"===t&&!e.externalLinkEnabled||"other"===t&&!e.internalLinkEnabled);var Xa=({config:e,logger:t,getClickedElementProperties:n,clickActivityStorage:o})=>{const{clickCollectionEnabled:i,clickCollection:r}=e;return i?({event:i,clickedElement:a})=>{const s=n({clickActivityStorage:o,clickedElement:a,config:e,logger:t}),l=s.linkType;Ha()||(s.isValidLink()&&Ka(r,l)?t.info(`Cancelling link click event due to clickCollection.${l}LinkEnabled = false.`):!s.isInternalLink()||!r.eventGroupingEnabled||e.onBeforeLinkClickSend&&!r.filterClickDetails||Ja(window.location.hostname,s.linkUrl)?s.isValidLink()?(i.mergeXdm(s.xdm),i.mergeData(s.data),o.save({pageName:s.pageName,pageIDType:s.pageIDType})):s.isValidActivityMapData()&&o.save(s.properties):o.save(s.properties))}:()=>{}};const Ya=e=>({eventType:"web.webinteraction.linkClicks",web:{webInteraction:{name:e.linkName,region:e.linkRegion,type:e.linkType,URL:e.linkUrl,linkClicks:{value:1}}}}),Za=e=>({__adobe:{analytics:{contextData:{a:{activitymap:{page:e.pageName,link:e.linkName,region:e.linkRegion,pageIDType:e.pageIDType}}}}}}),es=(e,t)=>{const{xdm:n,data:o,clickedElement:i}=e;if(t.clickedElement=i,n&&n.web&&n.web.webInteraction){const{name:e,region:o,type:i,URL:r}=n.web.webInteraction;t.linkName=e,t.linkRegion=o,t.linkType=i,t.linkUrl=r}if(o&&o.__adobe&&o.__adobe.analytics){const{contextData:e}=o.__adobe.analytics;if(e&&e.a&&e.a.activitymap){const{page:n,link:o,region:i,pageIDType:r}=e.a.activitymap;t.pageName=n||t.pageName,t.linkName=o||t.linkName,t.linkRegion=i||t.linkRegion,void 0!==r&&(t.pageIDType=r)}}};var ts=({properties:e,logger:t}={})=>{let n=e||{};return{get pageName(){return n.pageName},set pageName(e){n.pageName=e},get linkName(){return n.linkName},set linkName(e){n.linkName=e},get linkRegion(){return n.linkRegion},set linkRegion(e){n.linkRegion=e},get linkType(){return n.linkType},set linkType(e){n.linkType=e},get linkUrl(){return n.linkUrl},set linkUrl(e){n.linkUrl=e},get pageIDType(){return n.pageIDType},set pageIDType(e){n.pageIDType=e},get clickedElement(){return n.clickedElement},set clickedElement(e){n.clickedElement=e},get properties(){return{pageName:n.pageName,linkName:n.linkName,linkRegion:n.linkRegion,linkType:n.linkType,linkUrl:n.linkUrl,pageIDType:n.pageIDType}},isValidLink:()=>!!(n.linkUrl&&n.linkType&&n.linkName&&n.linkRegion),isInternalLink(){return this.isValidLink()&&"other"===n.linkType},isValidActivityMapData:()=>!!n.pageName&&!!n.linkName&&!!n.linkRegion&&void 0!==n.pageIDType,get xdm(){return n.filteredXdm?n.filteredXdm:Ya(this)},get data(){return n.filteredData?n.filteredData:Za(this)},applyPropertyFilter(e){e&&!1===e(n)&&(t&&t.info(`Clicked element properties were rejected by filter function: ${JSON.stringify(this.properties,null,2)}`),n={})},applyOptionsFilter(e){const o=this.options;if(o&&o.clickedElement&&(o.xdm||o.data)){if(e&&!1===e(o))return t&&t.info(`Clicked element properties were rejected by filter function: ${JSON.stringify(this.properties,null,2)}`),void(this.options=void 0);this.options=o,n.filteredXdm=o.xdm,n.filteredData=o.data}},get options(){const e={};if(this.isValidLink()&&(e.xdm=this.xdm),this.isValidActivityMapData()&&(e.data=this.data),this.clickedElement&&(e.clickedElement=this.clickedElement),e.xdm||e.data)return e},set options(e){n={},e&&es(e,n)}}},ns=({clickActivityStorage:e})=>t=>{if(Ha())return;const n=e.load(),o=ts({properties:n});if(o.isValidLink()||o.isValidActivityMapData()){if(o.isValidLink()){const e=o.xdm;delete e.eventType,t.mergeXdm(e)}o.isValidActivityMapData()&&t.mergeData(o.data),e.save({pageName:o.pageName,pageIDType:o.pageIDType})}},os=({window:e,getLinkName:t,getLinkRegion:n,getAbsoluteUrlFromAnchorElement:o,findClickableElement:i,determineLinkType:r})=>({clickedElement:a,config:s,logger:l,clickActivityStorage:c})=>{const{onBeforeLinkClickSend:d,clickCollection:u}=s,{filterClickDetails:g}=u,m=ts({logger:l});if(a){const l=i(a);if(l){m.clickedElement=a,m.linkUrl=o(e,l),m.linkType=r(e,s,m.linkUrl,l),m.linkRegion=n(l),m.linkName=t(l),m.pageIDType=0,m.pageName=e.location.href;const i=c.load();i&&i.pageName&&(m.pageName=i.pageName,m.pageIDType=1),g?m.applyPropertyFilter(g):d&&m.applyOptionsFilter(d)}}return m};const is="clickData";var rs=({storage:e})=>({save:t=>{const n=JSON.stringify(t);e.setItem(is,n)},load:()=>{let t=null;const n=e.getItem(is);return n&&(t=JSON.parse(n)),t},remove:()=>{e.removeItem(is)}}),as=({clickActivityStorage:e})=>t=>{e.save({pageName:t.getContent().xdm.web.webPageDetails.name,pageIDType:1})},ss=(e,t)=>{const{clickCollectionEnabled:n,onBeforeLinkClickSend:o,downloadLinkQualifier:i}=e;!1===n&&(o&&t.warn("The 'onBeforeLinkClickSend' configuration was provided but will be ignored because clickCollectionEnabled is false."),i&&i!==qa&&t.warn("The 'downloadLinkQualifier' configuration was provided but will be ignored because clickCollectionEnabled is false."))},ls=e=>e&&e.replace(/\s+/g," ").trim();const cs=/^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i;var ds=e=>!(e&&e.nodeName&&e.nodeName.match(cs));const us=e=>{let t=[],n=!1;if(ds(e)){if(t.push(e),e.childNodes){Array.prototype.slice.call(e.childNodes).forEach((e=>{const o=us(e);t=t.concat(o.supportedNodes),n=n||o.includesUnsupportedNodes}))}}else n=!0;return{supportedNodes:t,includesUnsupportedNodes:n}},gs=(e,t,n)=>{let o;return n&&n!==e.nodeName.toUpperCase()||(o=e.getAttribute(t)),o},ms=e=>{const t={texts:[]};return e.supportedNodes.forEach((e=>{e.getAttribute&&(t.alt||(t.alt=ls(e.getAttribute("alt"))),t.title||(t.title=ls(e.getAttribute("title"))),t.inputValue||(t.inputValue=ls(gs(e,"value","INPUT"))),t.imgSrc||(t.imgSrc=ls(gs(e,"src","IMG")))),e.nodeValue&&t.texts.push(e.nodeValue)})),t};const ps=/^(HEADER|MAIN|FOOTER|NAV)$/i,fs=e=>{let t;return"region"===e.role&&Ht(e["aria-label"])&&(t=e["aria-label"]),t},hs=e=>{let t;return e&&e.nodeName&&e.nodeName.match(ps)&&(t=e.nodeName),t};var bs=(e,t)=>{const n=e.location.href;let o=t.href||"";"string"!=typeof o&&(o="");try{return new URL(o,n).href}catch{return n}},vs=e=>!(!e.href||"A"!==e.tagName&&"AREA"!==e.tagName||e.onclick&&e.protocol&&!(e.protocol.toLowerCase().indexOf("javascript")<0)),ys=e=>!!e&&!!e.onclick,_s=e=>{if("INPUT"===e.tagName){const t=e.getAttribute("type");if("submit"===t)return!0;if("image"===t&&e.src)return!0}return!1},ws=e=>"BUTTON"===e.tagName&&"submit"===e.type,Cs=e=>{const t=e.indexOf("?"),n=e.indexOf("#");return t>=0&&(t<n||n<0)?e.substring(0,t):n>=0?e.substring(0,n):e},ks=(e,t,n)=>{let o=!1;if(t)if(n&&n.download)o=!0;else if(e){const n=new RegExp(e),i=Cs(t).toLowerCase();o=n.test(i)}return o},Ps=(e,t)=>{let n=!1;if(t&&e.location.hostname){const o=e.location.hostname.toLowerCase();n=Cs(t).toLowerCase().indexOf(o)<0}return n},Es=e=>{const t=e.getContent();return void 0!==t.xdm&&void 0!==t.xdm.web&&void 0!==t.xdm.web.webPageDetails&&void 0!==t.xdm.web.webPageDetails.name},Ts=()=>{const e={};return{getItem:t=>e[t],setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}};const Is=os({window:window,getLinkName:e=>{let t=ls(e.innerText||e.textContent);const n=us(e);if(!t||n.includesUnsupportedNodes){const e=ms(n);t=ls(e.texts.join("")),t||(t=e.alt||e.title||e.inputValue||e.imgSrc)}return t||""},getLinkRegion:e=>{let t,n=e.parentNode;for(;n;){if(t=ls(n.id||fs(n)||hs(n)),t)return t;n=n.parentNode}return"BODY"},getAbsoluteUrlFromAnchorElement:bs,findClickableElement:e=>{let t=e;for(;t&&(!t.nodeName||"BODY"!==t.nodeName);){if(vs(t)||ys(t)||_s(t)||ws(t))return t;t=t.parentNode}return null},determineLinkType:(e,t,n,o)=>{let i="other";return Ht(n)&&(ks(t.downloadLinkQualifier,n,o)?i="download":Ps(e,n)&&(i="exit")),i}});let Ds;const As=e=>{if(!Ds){const t=zt(window)(e.orgId||""),n=Ts(),o=e.clickCollection.sessionStorageEnabled?t.session:n;Ds=rs({storage:o})}},Ss=({config:e,eventManager:t,handleError:n,logger:o})=>{ss(e,o);const i=e.clickCollection;Ds||As(e);const r=Xa({config:e,logger:o,clickActivityStorage:Ds,getClickedElementProperties:Is}),a=ns({clickActivityStorage:Ds}),s=as({clickActivityStorage:Ds});return{lifecycle:{onComponentsRegistered(e){const{lifecycle:o}=e;Ua({eventManager:t,lifecycle:o,handleError:n})},onClick({event:e,clickedElement:t}){r({event:e,clickedElement:t})},onBeforeEvent({event:e}){Es(e)&&(i.eventGroupingEnabled&&a(e),s(e,o,Ds))}}}};Ss.namespace="ActivityCollector",Ss.configValidators=$a,Ss.buildOnInstanceConfiguredExtraParams=({config:e,logger:t})=>(Ds||As(e),{getLinkDetails:n=>Is({clickActivityStorage:Ds,clickedElement:n,config:e,logger:t}).properties});const xs=e=>`URL destination succeeded: ${e.spec.url}`;var Os=({fireReferrerHideableImage:e,logger:t,cookieJar:n,isPageSsl:o})=>{const i=o?{sameSite:"none",secure:!0}:{},r=e=>{e.filter((e=>"cookie"===e.type)).forEach((e=>{const{name:t,value:o,domain:r,ttlDays:a}=e.spec;n.set(t,o||"",{domain:r||"",expires:a||10,...i})}))},a=n=>{const o=n.filter((e=>"url"===e.type));return Promise.all(o.map((n=>e(n.spec).then((()=>{t.info(xs(n))})).catch((()=>{}))))).then(Qt)};return e=>(r(e),a(e))},Rs=({processDestinations:e})=>{const t=({response:t})=>{const n=t.getPayloadsByType("activation:push");return e(n)},n=({response:e})=>({destinations:e.getPayloadsByType("activation:pull")});return({response:e})=>t({response:e}).then((()=>n({response:e})))};const js=({logger:e,fireReferrerHideableImage:t})=>{const n=ge.withConverter({write:e=>encodeURIComponent(e)}),o=be({logger:e,cookieJar:n}),i=Os({fireReferrerHideableImage:t,logger:e,cookieJar:o,isPageSsl:"https:"===window.location.protocol});return{lifecycle:{onResponse:Rs({processDestinations:i})},commands:{}}};js.namespace="Audiences";var Ns=({storedConsent:e,taskQueue:t,defaultConsent:n,consent:o,sendSetConsentRequest:i,validateSetConsentOptions:r,consentHashStore:a,doesIdentityCookieExist:s})=>{const l={[Yo]:n};let c=e.read();const d=s(),u=void 0!==c[Yo];d&&u||a.clear(),d||(e.clear(),c={}),o.initializeConsent(l,c);const g=()=>{if(0===t.length){const t=e.read();void 0!==t[Yo]&&o.setConsent(t)}};return{commands:{setConsent:{optionsValidator:r,run:({consent:e,identityMap:n,edgeConfigOverrides:r})=>{o.suspend();const s=a.lookup(e);return t.addTask((()=>s.isNew()?i({consentOptions:e,identityMap:n,edgeConfigOverrides:r}):Promise.resolve())).then((()=>s.save())).finally(g)}}},lifecycle:{onResponse:g,onRequestFailure:g}}},Ls=e=>pt(JSON.stringify(en(e)));const Ms=({standard:e,version:t})=>`${e}.${t}`;var Vs=({storage:e})=>({clear(){e.clear()},lookup(t){const n={},o=e=>{const t=Ms(e),{standard:o,version:i,...r}=e;return n[t]||(n[t]=Ls(r).toString()),n[t]};return{isNew:()=>t.some((t=>{const n=Ms(t),i=e.getItem(n);return null===i||i!==o(t)})),save(){t.forEach((t=>{const n=Ms(t);e.setItem(n,o(t))}))}}}}),Gs=()=>{const e={};return{...Li({content:e,addIdentity:(t,n)=>{e.identityMap=e.identityMap||{},e.identityMap[t]=e.identityMap[t]||[],e.identityMap[t].push(n)},hasIdentity:t=>void 0!==(e.identityMap&&e.identityMap[t])}),setConsent:t=>{e.consent=t}}},zs=({payload:e,datastreamIdOverride:t})=>Ri({payload:e,datastreamIdOverride:t,getAction:()=>"privacy/set-consent",getUseSendBeacon:()=>!1}),Fs=({parseConsentCookie:e,orgId:t,cookieJar:n})=>{const o=wt(t,jt);return{read(){const t=n.get(o);return t?e(t):{}},clear(){n.remove(o)}}},Us=({createConsentRequestPayload:e,createConsentRequest:t,sendEdgeNetworkRequest:n,edgeConfigOverrides:o})=>({consentOptions:i,identityMap:r,edgeConfigOverrides:a})=>{const s=Gi({payload:e(),globalConfigOverrides:o,localConfigOverrides:a});s.payload.setConsent(i),le(r)&&Object.keys(r).forEach((e=>{r[e].forEach((t=>{s.payload.addIdentity(e,t)}))}));const l=t(s);return n({request:l}).then((()=>{}))},qs=e=>e.split(";").reduce(((e,t)=>{const[n,o]=t.split("=");return e[n]=o,e}),{}),Ws=Eo({consent:yo(vo()).required().nonEmpty(),identityMap:Do,edgeConfigOverrides:Ao}).noUnknownFields().required(),$s=Eo({defaultConsent:Io(Bo,Ho,Qo).default(Bo)});const Bs=({config:e,consent:t,sendEdgeNetworkRequest:n,createNamespacedStorage:o})=>{const{orgId:i,defaultConsent:r}=e,a=Fs({parseConsentCookie:qs,orgId:i,cookieJar:ge}),s=ve(),l=Us({createConsentRequestPayload:Gs,createConsentRequest:zs,sendEdgeNetworkRequest:n,edgeConfigOverrides:e.edgeConfigOverrides}),c=o(`${_t(i)}.consentHashes.`),d=Vs({storage:c.persistent}),u=Lt({orgId:i});return Ns({storedConsent:a,taskQueue:s,defaultConsent:r,consent:t,sendSetConsentRequest:l,validateSetConsentOptions:Ws,consentHashStore:d,doesIdentityCookieExist:u})};Bs.namespace="Consent",Bs.configValidators=$s;var Hs=()=>({eventMergeId:l()});t.createEventMergeId=Hs;var Qs=({createEventMergeId:e})=>({commands:{createEventMergeId:{run:e}}});const Js=()=>Qs({createEventMergeId:Hs});Js.namespace="EventMerge";var Ks={PAUSE:"media.pauseStart",PLAY:"media.play",BUFFER_START:"media.bufferStart",AD_START:"media.adStart",Ad_BREAK_START:"media.adBreakStart",SESSION_END:"media.sessionEnd",SESSION_START:"media.sessionStart",SESSION_COMPLETE:"media.sessionComplete",PING:"media.ping",AD_BREAK_COMPLETE:"media.adBreakComplete",AD_COMPLETE:"media.adComplete",AD_SKIP:"media.adSkip",BITRATE_CHANGE:"media.bitrateChange",CHAPTER_COMPLETE:"media.chapterComplete",CHAPTER_SKIP:"media.chapterSkip",CHAPTER_START:"media.chapterStart",ERROR:"media.error",STATES_UPDATE:"media.statesUpdate"},Xs=({mediaRequestPayload:e,action:t})=>Ri({payload:e,edgeSubPath:"/va",getAction:()=>t,getUseSendBeacon:()=>!1}),Ys=({config:e,eventManager:t,consent:n,sendEdgeNetworkRequest:o,setTimestamp:i})=>({createMediaEvent({options:n}){const o=t.createEvent(),{xdm:r}=n;if(i(r),o.setUserXdm(r),r.eventType===Ks.AD_START){const{advertisingDetails:t}=n.xdm.mediaCollection;o.mergeXdm({mediaCollection:{advertisingDetails:{playerName:t.playerName||e.streamingMedia.playerName}}})}return o},createMediaSession(n){const{playerName:o,channel:i,appVersion:r}=e.streamingMedia,a=t.createEvent(),{sessionDetails:s}=n.xdm.mediaCollection;return a.setUserXdm(n.xdm),a.mergeXdm({eventType:Ks.SESSION_START,mediaCollection:{sessionDetails:{playerName:s.playerName||o,channel:s.channel||i,appVersion:s.appVersion||r}}}),a},augmentMediaEvent({event:e,playerId:t,getPlayerDetails:n,sessionID:o}){if(!t||!n)return e;const{playhead:i,qoeDataDetails:r}=n({playerId:t});return e.mergeXdm({mediaCollection:{playhead:an(i),qoeDataDetails:r,sessionID:o}}),e},trackMediaSession({event:e,mediaOptions:n,edgeConfigOverrides:o}){const i={mediaOptions:n,edgeConfigOverrides:o};return t.sendEvent(e,i)},trackMediaEvent({event:e,action:t}){const i=Vi(),r=Xs({mediaRequestPayload:i,action:t});return i.addEvent(e),e.finalize(),n.awaitConsent().then((()=>o({request:r}).then((()=>({})))))}}),Zs={MAIN:"main",COMPLETED:"completed"},el=()=>{let e;return{getSession:t=>e[t]||{},storeSession:({playerId:t,sessionDetails:n})=>{void 0===e&&(e={}),e[t]=n},stopPing:({playerId:t})=>{const n=e[t];n&&(clearTimeout(n.pingId),n.pingId=null,n.playbackState=Zs.COMPLETED)},savePing:({playerId:t,pingId:n,playbackState:o})=>{e[t]&&(e[t].pingId&&clearTimeout(e[t].pingId),e[t].pingId=n,e[t].playbackState=o)}}};const tl=(e,t)=>e===Ks.AD_START||e===Ks.Ad_BREAK_START||e===Ks.AD_SKIP||e===Ks.AD_COMPLETE?"ad":e===Ks.AD_BREAK_COMPLETE||e===Ks.CHAPTER_COMPLETE||e===Ks.CHAPTER_START||e===Ks.CHAPTER_SKIP||e===Ks.SESSION_START?"main":e===Ks.SESSION_END||e===Ks.SESSION_COMPLETE?"completed":t;var nl=({mediaEventManager:e,mediaSessionCacheManager:t,config:n})=>{const o=i=>{const r=e.createMediaEvent({options:i}),{playerId:a,xdm:s}=i,{eventType:l}=s,c=l.split(".")[1],{getPlayerDetails:d,sessionPromise:u,playbackState:g}=t.getSession(a);return u.then((i=>i.sessionId?(e.augmentMediaEvent({event:r,eventType:l,playerId:a,getPlayerDetails:d,sessionID:i.sessionId}),e.trackMediaEvent({event:r,action:c}).then((()=>{if(a)if(l===Ks.SESSION_COMPLETE||l===Ks.SESSION_END)t.stopPing({playerId:a});else{const e=tl(l,g);if("completed"===e)return;const i="ad"===e?n.streamingMedia.adPingInterval:n.streamingMedia.mainPingInterval,r=setTimeout((()=>{const e={playerId:a,xdm:{eventType:Ks.PING}};o(e)}),1e3*i);t.savePing({playerId:a,pingId:r,playbackState:e})}}))):Promise.reject(new Error(`Failed to trigger media event: ${l}. Session ID is not available for playerId: ${a}.`))))};return e=>o(e)},ol=({config:e,mediaEventManager:t,mediaSessionCacheManager:n,legacy:o=!1})=>i=>{if(!e.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));const{playerId:r,getPlayerDetails:a,edgeConfigOverrides:s}=i,l=t.createMediaSession(i);t.augmentMediaEvent({event:l,playerId:r,getPlayerDetails:a});const c=t.trackMediaSession({event:l,mediaOptions:{playerId:r,getPlayerDetails:a,legacy:o},edgeConfigOverrides:s});return n.storeSession({playerId:r,sessionDetails:{sessionPromise:c,getPlayerDetails:a,playbackState:Zs.MAIN}}),c},il=e=>!Bt(e)||!e.trim(),rl=({mediaSessionCacheManager:e,config:t,trackMediaEvent:n})=>({response:o,playerId:i,getPlayerDetails:r})=>{const a=o.getPayloadsByType("media-analytics:new-session");if(Ne(a)){const{sessionId:o}=a[0];if(il(o))return{};if(!i||!r)return{sessionId:o};const s=setTimeout((()=>{n({playerId:i,xdm:{eventType:Ks.PING}})}),1e3*t.streamingMedia.mainPingInterval);return e.savePing({playerId:i,pingId:s,playbackState:Zs.MAIN}),{sessionId:o}}return{}};const al={Video:"video",Audio:"audio"},sl={VOD:"vod",Live:"live",Linear:"linear",Podcast:"podcast",Audiobook:"audiobook",AOD:"aod"},ll={FullScreen:"fullScreen",ClosedCaption:"closedCaptioning",Mute:"mute",PictureInPicture:"pictureInPicture",InFocus:"inFocus"},cl={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",StateStart:"stateStart",StateEnd:"stateEnd"},dl={SessionStart:"sessionStart",SessionEnd:"sessionEnd",SessionComplete:"sessionComplete",Play:"play",Pause:"pauseStart",Error:"error",StateUpdate:"statesUpdate"},ul={MediaResumed:"media.resumed",GranularAdTracking:"media.granularadtracking"},gl={Show:"a.media.show",Season:"a.media.season",Episode:"a.media.episode",AssetId:"a.media.asset",Genre:"a.media.genre",FirstAirDate:"a.media.airDate",FirstDigitalDate:"a.media.digitalDate",Rating:"a.media.rating",Originator:"a.media.originator",Network:"a.media.network",ShowType:"a.media.type",AdLoad:"a.media.adLoad",MVPD:"a.media.pass.mvpd",Authorized:"a.media.pass.auth",DayPart:"a.media.dayPart",Feed:"a.media.feed",StreamFormat:"a.media.format"},ml={Artist:"a.media.artist",Album:"a.media.album",Label:"a.media.label",Author:"a.media.author",Station:"a.media.station",Publisher:"a.media.publisher"},pl={Advertiser:"a.media.ad.advertiser",
CampaignId:"a.media.ad.campaign",CreativeId:"a.media.ad.creative",PlacementId:"a.media.ad.placement",SiteId:"a.media.ad.site",CreativeUrl:"a.media.ad.creativeURL"};var fl=({trackMediaEvent:e,trackMediaSession:t,mediaResponseHandler:n,logger:o,createMediaHelper:i,createGetInstance:r,config:a})=>({lifecycle:{onBeforeEvent({mediaOptions:e,onResponse:t=Qt}){if(!e)return;const{legacy:o,playerId:i,getPlayerDetails:r}=e;o&&t((({response:e})=>n({playerId:i,getPlayerDetails:r,response:e})))}},commands:{getMediaAnalyticsTracker:{run:()=>{if(!a.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));o.info("Streaming media is configured in legacy mode.");const n=i({logger:o});return Promise.resolve({getInstance:()=>r({logger:o,trackMediaEvent:e,trackMediaSession:t,uuid:l}),Event:cl,MediaType:al,PlayerState:ll,StreamType:sl,MediaObjectKey:ul,VideoMetadataKeys:gl,AudioMetadataKeys:ml,AdMetadataKeys:pl,...n})}}}}),hl=({logger:e})=>{const t=(t,n,o)=>{const i={friendlyName:t,offset:n,index:o},r=Eo({friendlyName:To().nonEmpty(),offset:ko(),index:ko()});try{const e=r(i);return{advertisingPodDetails:{friendlyName:e.friendlyName,offset:e.offset,index:e.index}}}catch(t){return e.warn("An error occurred while creating the Ad Break Object.",t),{}}},n=(t,n,o,i)=>{const r={friendlyName:t,name:n,podPosition:o,length:i},a=Eo({friendlyName:To().nonEmpty(),name:To().nonEmpty(),podPosition:ko(),length:ko()});try{const e=a(r);return{advertisingDetails:{friendlyName:e.friendlyName,name:e.name,podPosition:e.podPosition,length:e.length}}}catch(t){return e.warn("An error occurred while creating the Advertising Object.",t),{}}},o=(t,n,o,i)=>{const r={friendlyName:t,offset:n,length:o,index:i},a=Eo({friendlyName:To().nonEmpty(),offset:ko(),length:ko(),index:ko()});try{const e=a(r);return{chapterDetails:{friendlyName:e.friendlyName,offset:e.offset,index:e.index,length:e.length}}}catch(t){return e.warn("An error occurred while creating the Chapter Object.",t),{}}},i=t=>{const n=/^[a-zA-Z0-9_]{1,64}$/,o=To().matches(n,"This is not a valid state name.");try{return{name:o(t)}}catch(t){return e.warn("An error occurred while creating the State Object.",t),{}}},r=(t,n,o,i)=>{const r={bitrate:t,droppedFrames:n,fps:o,startupTime:i},a=Eo({bitrate:ko(),droppedFrames:ko(),fps:ko(),startupTime:ko()});try{const e=a(r);return{bitrate:e.bitrate,droppedFrames:e.droppedFrames,framesPerSecond:e.fps,timeToStart:e.startupTime}}catch(t){return e.warn("An error occurred while creating the QOE Object.",t),{}}};return{createMediaObject:(t,n,o,i,r)=>{const a={friendlyName:t,name:n,length:o,streamType:r,contentType:i},s=Eo({friendlyName:To().nonEmpty(),name:To().nonEmpty(),length:ko().required(),streamType:To().nonEmpty(),contentType:To().nonEmpty()});try{const e=s(a);return{sessionDetails:{name:e.name,friendlyName:e.friendlyName,length:Math.round(e.length),streamType:e.streamType,contentType:e.contentType}}}catch(t){return e.warn("An error occurred while creating the Media Object.",t),{}}},createAdBreakObject:t,createAdObject:n,createChapterObject:o,createStateObject:i,createQoEObject:r}};const bl={"a.media.show":"show","a.media.season":"season","a.media.episode":"episode","a.media.asset":"assetID","a.media.genre":"genre","a.media.airDate":"firstAirDate","a.media.digitalDate":"firstDigitalDate","a.media.rating":"rating","a.media.originator":"originator","a.media.network":"network","a.media.type":"showType","a.media.adLoad":"adLoad","a.media.pass.mvpd":"mvpd","a.media.pass.auth":"authorized","a.media.dayPart":"dayPart","a.media.feed":"feed","a.media.format":"streamFormat","a.media.artist":"artist","a.media.album":"album","a.media.label":"label","a.media.author":"author","a.media.station":"station","a.media.publisher":"publisher","media.resumed":"hasResume"},vl={"a.media.ad.advertiser":"advertiser","a.media.ad.campaign":"campaignID","a.media.ad.creative":"creativeID","a.media.ad.placement":"placementID","a.media.ad.site":"siteID","a.media.ad.creativeURL":"creativeURL"};var yl=({logger:e,trackMediaSession:t,trackMediaEvent:n,uuid:o})=>{let i=null;const r=()=>{i={qoe:null,lastPlayhead:0,playerId:o()}},a=({eventType:e})=>e===cl.BufferComplete||e===cl.SeekComplete?dl.Play:e===cl.StateStart||e===cl.StateEnd?dl.StateUpdate:e===cl.SeekStart?dl.Pause:e,s=({eventType:e,mediaDetails:t={},contextData:n=[]})=>{const o=a({eventType:e});if(e===cl.StateStart){return{eventType:`media.${o}`,mediaCollection:{statesStart:[t]}}}if(e===cl.StateEnd){return{eventType:`media.${o}`,mediaCollection:{statesEnd:[t]}}}const i={eventType:`media.${o}`,mediaCollection:{...t}},r=[];return Object.keys(n).forEach((e=>{bl[e]?i.mediaCollection.sessionDetails[bl[e]]=n[e]:vl[e]?i.mediaCollection.advertisingDetails[vl[e]]=n[e]:r.push({name:e,value:n[e]})})),Ne(r)&&(i.mediaCollection.customMetadata=r),i};return{trackSessionStart:(n,o={})=>{if(se(n)||ut(n))return e.warn("Invalid media object"),{};null===i&&(e.warn("The Media Session was completed. Restarting a new session."),r());const a=s({eventType:dl.SessionStart,mediaDetails:n,contextData:o});return t({playerId:i.playerId,getPlayerDetails:()=>({playhead:i.lastPlayhead,qoeDataDetails:i.qoe}),xdm:a})},trackPlay:()=>{if(null===i)return e.warn("The Media Session was completed."),{};const t=s({eventType:dl.Play});return n({playerId:i.playerId,xdm:t})},trackPause:()=>{if(null===i)return e.warn("The Media Session was completed."),{};const t=s({eventType:dl.Pause});return n({playerId:i.playerId,xdm:t})},trackSessionEnd:()=>{if(null===i)return e.warn("The Media Session was completed."),{};const t=s({eventType:dl.SessionEnd});return n({playerId:i.playerId,xdm:t})},trackComplete:()=>{if(null===i)return e.warn("The Media Session was completed."),{};const t=s({eventType:dl.SessionComplete});return n({playerId:i.playerId,xdm:t})},trackError:t=>{if(e.warn(`trackError(${t})`),null===i)return e.warn("The Media Session was completed."),{};const o={name:t,source:"player"},r=s({eventType:dl.Error,mediaDetails:{errorDetails:o}});return n({playerId:i.playerId,xdm:r})},trackEvent:(t,o,r)=>{if(ut(o))return e.warn("Invalid media object."),{};if(null===i)return e.warn("The Media Session was completed."),{};if(!Object.values(cl).includes(t))return e.warn("Invalid event type"),{};const a=s({eventType:t,mediaDetails:o,contextData:r});return n({playerId:i.playerId,xdm:a})},updatePlayhead:t=>{null!==i?qt(t)&&(i.lastPlayhead=parseInt(t,10)):e.warn("The Media Session was completed.")},updateQoEObject:t=>{null!==i?t&&(i.qoe=t):e.warn("The Media Session was completed.")},destroy:()=>{e.warn("Destroy called, destroying the tracker."),i=null}}};const _l=({eventManager:e,sendEdgeNetworkRequest:t,config:n,logger:o,consent:i})=>{const r=el(),a=Ys({sendEdgeNetworkRequest:t,config:n,consent:i,eventManager:e,setTimestamp:Ar((()=>new Date))}),s=nl({mediaSessionCacheManager:r,mediaEventManager:a,config:n}),l=ol({config:n,mediaEventManager:a,mediaSessionCacheManager:r,legacy:!0}),c=rl({mediaSessionCacheManager:r,config:n,trackMediaEvent:s});return fl({mediaResponseHandler:c,trackMediaSession:l,trackMediaEvent:s,createMediaHelper:hl,createGetInstance:yl,logger:o,config:n})};_l.namespace="Legacy Media Analytics";const wl="web",Cl="webapp",kl="://",Pl="#",El=/^(\w+):\/\/([^/#]+)(\/[^#]*)?(#.*)?$/,Tl=/^(?:.*@)?(?:[a-z\d\u00a1-\uffff.-]+|\[[a-f\d:]+])(?::\d+)?$/,Il=/^\/(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})*$/,Dl=/^#(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})+$/,Al=(e="/")=>{let t=e.length;for(;t>0&&-1!=="/".indexOf(e.charAt(t-1));)t-=1;return e.substring(0,t)||"/"},Sl=e=>Ht(e)?e.toLowerCase():"",xl=e=>Ht(e)?e.toLowerCase():"",Ol=e=>Ht(e)?Al(e):"/",Rl=e=>{const t=e.match(El);return t?{surfaceType:Sl(t[1]),authority:xl(t[2]),path:Ol(t[3]),fragment:t[4]}:null},jl=e=>`${e.surfaceType}${kl}${e.authority}${e.path||""}${e.fragment||""}`,Nl=e=>{const t=e(),n=t.host.toLowerCase(),o=t.pathname;return wl+kl+n+Al(o)},Ll=(e,t)=>e.startsWith(Pl)?Nl(t)+e:e,Ml=(e,t,n)=>{const o=e=>(n.warn(e),null);if(!Ht(e))return o(`Invalid surface: ${e}`);const i=Ll(e,t),r=Rl(i);return null===r?o(`Invalid surface: ${e}`):[wl,Cl].includes(r.surfaceType)?r.authority&&Tl.test(r.authority)?r.path&&!Il.test(r.path)?o(`Invalid path ${r.path} in surface: ${e}`):r.fragment&&!Dl.test(r.fragment)?o(`Invalid fragment ${r.fragment} in surface: ${e}`):r:o(`Invalid authority ${r.authority} in surface: ${e}`):o(`Unsupported surface type ${r.surfaceType} in surface: ${e}`)},Vl=e=>!!e&&0===e.indexOf(wl+kl)&&-1===e.indexOf(Pl),Gl=(e=[],t,n)=>e.map((e=>Ml(e,t,n))).filter((e=>!se(e))).map(jl),zl="https://ns.adobe.com/personalization/default-content-item",Fl="https://ns.adobe.com/personalization/dom-action",Ul="https://ns.adobe.com/personalization/html-content-item",ql="https://ns.adobe.com/personalization/json-content-item",Wl="https://ns.adobe.com/personalization/ruleset-item",$l="https://ns.adobe.com/personalization/redirect-item",Bl="https://ns.adobe.com/personalization/message/in-app",Hl="https://ns.adobe.com/personalization/message/content-card",Ql="https://ns.adobe.com/personalization/eventHistoryOperation",Jl=e=>{e.includes(xi)||e.push(xi)},Kl=(e,t)=>{const n=Nl(t);e.includes(n)||e.push(n)},Xl=e=>e.filter(((t,n)=>e.indexOf(t)===n));var Yl=({getPageLocation:e,renderDecisions:t,decisionScopes:n,personalization:o,event:i,isCacheInitialized:r,logger:a})=>{const s=i.getViewName();return{isRenderDecisions:()=>t,isSendDisplayEvent:()=>!!o.sendDisplayEvent,shouldIncludeRenderedPropositions:()=>!!o.includeRenderedPropositions,getViewName:()=>s,hasScopes:()=>n.length>0||Ne(o.decisionScopes),hasSurfaces:()=>Ne(o.surfaces),hasViewName:()=>Ht(s),createQueryDetails(){const t=[...n];Ne(o.decisionScopes)&&t.push(...o.decisionScopes);const i=Gl(o.surfaces,e,a);this.shouldRequestDefaultPersonalization()&&(Jl(t),Kl(i,e));const r=[zl,Ul,ql,$l,Wl,Bl,Hl];return t.includes(xi)&&r.push(Fl),{schemas:r,decisionScopes:Xl(t),surfaces:Xl(i)}},isCacheInitialized:()=>r,shouldFetchData(){return this.hasScopes()||this.hasSurfaces()||this.shouldRequestDefaultPersonalization()},shouldUseCachedData(){return this.hasViewName()&&!this.shouldFetchData()},shouldRequestDefaultPersonalization(){return o.defaultPersonalizationEnabled||!this.isCacheInitialized()&&!1!==o.defaultPersonalizationEnabled}}};const Zl="Rendering is disabled for authoring mode.",ec="decisioning.propositionDisplay",tc="decisioning.propositionInteract",nc="decisioning.propositionTrigger",oc="decisioning.propositionDismiss",ic="decisioning.propositionSuppressDisplay",rc=1,ac={DISPLAY:"display",INTERACT:"interact",TRIGGER:"trigger",DISMISS:"dismiss",SUPPRESS:"suppressDisplay"},sc={[ec]:ac.DISPLAY,[tc]:ac.INTERACT,[nc]:ac.TRIGGER,[oc]:ac.DISMISS,[ic]:ac.SUPPRESS},lc={[ac.DISPLAY]:ec,[ac.INTERACT]:tc,[ac.TRIGGER]:nc,[ac.DISMISS]:oc,[ac.SUPPRESS]:ic},cc=e=>sc[e],dc=e=>lc[e],uc={propositions:[]};var gc=({logger:e,options:t})=>{const n=Eo({propositions:yo(Eo({id:To().required(),scope:To().required(),scopeDetails:Eo({decisionProvider:To().required()}).required(),items:yo(Eo({id:To().required(),schema:To().required(),data:Eo(vo())})).nonEmpty().required()}).required()).nonEmpty().required(),metadata:Eo(vo()),viewName:To()}).required();try{return n(t)}catch(t){return e.warn("Invalid options for applyPropositions. No propositions will be applied.",t),uc}},mc=({getPageLocation:e,logger:t,fetchDataHandler:n,viewChangeHandler:o,onClickHandler:i,isAuthoringModeEnabled:r,mergeQuery:a,viewCache:s,showContainers:l,applyPropositions:c,setTargetMigration:d,mergeDecisionsMeta:u,renderedPropositions:g,onDecisionHandler:m,handleConsentFlicker:p})=>({lifecycle:{onComponentsRegistered(){p()},onDecision:m,onBeforeRequest:({request:e})=>(d(e),Promise.resolve()),onBeforeEvent({event:i,renderDecisions:c,decisionScopes:d=[],personalization:m={},onResponse:p=Qt,onRequestFailure:f=Qt}){if(p((()=>({propositions:[]}))),f((()=>l())),r())return t.warn(Zl),a(i,{enabled:!1}),Promise.resolve();const h=Yl({getPageLocation:e,renderDecisions:c,decisionScopes:d,personalization:m,event:i,isCacheInitialized:s.isInitialized(),logger:t}),b=[];if(h.shouldIncludeRenderedPropositions()&&b.push(g.clear()),h.shouldFetchData()){const e=s.createCacheUpdate(h.getViewName());f((()=>e.cancel())),n({cacheUpdate:e,personalizationDetails:h,event:i,onResponse:p})}else h.shouldUseCachedData()&&b.push(o({personalizationDetails:h,event:i,onResponse:p,onRequestFailure:f}));return Promise.all(b).then((e=>{const t=e.flatMap((e=>e));Ne(t)&&u(i,t,[ac.DISPLAY])}))},onClick({event:e,clickedElement:t}){i({event:e,clickedElement:t})}},commands:{applyPropositions:{optionsValidator:e=>gc({logger:t,options:e}),run:c}}}),pc=(e="undefined")=>Ee(Ae,{},{innerHTML:e});const fc=":eq(",hc=/:eq\((\d+)\)/g,bc=e=>-1===e.indexOf(fc),vc=e=>e.split(hc).filter(Ht),yc=/(#|\.)(-?\w+)/g,_c=(e,t,n)=>`${t}${CSS.escape(n)}`,wc=e=>e.replace(yc,_c),Cc=e=>{const t=[],n=wc(e.trim()),o=vc(n),{length:i}=o;let r=0;for(;r<i;){const e=o[r],n=o[r+1];n?t.push({sel:e,eq:Number(n)}):t.push({sel:e}),r+=2}return t},kc=e=>{const t=document;if(bc(e))return We(e,t);const n=Cc(e),{length:o}=n;let i=[],r=t,a=0;for(;a<o;){const{sel:e,eq:t}=n[a],s=We(e,r),{length:l}=s;if(0===l)break;if(null!=t&&t>l-1)break;a<o-1&&(null==t?[r]=s:r=s[t]),a===o-1&&(i=null==t?s:[s[t]]),a+=1}return i};var Pc=(e,t=document)=>t.getElementById(e),Ec=(e,t,n)=>{e.setAttribute(t,n)},Tc=(e,t)=>e.getAttribute(t),Ic=(e,t)=>{e.removeAttribute(t)},Dc=(e,t,n,o)=>{let i;i=o?`${t}:${n} !${o};`:`${t}:${n};`,e.style.cssText+=`;${i}`},Ac=e=>e.parentNode,Sc=e=>e.nextElementSibling,xc=(e,t)=>{if(!e)return;const n=Ac(e);n&&n.insertBefore(t,Sc(e))},Oc=(e,t)=>{if(!e)return;const n=Ac(e);n&&n.insertBefore(t,e)},Rc=e=>{const{children:t}=e;return t?Le(t):[]},jc=e=>{const{childNodes:t}=e;return t?Le(t):[]},Nc=e=>e.firstElementChild;let Lc;var Mc=(e=document)=>{if(void 0===Lc){const t=e.querySelector("[nonce]");Lc=t&&(t.nonce||t.getAttribute("nonce"))}return Lc};const Vc="src",Gc=e=>e.tagName===De,zc=e=>Ee(De,{src:e}),Fc=e=>{We(De,e).forEach((e=>{const t=Tc(e,Vc);t&&zc(t)}))},Uc=(e,t)=>e.tagName===t,qc=e=>Uc(e,Se)&&!Tc(e,Vc);var Wc=e=>{const t=We(Se,e),{length:n}=t,o=Mc();if(o)for(let e=0;e<n;e+=1){const n=t[e];qc(n)&&(n.nonce=o)}};const $c=(e,t)=>new Promise(((n,o)=>{t.onload=()=>{n(t)},t.onerror=()=>{o(new Error(`Failed to load script: ${e}`))}})),Bc=e=>{const t=document.createElement("script");t.src=e,t.async=!0;const n=$c(e,t);return document.head.appendChild(t),n},Hc=(e,t)=>!!e&&e.tagName===t,Qc=e=>Hc(e,xe)&&!Tc(e,Vc),Jc=e=>Hc(e,xe)&&Tc(e,Vc),Kc=e=>{const t=We(xe,e),n=[],{length:o}=t,i=Mc(),r={...i&&{nonce:i}};for(let e=0;e<o;e+=1){const o=t[e];if(!Qc(o))continue;const{textContent:i}=o;i&&n.push(Ee(xe,r,{textContent:i}))}return n},Xc=e=>{const t=We(xe,e),n=[],{length:o}=t;for(let e=0;e<o;e+=1){const o=t[e];if(!Jc(o))continue;const i=Tc(o,Vc);i&&n.push(i)}return n},Yc=(e,t)=>{t.forEach((t=>{e.appendChild(t),e.removeChild(t)}))},Zc=e=>Promise.all(e.map(Bc));var ed=(e,t,n)=>{const o=pc(t);Wc(o);const i=jc(o),r=Kc(o),a=Xc(o);return Fc(o),i.forEach((t=>{ke(e,t)})),n(e),Yc(e,r),Zc(a)};const td=e=>{jc(e).forEach(st)};var nd=(e,t,n)=>(td(e),ed(e,t,n)),od=(e,t,n)=>{const o=pc(t);Wc(o);const i=jc(o),r=Kc(o),a=Xc(o),{length:s}=i;let l=s-1;for(Fc(o);l>=0;){const t=i[l];n(t);const o=Nc(e);o?Oc(o,t):ke(e,t),l-=1}return Yc(e,r),Zc(a)};const id="alloy-prehiding",rd="{ visibility: hidden }",ad={},sd=e=>{if(ad[e])return;const t=Mc(),n={...t&&{nonce:t}},o=Ee(Se,n,{textContent:`${e} ${rd}`});ke(document.head,o),ad[e]=o},ld=e=>{const t=ad[e];t&&(st(t),delete ad[e])},cd=e=>t=>{if(!t)return;if(Pc(id))return;const n=Mc(),o={id:id,...n&&{nonce:n}},i=Ee(Se,o,{textContent:t});e.logOnContentHiding({status:"hide-containers",message:"Prehiding style applied to hide containers.",logLevel:"info"}),ke(document.head,i)},dd=e=>()=>{const t=Pc(id);t&&(e.logOnContentHiding({status:"show-containers",message:"Prehiding style removed to show containers.",logLevel:"info"}),st(t))};var ud=(e,t,n)=>{n(e),e.textContent=t},gd=(e,t,n)=>{const o=pc(t);Wc(o);const i=jc(o),r=Kc(o),a=Xc(o);return Fc(o),i.forEach((t=>{n(t),Oc(e,t)})),Yc(e,r),Zc(a)},md=(e,t,n)=>gd(e,t,n).then((()=>{st(e)})),pd=(e,t,n)=>{const o=pc(t);Wc(o);const i=jc(o),r=Kc(o),a=Xc(o);Fc(o);let s=e;return i.forEach((e=>{n(e),xc(s,e),s=e})),Yc(e,r),Zc(a)},fd=(e,t,n)=>{const{priority:o,...i}=t;Object.keys(i).forEach((t=>{Dc(e,t,i[t],o)})),n(e)},hd=(e,t,n)=>{Object.keys(t).forEach((n=>{Ec(e,n,t[n])})),n(e)},bd=(e,t,n)=>{Gc(e)&&(zc(t),n(e),Ic(e,Vc),Ec(e,Vc,t))},vd=(e,{from:t,to:n},o)=>{const i=Rc(e),r=i[t],a=i[n];r&&a&&(t<n?xc(a,r):Oc(a,r),o(a),o(r))};const yd=({containers:e,content:t,decorateProposition:n,renderFunc:o,renderStatusHandler:i,alwaysRender:r})=>{const a=e.filter((e=>r||i.shouldRender(e))).map((async e=>{await o(e,t,n),i.markAsRendered(e)}));return Promise.all(a)},_d=(e,t=!1)=>async(n,o,i)=>{const{selector:r,prehidingSelector:a,content:s}=n;sd(a);try{const n=await rt(r,kc);yd({containers:n,content:s,decorateProposition:o,renderFunc:e,renderStatusHandler:i,alwaysRender:t})}finally{ld(a)}},wd=e=>`${e}`.endsWith("px")?e:`${e}px`;var Cd=(e,t,n)=>{const{priority:o,...i}=t;Object.keys(i).forEach((t=>{let n=i[t];"left"!==t&&"top"!==t||(n=wd(n)),Dc(e,t,n,o)})),n(e)},kd=(e,t,n)=>{n(e)},Pd=(e,t,n)=>{const{priority:o,...i}=t;Object.keys(i).forEach((t=>{let n=i[t];"width"!==t&&"height"!==t||(n=wd(n)),Dc(e,t,n,o)})),n(e)};const Ed="setHtml",Td="customCode",Id="setText",Dd="setAttribute",Ad="setImageSource",Sd="setStyle",xd="move",Od="resize",Rd="rearrange",jd="remove",Nd="insertAfter",Ld="insertBefore",Md="replaceHtml",Vd="prependHtml",Gd="appendHtml",zd="click",Fd="collectInteractions";var Ud=()=>({[Ed]:_d(nd,!0),[Td]:_d(od),[Id]:_d(ud,!0),[Dd]:_d(hd,!0),[Ad]:_d(bd,!0),[Sd]:_d(fd,!0),[xd]:_d(Cd,!0),[Od]:_d(Pd,!0),[Rd]:_d(vd),[jd]:_d(st,!0),[Nd]:_d(pd),[Ld]:_d(gd),[Md]:_d(md,!0),[Vd]:_d(od),[Gd]:_d(ed),[Fd]:_d(kd,!0)}),qd=({eventManager:e,mergeDecisionsMeta:t})=>({decisionsMeta:n=[],propositionAction:o,documentMayUnload:i=!1,eventType:r=ec,propositionEventTypes:a=[cc(r)],viewName:s})=>{const l=e.createEvent(),c={eventType:r};return s&&(c.web={webPageDetails:{viewName:s}}),Ne(n)&&t(l,n,a,o),l.mergeXdm(c),i&&l.documentMayUnload(),e.sendEvent(l)};const Wd="personalization:decisions";var $d=({logger:e,prehidingStyle:t,showContainers:n,hideContainers:o,mergeQuery:i,processPropositions:r,createProposition:a,notificationHandler:s,consent:l})=>({cacheUpdate:c,personalizationDetails:d,event:u,onResponse:g})=>{const{state:m,wasSet:p}=l.current();"out"===m&&p||(d.isRenderDecisions()?o(t):n()),i(u,d.createQueryDetails());const f=s(d.isRenderDecisions(),d.isSendDisplayEvent(),d.getViewName());g((({response:t})=>{const o=t.getPayloadsByType(Wd);Ne(o)||e.logOnContentRendering({status:"no-offers",message:"No offers were returned.",logLevel:"info",detail:{query:d.createQueryDetails()}});const i=o.map((e=>a(e))),{page:s=[],view:l=[],proposition:u=[]}=Ct(i,(e=>e.getScopeType())),g=c.update(l);let m,p,h;return d.isRenderDecisions()?(({render:m,returnedPropositions:p,returnedDecisions:h}=r([...s,...g],u)),Ne(s)&&e.logOnContentRendering({status:"rendering-started",message:"Started rendering propositions for page-wide scope.",logLevel:"info",detail:{scope:xi,propositions:s.map((e=>e.toJSON()))}}),Ne(g)&&e.logOnContentRendering({status:"rendering-started",message:`Rendering propositions started for view scope - ${d.getViewName()}.`,logLevel:"info",detail:{scope:d.getViewName(),propositions:g.map((e=>e.toJSON()))}}),m().then(f),n()):({returnedPropositions:p,returnedDecisions:h}=r([],[...s,...g,...u])),{propositions:p,decisions:h}}))},Bd=(e,t)=>{if(bc(e))return at(e,t);const n=kc(e);let o=!1;for(let e=0;e<n.length;e+=1)if(n[e]===t){o=!0;break}return o};const Hd="view",Qd="page",Jd="proposition",Kd=e=>e.map((e=>{const{trackingLabel:t,scopeType:n,...o}=e;return o})),Xd=e=>e.filter(((t,n)=>{const o=JSON.stringify(t);return n===e.findIndex((e=>JSON.stringify(e)===o))})),Yd=(e,t,n)=>{const{documentElement:o}=document;let i=e,r=0;for(;i&&i!==o;){if(Bd(t,i)){const e=n(t),o={metas:e},i=e.find((e=>e.trackingLabel));i&&(o.label=i.trackingLabel,o.weight=r);const a=e.find((e=>e.scopeType===Hd));return a&&(o.viewName=a.scope,o.weight=r),o}i=i.parentNode,r+=1}return{metas:null}};var Zd=(e,t,n)=>{const o=[];let i,r="",a=Number.MAX_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER;for(let l=0;l<t.length;l+=1){const{metas:c,label:d,weight:u,viewName:g}=Yd(e,t[l],n);c&&(d&&u<=a&&(r=d,a=u),g&&u<=s&&(i=g,s=u),o.push(...Kd(c)))}return{decisionsMeta:Xd(o),propositionActionLabel:r,propositionActionToken:void 0,viewName:i}},eu=(e=document)=>-1!==e.location.href.indexOf("adobe_authoring_enabled");const tu=(e,t,n,o)=>{if(0===t.length)return;const i={};n.forEach((e=>{i[e]=rc}));const r={_experience:{decisioning:{propositions:t,propositionEventType:i}}};o&&(r._experience.decisioning.propositionAction=o),e.mergeXdm(r)},nu=(e,t)=>{e.mergeQuery({personalization:{...t}})},ou=(e,t)=>{if(!t&&!e)return;const n={};return e&&(n.label=e),t&&(n.tokens=[t]),n};var iu=({mergeDecisionsMeta:e,collectInteractions:t,collectClicks:n,getInteractionMetas:o,getClickMetas:i,getClickSelectors:r,autoCollectPropositionInteractions:a})=>({event:s,clickedElement:l})=>{const c=[];let d,u,g;if([t(l,o,a),n(l,r(),i)].forEach((({decisionsMeta:e,propositionActionLabel:t,propositionActionToken:n,viewName:o})=>{Array.prototype.push.apply(c,e),!d&&t&&(d=t),!u&&n&&(u=n),!g&&o&&(g=o)})),Ne(c)){const t={eventType:tc};g&&(t.web={webPageDetails:{viewName:g}}),s.mergeXdm(t),e(s,c,[ac.INTERACT],ou(d,u))}},ru=({createProposition:e})=>{let t=!1,n=Promise.resolve({});const o=(t,n)=>{const o=t[n.toLowerCase()];if(o&&o.length>0)return o;return[e({scope:n,scopeDetails:{characteristics:{scopeType:Hd}},items:[{schema:zl}]},!1)]};return{createCacheUpdate:e=>{const i=ye();return t=!0,n=n.then((e=>i.promise.then((t=>({...e,...t}))).catch((()=>e)))),{update(t){const n=t.filter((e=>e.getScope())),r=Ct(n,(e=>e.getScope().toLowerCase()));return i.resolve(r),e?o(r,e):[]},cancel(){i.reject()}}},getView:e=>n.then((t=>o(t,e))),isInitialized:()=>t}},au=({processPropositions:e,viewCache:t,logger:n})=>({personalizationDetails:o,onResponse:i})=>{let r,a;const s=o.getViewName();return i((()=>({propositions:r,decisions:a}))),t.getView(s).then((t=>{let i;return o.isRenderDecisions()?(({render:i,returnedPropositions:r,returnedDecisions:a}=e(t)),n.logOnContentRendering({status:"rendering-started",message:`Started rendering propositions for view scope - ${s}.`,logLevel:"info",detail:{scope:s,propositions:t.map((e=>e.toJSON()))}}),i()):(({returnedPropositions:r,returnedDecisions:a}=e([],t)),[])}))};const su=e=>Object.keys(e).map((t=>({id:t,...e[t]})));var lu=()=>{const e={};return{storeClickMeta:({selector:t,meta:{id:n,scope:o,scopeDetails:i,trackingLabel:r,scopeType:a}})=>{e[t]||(e[t]={}),e[t][n]={scope:o,scopeDetails:i,trackingLabel:r,scopeType:a}},getClickSelectors:()=>Object.keys(e),getClickMetas:t=>e[t]?su(e[t]):{}}},cu=()=>{const e={},t={};return{storeInteractionMeta:(n,o,i,r,a)=>{a=parseInt(a,10),e[a]||(e[a]={},t[a]={}),t[a][n]||(t[a][n]=new Set),t[a][n].add(o),e[a][n]={...r,scopeType:i}},getInteractionMetas:n=>Array.isArray(n)&&0!==n.length?Object.values(n.map((e=>parseInt(e,10))).reduce(((n,o)=>(Object.keys(e[o]||{}).forEach((i=>{n[i]||(n[i]={proposition:e[o][i],items:new Set}),n[i].items=new Set([...n[i].items,...t[o][i]])})),n)),{})).map((({proposition:e,items:t})=>({...e,items:Array.from(t).map((e=>({id:e})))}))):[]}};const du=(e,t)=>e===ql&&t===Fd,uu={[Fl]:()=>!0,[Ul]:()=>!0,[ql]:du,[Bl]:()=>!0,[zl]:()=>!0},gu=(e,t)=>"function"==typeof uu[e]&&uu[e](e,t);var mu=({processPropositions:e,createProposition:t,renderedPropositions:n,viewCache:o})=>{const i=({items:e,metadataForScope:t={}})=>{const{actionType:n,selector:o}=t;return e.filter((e=>gu(e.schema,n))).map((e=>{const{schema:i}=e;return i===Ul||du(i,n)?ut(t)?void 0:{...e,schema:du(i,n)?Fl:i,data:{...e.data,selector:o,type:n}}:{...e}})).filter((e=>e))},r=e=>!(e.scope===xi&&e.renderAttempted),a=({propositions:e,metadata:t})=>e.filter(r).map((e=>{if(Ne(e.items)){const{id:n,scope:o,scopeDetails:r}=e;return{id:n,scope:o,scopeDetails:r,items:i({items:e.items,metadataForScope:t[e.scope]})}}return e})).filter((e=>Ne(e.items)));return({propositions:i=[],metadata:r={},viewName:s})=>{const l=ye();n.concat(l.promise);const c=a({propositions:i,metadata:r}).map((e=>t(e)));return Promise.resolve().then((()=>s?o.getView(s):[])).then((t=>{const{render:n,returnedPropositions:o}=e([...c,...t]);return n().then(l.resolve),{propositions:o}}))}},pu=({window:e})=>()=>e.location,fu=({targetMigrationEnabled:e})=>e?e=>{e.getPayload().mergeMeta({target:{migration:!0}})}:Qt;const hu="BODY > *:eq(0)";var bu=e=>{const{selector:t,type:n}=e;return n!==Td||t!==hu?e:{...e,selector:"BODY"}};const vu="SCRIPT,LINK,STYLE",yu=e=>{const t=pc(e);return We(vu,t).map((e=>e.outerHTML)).join("")};var _u=e=>{const t={...e},{content:n,selector:o}=t;if(il(n))return t;if(null==o)return t;const i=kc(o);return Hc(i[0],Oe)?(t.type=Gd,t.content=yu(n),t):t},wu=e=>t=>t?e.reduce(((e,t)=>({...e,...t(e)})),t):t,Cu=({preprocess:e,isPageWideSurface:t})=>{const n=(t,n)=>{const{id:o,schema:i,data:r,characteristics:{trackingLabel:a}={}}=t,s=r?r.type:void 0,l=e(r);return{getId:()=>o,getSchema:()=>i,getSchemaType:()=>s,getData:()=>l,getProposition:()=>n,getTrackingLabel:()=>a,getOriginalItem:()=>t,toString:()=>JSON.stringify(t),toJSON:()=>t}};return(e,o=!0,i=!1)=>{const{id:r,scope:a,scopeDetails:s,items:l=[]}=e,{characteristics:{scopeType:c}={}}=s||{};return{getScope:()=>a,getScopeType:()=>a===xi||t(a)?Qd:c===Hd?Hd:Jd,getItems(){return l.map((e=>n(e,this)))},getNotification:()=>({id:r,scope:a,scopeDetails:s}),getId:()=>r,toJSON:()=>e,shouldSuppressDisplay:()=>i,addToReturnValues(t,n,i,r){o&&(t.push({...e,items:i.map((e=>e.getOriginalItem())),renderAttempted:r}),r||n.push({...e,items:i.map((e=>e.getOriginalItem()))}))}}}},ku=()=>{let e=Promise.resolve([]);return{concat(t){e=e.then((e=>t.then((t=>e.concat(t))).catch((()=>e))))},clear(){const t=e;return e=Promise.resolve([]),t}}},Pu=()=>({render:Qt,setRenderAttempted:!0,includeInNotification:!0});const Eu="always",Tu="never",Iu="decoratedElementsOnly",Du=[Eu,Tu,Iu],Au="data-aep-interact-id",Su="data-aep-click-label",xu="data-aep-click-token";let Ou=0;const Ru=(e,t)=>t?parseInt(t,10):++Ou,ju=(e,t)=>!!e&&(!!e[t]&&[Eu,Iu].includes(e[t])),Nu=(e,t,n,o,i,r,a,s)=>{const{scopeDetails:l={}}=a,{decisionProvider:c}=l;return ju(e,c)||t===zd?e=>{if(!e.tagName)return;const t=Ru(n,Tc(e,Au));s(n,o,r,a,t),Ec(e,Au,t),i&&!Tc(e,Su)&&Ec(e,Su,i)}:Qt};var Lu=(e,t)=>e!==Hd?{shouldRender:()=>!0,markAsRendered:()=>{}}:{shouldRender:e=>{if(!e)return!0;return!(e.dataset.adobePropositionIds??"").split(",").includes(t)},markAsRendered:e=>{const n=(e.dataset.adobePropositionIds??"").split(",");n.includes(t)||n.push(t),e.dataset.adobePropositionIds=n.sort().join(",")}},Mu=({modules:e,logger:t,storeInteractionMeta:n,storeClickMeta:o,autoCollectPropositionInteractions:i})=>r=>{const{type:a,selector:s}=r.getData()||{};if(!a)return t.warn("Invalid DOM action data: missing type.",r.getData()),{setRenderAttempted:!1,includeInNotification:!1};if(a===zd)return s?(o({selector:s,meta:{...r.getProposition().getNotification(),trackingLabel:r.getTrackingLabel(),scopeType:r.getProposition().getScopeType()}}),{setRenderAttempted:!0,includeInNotification:!1}):(t.warn("Invalid DOM action data: missing selector.",r.getData()),{setRenderAttempted:!1,includeInNotification:!1});if(!e[a])return t.warn("Invalid DOM action data: unknown type.",r.getData()),{setRenderAttempted:!1,includeInNotification:!1};const l=Lu(r.getProposition().getScopeType(),r.getId()),c=Nu(i,a,r.getProposition().getId(),r.getId(),r.getTrackingLabel(),r.getProposition().getScopeType(),r.getProposition().getNotification(),n);return{render:()=>e[a](r.getData(),c,l),setRenderAttempted:!0,includeInNotification:!0}},Vu=({modules:e,logger:t,storeInteractionMeta:n,autoCollectPropositionInteractions:o})=>i=>{const{type:r,selector:a}=i.getData()||{};if(!a||!r)return{setRenderAttempted:!1,includeInNotification:!1};if(!e[r])return t.warn("Invalid HTML content data",i.getData()),{setRenderAttempted:!1,includeInNotification:!1};const s=Nu(o,r,i.getProposition().getId(),i.getId(),i.getTrackingLabel(),i.getProposition().getScopeType(),i.getProposition().getNotification(),n),l=Lu(i.getProposition().getScopeType(),i.getId());return{render:()=>e[r](i.getData(),s,l),setRenderAttempted:!0,includeInNotification:!0}};const Gu="BODY";var zu=({logger:e,executeRedirect:t,collect:n})=>o=>{const{content:i}=o.getData()||{};if(!i)return e.warn("Invalid Redirect data",o.getData()),{};return{render:()=>(sd(Gu),n({decisionsMeta:[o.getProposition().getNotification()],documentMayUnload:!0}).then((()=>(e.logOnContentRendering({status:"rendering-redirect",detail:{propositionDetails:o.getProposition().getNotification(),redirect:i},message:`Redirect action ${o.toString()} executed.`,logLevel:"info"}),t(i)))).catch((e=>{throw ld(Gu),e}))),setRenderAttempted:!0,onlyRenderThis:!0}},Fu=({schemaProcessors:e,logger:t})=>{const n=(e,n)=>()=>Promise.resolve().then(e).then((()=>(t.enabled&&t.info(`Action ${n.toString()} executed.`),n.toJSON()))).catch((e=>{const{message:o,stack:i}=e,r=`Failed to execute action ${n.toString()}. ${o} ${i}`;t.logOnContentRendering({status:"rendering-failed",detail:{propositionDetails:n.getProposition().getNotification(),item:n.toJSON()},error:e,message:r,logLevel:"warn"})})),o=async(e,t)=>{const n=(await Promise.allSettled(e.map((e=>e())))).filter((e=>"fulfilled"===e.status)).map((e=>e.value));if(t&&Ne(n))return{...t,items:n}},i=t=>{const n=e[t.getSchema()];return n?n(t):{}},r=({renderers:e,returnedPropositions:t,returnedDecisions:r,items:a,proposition:s})=>{let l,c,d,u,g=[...e],m=[...t],p=[...r],f=[],h=[],b=[],v=!1,y=!1,_=0;for(;a.length>_;){if(u=a[_],({render:l,setRenderAttempted:c,includeInNotification:d,onlyRenderThis:y}=i(u)),y){m=[],p=[],c?(f=[u],h=[]):(f=[],h=[u]),g=[],b=[l],v=d;break}l&&b.push(n(l,u)),d&&(v=!0),c?f.push(u):h.push(u),_+=1}if(b.length>0){const e=v?s.getNotification():void 0;g.push((()=>o(b,e)))}else v&&g.push((()=>Promise.resolve(s.getNotification())));return f.length>0&&s.addToReturnValues(m,p,f,!0),h.length>0&&s.addToReturnValues(m,p,h,!1),{renderers:g,returnedPropositions:m,returnedDecisions:p,onlyRenderThis:y}};return(e,n=[])=>{let o,i,a,s=[],l=[],c=[],d=0;for(;e.length>d&&(i=e[d],a=i.getItems(),({renderers:s,returnedPropositions:l,returnedDecisions:c,onlyRenderThis:o}=r({renderers:s,returnedPropositions:l,returnedDecisions:c,items:a,proposition:i})),!o);)d+=1;o&&e.forEach(((e,t)=>{t!==d&&e.addToReturnValues(l,c,e.getItems(),!1)})),n.forEach((e=>{e.addToReturnValues(l,c,e.getItems(),!1)}));return{returnedPropositions:l,returnedDecisions:c,render:()=>Promise.all(s.map((e=>e()))).then((e=>{const n=e.filter((e=>e)),o=n.map((e=>{const{id:t,scope:n,scopeDetails:o}=e;return{id:t,scope:n,scopeDetails:o}}));if(Ne(n)){const e=Ct(n,(e=>e.scope));t.logOnContentRendering({status:"rendering-succeeded",detail:{...e},message:`Scopes: ${JSON.stringify(e)} successfully executed.`,logLevel:"info"})}return o}))}}};const Uu=()=>{let e=0;return t=>{const{items:n=[]}=t;return!!n.some((e=>e.schema===Bl))&&(e+=1,e>1)}};var qu=({processPropositions:e,createProposition:t,notificationHandler:n})=>({renderDecisions:o,propositions:i,event:r,personalization:a={}})=>{if(!o)return Promise.resolve();const{sendDisplayEvent:s=!0}=a,l=r?r.getViewName():void 0,c=Uu(),d=i.map((e=>t(e,!0,c(e)))),{render:u,returnedPropositions:g}=e(d),m=n(o,s,l),p=d.reduce(((e,t)=>(e[t.getId()]=t,e)),{});return u().then((e=>{const t=e.filter((e=>!p[e.id].shouldSuppressDisplay())),n=e.filter((e=>p[e.id].shouldSuppressDisplay()));m(t,n)})),Promise.resolve({propositions:g})};const Wu="text/html",$u="application/json",Bu="defaultContent",Hu=["content","contentType"],Qu=["mobileParameters","webParameters","html"],Ju=(e,t)=>{for(let n=0;n<Hu.length;n+=1){const o=Hu[n];if(!Object.prototype.hasOwnProperty.call(e,o))return t.warn(`Invalid in-app message data: missing property '${o}'.`,e),!1}const{content:n,contentType:o}=e;if(o===$u)for(let o=0;o<Qu.length;o+=1){const i=Qu[o];if(!Object.prototype.hasOwnProperty.call(n,i))return t.warn(`Invalid in-app message data.content: missing property '${i}'.`,e),!1}return!0};var Ku=({modules:e,logger:t})=>n=>{const o=n.getData(),i=n.getProposition(),r={...i.getNotification()},a=i.shouldSuppressDisplay();if(!o)return t.warn("Invalid in-app message data: undefined.",o),{};const{type:s=Bu}=o;return e[s]?Ju(o,t)?r?{render:()=>a?null:e[s]({...o,meta:r}),setRenderAttempted:!0,includeInNotification:!0}:(t.warn("Invalid in-app message meta: undefined.",r),{}):{}:(t.warn("Invalid in-app message data: unknown type.",o),{})};const Xu=e=>{
const t=We(`#${e}`,document);t&&t.length>0&&st(t[0])},Yu=e=>{const t={};if(!e||"a"!==e.tagName.toLowerCase())return t;const{href:n}=e;if(!n||!n.startsWith("adbinapp://"))return t;const o=n.split("?"),i=o[0].split("://")[1],r=e.innerText,a=e.getAttribute("data-uuid")||"";let s,l;if(Ne(o)){const e=ae.default.parse(o[1]);s=e.interaction||"",l=ma(e.link||"")}return{action:i,interaction:s,link:l,label:r,uuid:a}};var Zu=e=>(t,n=!1)=>(n?e.location.href=t:e.location.replace(t),new Promise((()=>{})));const eg="alloy-messaging-container",tg="alloy-overlay-container",ng="alloy-content-iframe",og=()=>[eg,tg].forEach(Xu),ig=(e,t=Zu(window))=>n=>{n.preventDefault(),n.stopImmediatePropagation();const{target:o}=n,i="a"===o.tagName.toLowerCase()?o:o.closest("a");if(!i)return;const{action:r,interaction:a,link:s,label:l,uuid:c}=Yu(i);e(r,{label:l,id:a,uuid:c,link:s}),"dismiss"===r&&og(),Ht(s)&&s.length>0&&t(s,!0)},rg=(e,t)=>{const n=(new DOMParser).parseFromString(e,Wu),o=n.querySelector("script");o&&o.setAttribute("nonce",Mc());const i=Ee("iframe",{src:URL.createObjectURL(new Blob([n.documentElement.outerHTML],{type:"text/html"})),id:ng});return i.addEventListener("load",(()=>{const{addEventListener:e}=i.contentDocument||i.contentWindow.document;e("click",t)})),i},ag=(e,t,n,o)=>{[{id:tg,element:o},{id:eg,element:n},{id:ng,element:e}].forEach((({id:e,element:n})=>{const{style:o={},params:i={}}=t[e];Object.assign(n.style,o);const{parentElement:r="body",insertionMethod:a="appendChild",enabled:s=!0}=i,l=document.querySelector(r);s&&l&&"function"==typeof l[a]&&l[a](n)}))},sg=e=>{const{verticalAlign:t,width:n,horizontalAlign:o,backdropColor:i,height:r,cornerRadius:a,horizontalInset:s,verticalInset:l,uiTakeover:c=!1}=e,d={width:n?`${n}%`:"100%",backgroundColor:i||"rgba(0, 0, 0, 0.5)",borderRadius:a?`${a}px`:"0px",border:"none",position:c?"fixed":"relative",overflow:"hidden"};return"left"===o?d.left=s?`${s}%`:"0":"right"===o?d.right=s?`${s}%`:"0":"center"===o&&(d.left="50%",d.transform="translateX(-50%)"),"top"===t?d.top=l?`${l}%`:"0":"bottom"===t?(d.position="fixed",d.bottom=l?`${l}%`:"0"):"center"===t&&(d.top="50%",d.transform=("center"===o?`${d.transform} `:"")+"translateY(-50%)",d.display="flex",d.alignItems="center",d.justifyContent="center"),d.height=r?`${r}vh`:"100%",d},lg=e=>{const{backdropOpacity:t,backdropColor:n}=e;return{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"transparent",opacity:t||.5,backgroundColor:n||"#FFFFFF"}},cg=["enabled","parentElement","insertionMethod"],dg=e=>{if(!e)return!1;const t=Object.keys(e);if(!t.includes(eg))return!1;if(!t.includes(tg))return!1;const n=Object.values(e);for(let e=0;e<n.length;e+=1){if(!Eo(n[e],"style"))return!1;if(!Eo(n[e],"params"))return!1;for(let t=0;t<cg.length;t+=1)if(!Eo(n[e].params,cg[t]))return!1}return!0},ug=e=>{if(!e)return;const{uiTakeover:t=!1}=e;return{[ng]:{style:{border:"none",width:"100%",height:"100%"},params:{enabled:!0,parentElement:"#alloy-messaging-container",insertionMethod:"appendChild"}},[eg]:{style:sg(e),params:{enabled:!0,parentElement:"body",insertionMethod:"appendChild"}},[tg]:{style:lg(e),params:{enabled:!0===t,parentElement:"body",insertionMethod:"appendChild"}}}},gg=(e={},t)=>{og();const{content:n,contentType:o,mobileParameters:i}=e;let{webParameters:r}=e;if(o!==Wu)return;const a=Ee("div",{id:eg}),s=rg(n,ig(t)),l=Ee("div",{id:tg});dg(r)||(r=ug(i)),r&&ag(s,r,a,l)};var mg=(e,t)=>new Promise((n=>{const{meta:o}=e;gg(e,((e,n)=>{const i={};i[ac.INTERACT]=rc,-1!==Object.values(ac).indexOf(e)&&(i[e]=rc),t({decisionsMeta:[o],propositionAction:n,eventType:tc,propositionEventTypes:Object.keys(i)})})),n({meta:o})})),pg=e=>({defaultContent:t=>mg(t,e)}),fg=(e,t)=>(n,o,i)=>{if(!n)return()=>{};if(!o){const e=ye();return t.concat(e.promise),e.resolve}return(t=[],n=[])=>{Ne(t)&&e({decisionsMeta:t,viewName:i}),Ne(n)&&e({decisionsMeta:n,eventType:ic,propositionAction:{reason:"Conflict"},viewName:i})}},hg=({showContainers:e,consent:t})=>()=>{const{state:n,wasSet:o}=t.current();n===Ho&&o?e():t.awaitConsent().catch(e)};const bg=e=>{const{documentElement:t}=document;let n=e;const o=new Set;let i,r;for(;n&&n!==t&&!(n instanceof ShadowRoot);){const e=Tc(n,Au);e&&o.add(e),i=i||Tc(n,Su),r=r||Tc(n,xu),n=n.parentNode}return{interactIds:[...o],clickLabel:i,clickToken:r}},vg=e=>{const t=e.find((e=>e.scopeType===Hd));return t?t.scope:void 0},yg=(e,t,n)=>o=>{const{scopeDetails:i={}}=o,{decisionProvider:r}=i;return e[r]===Eu||e[r]===Iu&&(t||n)};var _g=(e,t,n)=>{const{interactIds:o,clickLabel:i="",clickToken:r}=bg(e),a=yg(n,i,r);if(0===o.length)return{};const s=t(o).filter(a);return{decisionsMeta:Kd(s),propositionActionLabel:i,propositionActionToken:r,viewName:vg(s)}};const wg="personalization:decisions",Cg="AJO",kg="TGT",Pg=({config:e,logger:t,eventManager:n,consent:o})=>{const{targetMigrationEnabled:i,prehidingStyle:r,autoCollectPropositionInteractions:a}=e,s=qd({eventManager:n,mergeDecisionsMeta:tu}),l=dd(t),c=cd(t),{storeInteractionMeta:d,getInteractionMetas:u}=cu(),{storeClickMeta:g,getClickSelectors:m,getClickMetas:p}=lu(),f=pu({window:window}),h=Ud(),b=wu([_u,bu]),v=Cu({preprocess:b,isPageWideSurface:Vl}),y=ru({createProposition:v}),_=Zu(window),w={[zl]:Pu,[Fl]:Mu({modules:h,logger:t,storeInteractionMeta:d,storeClickMeta:g,autoCollectPropositionInteractions:a}),[Ul]:Vu({modules:h,logger:t,storeInteractionMeta:d,autoCollectPropositionInteractions:a}),[$l]:zu({logger:t,executeRedirect:_,collect:s}),[Bl]:Ku({modules:pg(s),logger:t})},C=Fu({schemaProcessors:w,logger:t}),k=ku(),P=fg(s,k),E=$d({prehidingStyle:r,showContainers:l,hideContainers:c,mergeQuery:nu,processPropositions:C,createProposition:v,notificationHandler:P,consent:o,logger:t}),T=iu({mergeDecisionsMeta:tu,collectInteractions:_g,collectClicks:Zd,getInteractionMetas:u,getClickMetas:p,getClickSelectors:m,autoCollectPropositionInteractions:a}),I=au({processPropositions:C,viewCache:y,logger:t}),D=mu({processPropositions:C,createProposition:v,renderedPropositions:k,viewCache:y}),A=fu({targetMigrationEnabled:i}),S=qu({processPropositions:C,createProposition:v,notificationHandler:P}),x=hg({showContainers:l,consent:o});return mc({getPageLocation:f,logger:t,fetchDataHandler:E,viewChangeHandler:I,onClickHandler:T,isAuthoringModeEnabled:eu,mergeQuery:nu,viewCache:y,showContainers:l,applyPropositions:D,setTargetMigration:A,mergeDecisionsMeta:tu,renderedPropositions:k,onDecisionHandler:S,handleConsentFlicker:x})};Pg.namespace="Personalization";const Eg=Du.map((e=>Co(e)));Pg.configValidators=Eo({prehidingStyle:To().nonEmpty(),targetMigrationEnabled:_o().default(!1),autoCollectPropositionInteractions:Eo({[Cg]:bo(Eg).default(Eu),[kg]:bo(Eg).default(Tu)}).default({[Cg]:Eu,[kg]:Tu}).noUnknownFields()});const Tg=e=>null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype,Ig=(e,t={},n=[])=>(Object.keys(e).forEach((o=>{Tg(e[o])||Array.isArray(e[o])?Ig(e[o],t,[...n,o]):t[[...n,o].join(".")]=e[o]})),t);var Dg=e=>Tg(e)?Ig(e):e,Ag=({renderDecisions:e,decisionProvider:t,applyResponse:n,event:o,personalization:i,decisionContext:r})=>{const a={...Dg(o.getContent()),...r};return({response:r})=>{if(t.addPayloads(r.getPayloadsByType(wg)),!o.hasQuery())return{propositions:[]};const s=t.evaluate(a);return n({renderDecisions:e,propositions:s,event:o,personalization:i})}};const Sg={MATCHER:"matcher",GROUP:"group",HISTORICAL:"historical"},xg={EQUALS:"eq",NOT_EQUALS:"ne",EXISTS:"ex",NOT_EXISTS:"nx",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"ge",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"le",CONTAINS:"co",NOT_CONTAINS:"nc",STARTS_WITH:"sw",ENDS_WITH:"ew"},Og={AND:"and",OR:"or"},Rg={ORDERED:"ordered",MOST_RECENT:"mostRecent"},jg={[xg.EQUALS]:d(),[xg.NOT_EQUALS]:u(),[xg.EXISTS]:g(),[xg.NOT_EXISTS]:m(),[xg.GREATER_THAN]:f(),[xg.GREATER_THAN_OR_EQUAL_TO]:h(),[xg.LESS_THAN]:b(),[xg.LESS_THAN_OR_EQUAL_TO]:v(),[xg.CONTAINS]:y(),[xg.NOT_CONTAINS]:_(),[xg.STARTS_WITH]:w(),[xg.ENDS_WITH]:C()},Ng="eventId",Lg="eventType",Mg=["iam.eventType",Lg,"type"],Vg=["iam.id","id"],Gg=(e,t,n)=>{switch(t){case xg.GREATER_THAN:return e>n;case xg.GREATER_THAN_OR_EQUAL_TO:return e>=n;case xg.LESS_THAN:return e<n;case xg.LESS_THAN_OR_EQUAL_TO:return e<=n;case xg.EQUALS:return e===n;case xg.NOT_EQUALS:return e!==n;default:return!1}},zg=(e,t)=>{for(let n=0;n<t.length;n+=1)if(!P(e[t[n]]))return t[n];throw new Error("The event does not match the expected schema.")},Fg=e=>{const t=structuredClone(e);return[[zg(t,Mg),Lg],[zg(t,Vg),Ng]].forEach((([e,n])=>{e!==n&&(t[n]=t[e],delete t[e])})),t},Ug="TGT",qg="DEFAULT",Wg="ECID",$g="<key>",Bg="<identity>",Hg=K(Y,(e=>e.join("-"))),Qg=100,Jg=K(Z);var Kg=e=>{const t=structuredClone(e),n=Object.keys(t).sort().reduce(((e,n)=>{const o=t[n];return null==o||""===o?e:e+=`${n}:${o}`}),"");return pt(n)},Xg=e=>{const t=new Date;return t.setDate(t.getDate()-e),t};const Yg=1e3,Zg=30,em="events",tm=2097152,nm={TYPE:"~type",SOURCE:"~source"},om={EDGE:"com.adobe.eventType.edge",RULES_ENGINE:"com.adobe.eventType.rulesEngine"},im={REQUEST:"com.adobe.eventSource.requestContent"},rm="cjmiam",am="schema",sm="insert",lm="insertIfNotExists";var cm=(e=Zg,t=Yg)=>n=>{let o=Object.entries(n).reduce(((e,[t,{timestamps:n=[]}])=>(n.forEach((n=>{e.push({key:t,timestamp:n})})),e)),[]);const i=Xg(e);return o=o.filter((({timestamp:e})=>e>=i)),o.sort(((e,t)=>e.timestamp-t.timestamp)),o=o.slice(-t),o.reduce(((e,{key:t,timestamp:n})=>(e[t]||(e[t]={timestamps:[]}),e[t].timestamps.push(n),e)),{})},dm=e=>{const{_experience:t}=e||{};return!!t&&"object"==typeof t};const um=e=>e?.scopeDetails?.activity?.id,gm=e=>e?.scopeDetails?.decisionProvider,mm=(e,t)=>n=>{try{const n=e.getItem(t);return[JSON.parse(n),n.length]}catch{}return[n,0]},pm=(e,t)=>n=>{e.setItem(t,JSON.stringify(n))},fm=()=>{const e={};return{getItem:t=>t in e?e[t]:null,setItem:(t,n)=>{e[t]=n}}},hm=e=>{e.clear()};var bm=(e=[])=>Array.isArray(e)?e.flat(1/0):e,vm=(e,t,n)=>{const{html:o,mobileParameters:i}=n;return{schema:Bl,data:{mobileParameters:i,webParameters:{},content:o,contentType:Wu},id:e}},ym=(e,t,n)=>{const{schema:o,data:i,id:r}=n;return{schema:o,data:i,id:r||e}};const _m={[rm]:vm,[am]:ym};var wm=()=>e=>{const{id:t,type:n,detail:o}=e;return"function"==typeof _m[n]?_m[n](t,n,o):o};const Cm=e=>{const{schema:t,data:n}=e;if(t===Wl)return!0;if(t!==ql)return!1;try{const e="string"==typeof n.content?JSON.parse(n.content):n.content;return e&&Object.prototype.hasOwnProperty.call(e,"version")&&Object.prototype.hasOwnProperty.call(e,"rules")}catch{return!1}};var km=(e,t)=>{const n=wm(),o=um(e),i=[],r=e=>{const{data:t={},schema:n}=e,o=n===Wl?t:t.content;o&&i.push(re("string"==typeof o?JSON.parse(o):o,{generateEventHash:Kg}))},a=r=>{const a=t.getEvent(ec,o),s=a?.timestamps[0],l=bm(i.map((e=>e.execute(r)))).map(n).map((e=>{const n=t.addEvent({eventType:ac.TRIGGER,eventId:o}).timestamps[0];return{...e,data:{...e.data,qualifiedDate:n,displayedDate:s}}}));return{...e,items:l}};return Array.isArray(e.items)&&e.items.filter(Cm).forEach(r),{rank:e?.scopeDetails?.rank||1/0,evaluate:a,isEvaluable:i.length>0}},Pm=({eventRegistry:e})=>{const t={},n=n=>{const o=um(n);if(!o)return;const i=km(n,e);i.isEvaluable&&(t[o]=i)};return{addPayload:n,addPayloads:e=>{e.forEach(n)},evaluate:(e={})=>Object.values(t).sort((({rank:e},{rank:t})=>e-t)).map((t=>t.evaluate(e))).filter((e=>e.items.length>0))}},Em=e=>{const t=[];return e.forEach((e=>{const n=[];e.items.forEach((e=>{e.schema===Ql?t.push({operation:e.data.operation,event:{eventId:e.data.content["iam.id"],eventType:e.data.content["iam.eventType"]}}):n.push(e)})),e.items=n})),t},Tm=({lifecycle:e,eventRegistry:t})=>({renderDecisions:n=!1,propositions:o=[],event:i,personalization:r})=>{if(e){const a=Em(o);t.addEventPayloads(a),e.onDecision({renderDecisions:n,propositions:o,event:i,personalization:r})}return{propositions:o}},Im=({storage:e,logger:t})=>{let n,o,i,r=e;const a=e=>{r=e;const t=mm(r,em);if(n=pm(r,em),[o,i]=t({}),i>tm){const e=cm();o=e(o),n(o)}};a(e);const s=(e={eventType:null,eventId:null},i=sm)=>{const{eventType:r,eventId:a}=e;if(!r||!a)return;const s=Kg(e);if(i===lm&&o[s])return;o[s]&&Array.isArray(o[s].timestamps)||(o[s]={timestamps:[]});const l=(new Date).getTime();return o[s].timestamps.push(l),o[s].timestamps.sort(),t.info("[Event History] Added event for",e,"with hash",s,"and timestamp",l),n(o),o[s]},l=(e=[])=>e.map((({operation:e,event:t})=>s(t,e)));return{addExperienceEdgeEvent:e=>{const{xdm:t}=e.getContent();if(!dm(t))return;const{_experience:{decisioning:{propositionEventType:n={},propositionAction:{id:o}={},propositions:i=[]}={}}}=t;Object.keys(n).filter((e=>n[e]===rc)).forEach((e=>{i.forEach((t=>{gm(t)===Cg&&s({eventId:um(t),eventType:e,action:o})}))}))},addEvent:s,addEventPayloads:l,getEvent:(e,t)=>{const n=Kg({eventType:e,eventId:t});if(o[n])return o[n]},toJSON:()=>o,setStorage:a}},Dm=({eventRegistry:e,window:t,getBrowser:n})=>{const o=(new Date).getTime(),i=()=>({title:t.title,url:t.url,...Xt(t.url)}),r=()=>({url:t.referrer,...Xt(t.referrer)}),a=()=>{const e=new Date,t=e.getTime();return{pageLoadTimestamp:o,currentTimestamp:t,currentDate:e.getDate(),"~state.com.adobe.module.lifecycle/lifecyclecontextdata.dayofweek":e.getDay()+1,"~state.com.adobe.module.lifecycle/lifecyclecontextdata.hourofday":e.getHours(),currentMinute:e.getMinutes(),currentMonth:e.getMonth(),currentYear:e.getFullYear(),pageVisitDuration:t-o,"~timestampu":t/1e3,"~timestampz":e.toISOString()}},s=()=>({height:t.height,width:t.width,scrollY:t.scrollY,scrollX:t.scrollX}),l={browser:(()=>({name:n()}))(),page:i(),referringPage:r()},c=()=>({...l,...a(),window:s(),"~sdkver":xr});return{getContext:(t={})=>{const n={...c(),...t};return{...Dg(n),events:e.toJSON()}}}};const Am=(e,...t)=>t,Sm=()=>!0,xm=()=>{let e=Am,t=Sm,n=0;const o={},i=e=>()=>{delete o[e]},r=(e,t)=>"function"!=typeof e?()=>{}:(n+=1,o[n]={callback:e,params:t},{id:n,unsubscribe:i(n)}),a=(...n)=>{Object.values(o).forEach((({callback:o,params:i})=>{const r=e(i,...n);t(i,...r)&&o(...r)}))},s=(n,...i)=>{if(!n||!o[n])return;const{callback:r,params:a}=o[n],s=e(a,...i);t(a,...s)&&r(...s)};return{add:r,emit:a,emitOne:s,hasSubscriptions:()=>Object.keys(o).length>0,setEmissionPreprocessor:t=>{"function"==typeof t&&(e=t)},setEmissionCondition:e=>{"function"==typeof e&&(t=e)}}},Om=({options:e})=>Eo({surfaces:yo(To()).uniqueItems(),schemas:yo(To()).uniqueItems(),callback:wo().required()}).noUnknownFields()(e),Rm=e=>{const{id:t,scope:n,scopeDetails:o}=e;return{id:t,scope:n,scopeDetails:o}};var jm=({collect:e})=>{let t=()=>{};const n=new Set,o=e=>[ac.INTERACT,ac.DISMISS].includes(e),i=(e,t,i)=>{const r=[e,t].join("-"),a=!i.has(r)&&(o(e)||!n.has(r));return i.add(r),n.add(r),a},r=(t,n=[])=>{if(!(n instanceof Array))return Promise.resolve();if(!Object.values(ac).includes(t))return Promise.resolve();const o=[],r=new Set;return n.forEach((e=>{const n=Rm(e);i(t,n.id,r)&&o.push(n)})),o.length>0?e({decisionsMeta:o,eventType:dc(t),documentMayUnload:!0}):Promise.resolve()},a=xm(),s=(e,t)=>{const{surfacesFilter:n,schemasFilter:o}=e;return[{propositions:t.filter((e=>!n||n.includes(e.scope))).map((e=>{const{items:t=[]}=e;return{...e,items:t.filter((e=>!o||o.includes(e.schema)))}})).filter((e=>e.items.length>0))},r]};a.setEmissionPreprocessor(s);const l=({surfaces:e,schemas:n,callback:o})=>{const{id:i,unsubscribe:r}=a.add(o,{surfacesFilter:e instanceof Array?e:void 0,schemasFilter:n instanceof Array?n:void 0});return t(i),Promise.resolve({unsubscribe:r})};return{refresh:e=>{t=t=>{t?a.emitOne(t,e):a.emit(e)},t()},command:{optionsValidator:e=>Om({options:e}),run:l}}};const Nm=({options:e})=>Eo({renderDecisions:_o(),personalization:Eo({decisionContext:Eo({})})}).noUnknownFields()(e);var Lm=({contextProvider:e,decisionProvider:t})=>({optionsValidator:e=>Nm({options:e}),run:({renderDecisions:n,decisionContext:o,applyResponse:i})=>i({renderDecisions:n,propositions:t.evaluate(e.getContext(o))})});const Mm=({config:e,eventManager:t,createNamespacedStorage:n,consent:o,getBrowser:i,logger:r})=>{const{orgId:a,personalizationStorageEnabled:s}=e,l=qd({eventManager:t,mergeDecisionsMeta:tu}),c=n(`${_t(a)}.decisioning.`);s||hm(c.persistent);const d=Im({storage:fm(),logger:r}),u=Pm({eventRegistry:d}),g=Dm({eventRegistry:d,window:window,getBrowser:i}),m=Lm({contextProvider:g,decisionProvider:u}),p=jm({collect:l});let f;return{lifecycle:{onDecision({propositions:e}){p.refresh(e)},onComponentsRegistered(e){f=Tm({lifecycle:e.lifecycle,eventRegistry:d}),s&&o.awaitConsent().then((()=>{d.setStorage(c.persistent)})).catch((()=>{c&&hm(c.persistent)}))},onBeforeEvent({event:e,renderDecisions:t,personalization:n={},onResponse:o=Qt}){const{decisionContext:i={}}=n;o(Ag({renderDecisions:t,decisionProvider:u,applyResponse:f,event:e,personalization:n,decisionContext:g.getContext({[nm.TYPE]:om.EDGE,[nm.SOURCE]:im.REQUEST,...i})}))},onBeforeRequest({request:e}){const t=e.getPayload().toJSON(),{events:n=[]}=t;0!==n.length&&n.forEach((e=>d.addExperienceEdgeEvent(e)))}},commands:{evaluateRulesets:{run:({renderDecisions:e,personalization:t={}})=>{const{decisionContext:n={}}=t;return m.run({renderDecisions:e,decisionContext:{[nm.TYPE]:om.RULES_ENGINE,[nm.SOURCE]:im.REQUEST,...n},applyResponse:f})},optionsValidator:m.optionsValidator},subscribeRulesetItems:p.command}}};Mm.namespace="RulesEngine",Mm.configValidators=Eo({personalizationStorageEnabled:_o().default(!1)});var Vm=Eo({streamingMedia:Eo({channel:To().nonEmpty().required(),playerName:To().nonEmpty().required(),appVersion:To(),mainPingInterval:ko().minimum(10).maximum(50).default(10),adPingInterval:ko().minimum(1).maximum(10).default(10)}).noUnknownFields()}),Gm=({options:e})=>bo([Eo({playerId:To().required(),getPlayerDetails:wo().required(),xdm:Eo({mediaCollection:Eo({sessionDetails:Eo(vo()).required()})}),edgeConfigOverrides:Ao}).required(),Eo({xdm:Eo({mediaCollection:Eo({playhead:ko().required(),sessionDetails:Eo(vo()).required()})}),edgeConfigOverrides:Ao}).required()],"an object with playerId, getPlayerDetails and xdm.mediaCollection.sessionDetails, or an object with xdm.mediaCollection.playhead and xdm.mediaCollection.sessionDetails")(e),zm=({options:e})=>bo([Eo({playerId:To().required(),xdm:Eo({eventType:Io(...Object.values(Ks)).required(),mediaCollection:Eo(vo())}).required()}).required(),Eo({xdm:Eo({eventType:Io(...Object.values(Ks)).required(),mediaCollection:Eo({playhead:ko().integer().required(),sessionID:To().required()}).required()}).required()}).required()],"Error validating the sendMediaEvent command options.")(e),Fm=({config:e,trackMediaEvent:t,trackMediaSession:n,mediaResponseHandler:o})=>({lifecycle:{onBeforeEvent({mediaOptions:e,onResponse:t=Qt}){if(!e)return;const{legacy:n,playerId:i,getPlayerDetails:r}=e;n||t((({response:e})=>o({playerId:i,getPlayerDetails:r,response:e})))}},commands:{createMediaSession:{optionsValidator:e=>Gm({options:e}),run:n},sendMediaEvent:{optionsValidator:e=>zm({options:e}),run:n=>e.streamingMedia?t(n):Promise.reject(new Error("Streaming media is not configured."))}}});const Um=({config:e,logger:t,eventManager:n,sendEdgeNetworkRequest:o,consent:i})=>{const r=el(),a=Ys({config:e,eventManager:n,consent:i,sendEdgeNetworkRequest:o,setTimestamp:Ar((()=>new Date))}),s=nl({mediaSessionCacheManager:r,mediaEventManager:a,config:e}),l=ol({config:e,mediaEventManager:a,mediaSessionCacheManager:r}),c=rl({mediaSessionCacheManager:r,config:e,trackMediaEvent:s});return Fm({config:e,trackMediaEvent:s,mediaResponseHandler:c,trackMediaSession:l})};Um.namespace="Streaming media",Um.configValidators=Vm,Eo({advertising:Eo({id5PartnerId:To(),rampIdJSPath:To(),dspEnabled:_o(),advertiserSettings:yo(Eo({advertiserId:To().required(),enabled:_o().required()}).noUnknownFields())}).noUnknownFields()}),Eo({pushNotifications:Eo({vapidPublicKey:To().required(),appId:To().required(),trackingDatasetId:To().required()}).noUnknownFields()});const{console:qm}=window,Wm=zt(window),$m=(e={})=>{const t=Eo({name:To().default("alloy"),monitors:yo(Eo({})).default([]),components:yo(wo())}).noUnknownFields(),{name:n,monitors:o,components:i}=t(e),r=xo({console:qm,locationSearch:window.location.search,createLogger:Si,instanceName:n,createNamespacedStorage:Wm,getMonitors:Cr.bind(null,o)}),a=za({instanceName:n,logController:r,components:i});return r.logger.logOnInstanceCreated({instance:a}),a};t.createCustomInstance=$m;t.components=[Ss,js,Bs,Js,_l,Pg,Mm,Um]}},"adobe-alloy/dist/lib/instanceManager/createInstanceManager.js":{script:function(e){"use strict";e.exports=({turbine:e,window:t,createCustomInstance:n,components:o,createEventMergeId:i,orgId:r,wrapOnBeforeEventSend:a,getConfigOverrides:s})=>{const{instances:l}=e.getExtensionSettings(),c={},d={};return t.__alloyMonitors=t.__alloyMonitors||[],t.__alloyMonitors.push({onInstanceCreated:(...e)=>{d.onInstanceCreated||=[],d.onInstanceCreated.push(e)},onInstanceConfigured:(...e)=>{d.onInstanceConfigured||=[],d.onInstanceConfigured.push(e)},onBeforeCommand(...e){const{commandName:t}=e[0];"configure"===t&&(d.onBeforeCommand||=[],d.onBeforeCommand.push(e))}}),l.forEach((({name:i,edgeConfigId:l,stagingEdgeConfigId:d,developmentEdgeConfigId:u,onBeforeEventSend:g,...m})=>{const p=n({name:i,components:o});t[i]=p,t.__alloyNS||(t.__alloyNS=[]),t.__alloyNS.push(i),c[i]=p;const f=e.environment&&e.environment.stage,h="development"===f&&u||"staging"===f&&d||l;m.edgeConfigOverrides=s(m),p("configure",{...m,datastreamId:h,debugEnabled:e.debugEnabled,orgId:m.orgId||r,onBeforeEventSend:a(g)}),e.onDebugChanged((e=>{p("setDebug",{enabled:e})}))})),{getInstance:e=>c[e],createEventMergeId:()=>i(),addMonitor(e){t.__alloyMonitors.push(e),Object.keys(d).forEach((t=>{e[t]&&d[t].forEach((n=>{e[t](...n)}))}))}}}}},"adobe-alloy/dist/lib/instanceManager/injectWrapOnBeforeEventSend.js":{script:function(e){"use strict";e.exports=({version:e})=>t=>n=>{if(n.xdm.implementationDetails.name=`${n.xdm.implementationDetails.name}/reactor`,n.xdm.implementationDetails.version=`${n.xdm.implementationDetails.version}+${e}`,t)return t(n)}}},"adobe-alloy/dist/lib/createEventMergeIdCache.js":{script:function(e){"use strict";e.exports=()=>{const e={};return{set(t,n){e[t]=n},getByCacheId:t=>e[t],clearByEventMergeId(t){Object.keys(e).forEach((n=>{e[n]===t&&delete e[n]}))}}}}},"adobe-alloy/dist/lib/createSendEventCallbackStorage.js":{script:function(e){"use strict";e.exports=()=>{const e=[];return{add(t){e.push(t)},triggerEvent(t){e.forEach((e=>{e(t)}))}}}}},"adobe-alloy/dist/lib/createMediaCollectionSessionStorage.js":{script:function(e){"use strict";e.exports=()=>{const e={};return{add({playerId:t,sessionDetails:n}){if(e[t])throw new Error(`Player Id ${t} already exists`);e[t]=n},remove({playerId:t}){e[t]=void 0},get:({playerId:t})=>e[t]}}}},"adobe-alloy/dist/lib/createVariableStore.js":{script:function(e){"use strict";e.exports=()=>({})}}}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP1b7d885611af4410a124781998596ed6/",modules:{"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:function(e,t,n){"use strict";var o=n("../helpers/getObjectProperty.js");e.exports=function(e){return o(window,e.path)}}},"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-cookie");e.exports=function(e){return o.get(e.name)}}},"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window"),i=n("@adobe/reactor-query-string");e.exports=function(e){var t=i.parse(o.location.search);if(!e.caseInsensitive)return t[e.name];for(var n=e.name.toLowerCase(),r=Object.keys(t),a=0;a<r.length;a++){var s=r[a];if(s.toLowerCase()===n)return t[s]}}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e,t,n){"use strict";var o=n("../helpers/stringAndNumberUtils").isString,i=n("../helpers/stringAndNumberUtils").isNumber,r=n("../helpers/stringAndNumberUtils").castToStringIfNumber,a=n("../helpers/stringAndNumberUtils").castToNumberIfString,s=function(e,t){return t&&o(e)?e.toLowerCase():e},l=function(e){return function(t,n,i){return t=r(t),n=r(n),o(t)&&o(n)&&e(t,n,i)}},c=function(e){return function(t,n){return t=a(t),n=a(n),i(t)&&i(n)&&e(t,n)}},d=function(e){return function(t,n,o){return e(s(t,o),s(n,o))}},u={equals:d((function(e,t){return e==t})),doesNotEqual:function(){return!u.equals.apply(null,arguments)},contains:l(d((function(e,t){return-1!==e.indexOf(t)}))),doesNotContain:function(){return!u.contains.apply(null,arguments)},startsWith:l(d((function(e,t){return 0===e.indexOf(t)}))),doesNotStartWith:function(){return!u.startsWith.apply(null,arguments)},endsWith:l(d((function(e,t){return e.substring(e.length-t.length,e.length)===t}))),doesNotEndWith:function(){return!u.endsWith.apply(null,arguments)},matchesRegex:l((function(e,t,n){return new RegExp(t,n?"i":"").test(e)})),doesNotMatchRegex:function(){return!u.matchesRegex.apply(null,arguments)},lessThan:c((function(e,t){return e<t})),lessThanOrEqual:c((function(e,t){return e<=t})),greaterThan:c((function(e,t){return e>t})),greaterThanOrEqual:c((function(e,t){return e>=t})),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return u[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,n,o){"use strict";var i,r,a,s,l=n("@adobe/reactor-document"),c=n("@adobe/reactor-promise"),d=n("./helpers/decorateCode"),u=n("./helpers/loadCodeSequentially"),g=n("../../../node_modules/postscribe/dist/postscribe"),m=n("./helpers/unescapeHtmlCode"),p=n("../helpers/findPageScript").getTurbine,f=(r=function(e){g(l.body,e,{beforeWriteToken:function(e){var t=e.tagName&&e.tagName.toLowerCase();return i&&"script"===t&&(e.attrs.nonce=i),"script"!==t&&"style"!==t||(Object.keys(e.attrs||{}).forEach((function(t){e.attrs[t]=m(e.attrs[t])})),e.src&&(e.src=m(e.src))),e},error:function(e){o.logger.error(e.msg)}})},a=[],s=function(){if(l.body)for(;a.length;)r(a.shift());else setTimeout(s,20)},function(e){a.push(e),s()}),h=function(){if(l.currentScript)return l.currentScript.async;var e=p();return!e||e.async}();e.exports=function(e,t){var n;i=o.getExtensionSettings().cspNonce;var r={settings:e,event:t},a=r.settings.source;if(a)return r.settings.isExternal?u(a).then((function(e){return e?(n=d(r,e),f(n.code),n.promise):c.resolve()})):(n=d(r,a),h||"loading"!==l.readyState?f(n.code):l.write&&!1===o.propertySettings.ruleComponentSequencingEnabled?l.write(n.code):f(n.code),n.promise)}}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,n){"use strict";var o=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){o.registerDomReadyTrigger(t)}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,n){"use strict";var o=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){o.registerLibraryLoadedTrigger(t)}}},"core/src/lib/events/elementExists.js":{name:"element-exists",displayName:"Element Exists",script:function(e,t,n){"use strict";var o=3e3,i=new(n("./helpers/weakMap")),r=n("./helpers/matchesProperties"),a={};setInterval((function(){Object.keys(a).forEach((function(e){for(var t=a[e],n=document.querySelectorAll(e),o=0;o<n.length;o++){var s=n[o];if(!i.has(s)){i.set(s,!0);for(var l=0;l<t.length;l++){var c=t[l];r(s,c.settings.elementProperties)&&(c.trigger({element:s,target:s}),t.splice(l,1),l--)}}if(!t.length){delete a[e];break}}}))}),o),e.exports=function(e,t){var n=a[e.elementSelector];n||(n=a[e.elementSelector]=[]),n.push({settings:e,trigger:t})}}},"core/src/lib/conditions/path.js":{name:"path",displayName:"Path Without Query String",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-document"),i=n("../helpers/textMatch");e.exports=function(e){var t=o.location.pathname;return e.paths.some((function(e){var n=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return i(t,n)}))}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,n,o){"use strict";var i={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var n=i[e];if(n){var r={identifier:e,detail:t};n.forEach((function(e){e(r)}));var a=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&a.push(t),o.logger.log.apply(o.logger,a)}else o.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var n=i[e.identifier];n||(n=i[e.identifier]=[]),n.push(t)}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window"),i=n("./helpers/createBubbly")(),r=new(n("./helpers/weakMap")),a=2,s=n("../helpers/stringAndNumberUtils").castToNumberIfString,l=function(e){if(!e.ctrlKey&&!e.metaKey&&e.button!==a)for(var t=e.target;t;){var n=t.tagName;if(n&&"a"===n.toLowerCase()){var i=t.getAttribute("href"),r=t.getAttribute("target");return i&&(!r||"_self"===r||"_top"===r&&o.top===o||r===o.name)?t:void 0}t=t.parentNode}};document.addEventListener("click",i.evaluateEvent,!0),e.exports=function(e,t){i.addListener(e,(function(n){var i=n.nativeEvent;if(!i.s_fe){var a=s(e.anchorDelay);if(a&&!r.has(i)){var c=l(i);c&&(i.preventDefault(),setTimeout((function(){o.location=c.href}),a)),r.set(i,!0)}t(n)}}))},e.exports.__reset=i.__reset}},"core/src/lib/events/windowLoaded.js":{name:"window-loaded",displayName:"Window Loaded",script:function(e,t,n){"use strict";var o=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){o.registerWindowLoadedTrigger(t)}}},"core/src/lib/events/focus.js":{name:"focus",displayName:"Focus",script:function(e,t,n){"use strict";var o=n("./helpers/createBubbly")();document.addEventListener("focus",o.evaluateEvent,!0),e.exports=function(e,t){o.addListener(e,t)}}},"core/src/lib/events/customEvent.js":{name:"custom-event",displayName:"Custom Event",script:function(e,t,n){"use strict";var o=n("./helpers/createBubbly")(),i=[];e.exports=function(e,t){var n=e.type;-1===i.indexOf(n)&&(i.push(n),window.addEventListener(n,o.evaluateEvent,!0)),o.addListener(e,(function(e){e.nativeEvent.type===n&&(e.detail=e.nativeEvent.detail,t(e))}))}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var n=t.split("."),o=e,i=0,r=n.length;i<r;i++){if(null==o)return;o=o[n[i]]}return o}}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},n=function(e){return"string"==typeof e||e instanceof String},o=function(e){return t(e)?String(e):e},i=function(e){return n(e)?Number(e):e};e.exports={isNumber:t,isString:n,castToStringIfNumber:o,castToNumberIfString:i}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,n){"use strict";var o=n("./decorators/decorateGlobalJavaScriptCode"),i=n("./decorators/decorateNonGlobalJavaScriptCode"),r={javascript:function(e,t){return e.settings.global?o(e,t):i(e,t)},html:n("./decorators/decorateHtmlCode")};e.exports=function(e,t){return r[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-promise"),i=n("./getSourceByUrl"),r=o.resolve();e.exports=function(e){var t=new o((function(t){var n=i(e);o.all([n,r]).then((function(e){var n=e[0];t(n)}))}));return r=t,t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var n,o;n=this,o=function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=o(n(1));e.exports=i.default},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function r(){}function a(){var e=p.shift();if(e){
var t=u.last(e);t.afterDequeue(),e.stream=s.apply(void 0,e),t.afterStreamStart()}}function s(e,t,n){function o(e){e=n.beforeWrite(e),f.write(e),n.afterWrite(e)}(f=new d.default(e,n)).id=m++,f.name=n.name||f.id,l.streams[f.name]=f;var i=e.ownerDocument,s={close:i.close,open:i.open,write:i.write,writeln:i.writeln};c(i,{close:r,open:r,write:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t.join("")+"\n")}});var u=f.win.onerror||r;return f.win.onerror=function(e,t,o){n.error({msg:e+" - "+t+": "+o}),u.apply(f.win,[e,t,o])},f.write(t,(function(){c(i,s),f.win.onerror=u,n.done(),f=null,a()})),f}function l(e,t,n){if(u.isFunction(n))n={done:n};else if("clear"===n)return p=[],f=null,void(m=0);n=u.defaults(n,g);var o=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,n];return e.postscribe={cancel:function(){o.stream?o.stream.abort():o[1]=r}},n.beforeEnqueue(o),p.push(o),f||a(),e.postscribe}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=l;var d=i(n(2)),u=o(n(4)),g={afterAsync:r,afterDequeue:r,afterStreamStart:r,afterWrite:r,autoFix:!0,beforeEnqueue:r,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:r,error:function(e){throw new Error(e.msg)},releaseAsync:!1},m=0,p=[],f=null;c(l,{streams:{},queue:p,WriteStream:d.default})},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){var n=g+t,o=e.getAttribute(n);return d.existy(o)?String(o):o}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=g+t;d.existy(n)&&""!==n?e.setAttribute(o,n):e.removeAttribute(o)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=i(n(3)),d=o(n(4)),u=!1,g="data-ps-",m="ps-style",p="ps-script",f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.root=t,this.options=n,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new c.default("",{autoFix:n.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],s(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();d.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,n=void 0,o=void 0,i=[];(t=this.parser.readToken())&&!(n=d.isScript(t))&&!(o=d.isStyle(t));)(t=this.options.beforeWriteToken(t))&&i.push(t);i.length>0&&this._writeStaticTokens(i),n&&this._handleScriptToken(t),o&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,u&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),u&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,n=[],o=[],i=[],r=e.length,a=0;a<r;a++){var s=e[a],l=s.toString();if(n.push(l),s.attrs){if(!/^noscript$/i.test(s.tagName)){var c=t++;o.push(l.replace(/(\/?>)/," "+g+"id="+c+" $1")),s.attrs.id!==p&&s.attrs.id!==m&&i.push("atomicTag"===s.type?"":"<"+s.tagName+" "+g+"proxyof="+c+(s.unary?" />":">"))}}else o.push(l),i.push("endTag"===s.type?l:"")}return{tokens:e,raw:n.join(""),actual:o.join(""),proxy:i.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];d.existy(e=t.shift());){var n=1===e.nodeType;if(!n||!a(e,"proxyof")){n&&(this.actuals[a(e,"id")]=e,s(e,"id"));var o=e.parentNode&&a(e.parentNode,"proxyof");o&&this.actuals[o].appendChild(e)}t.unshift.apply(t,d.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,n=this.parser.clear();n&&this.writeQueue.unshift(n),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,m),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),d.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var n=this.doc.getElementById(t);n&&n.parentNode.replaceChild(e,n)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var n=this._buildScript(e),o=this._shouldRelease(n),i=this.options.afterAsync;e.src&&(n.src=e.src,this._scriptLoadHandler(n,o?i:function(){t(),i()}));try{this._insertCursor(n,p),n.src&&!o||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return d.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function n(){e=e.onload=e.onreadystatechange=e.onerror=null}function o(){n(),null!=t&&t(),t=null}function i(e){n(),a(e),null!=t&&t(),t=null}function r(e,t){var n=e["on"+t];null!=n&&(e["_on"+t]=n)}var a=this.options.error;r(e,"load"),r(e,"error"),l(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){i({msg:"onload handler failed "+t+" @ "+e.src})}o()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void i({msg:"onerror handler failed "+t+" @ "+e.src})}i({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&o()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=f},function(e){var t;t=function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=o(n(1));e.exports=i.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=i(n(2)),s=i(n(3)),l=o(n(6)),c=n(5),d={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},u=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.stream=n;var i=!1,s={};for(var c in a)a.hasOwnProperty(c)&&(o.autoFix&&(s[c+"Fix"]=!0),i=i||s[c+"Fix"]);i?(this._readToken=(0,l.default)(this,s,(function(){return t._readTokenImpl()})),this._peekToken=(0,l.default)(this,s,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in d)if(d.hasOwnProperty(e)&&d[e].test(this.stream)){var t=s[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var g in t.default=u,u.tokenToString=function(e){return e.toString()},u.escapeAttributes=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=(0,c.escapeQuotes)(e[n],null));return t},u.supports=a,a)a.hasOwnProperty(g)&&(u.browserHasFlaw=u.browserHasFlaw||!a[g]&&g)},function(e,t){"use strict";t.__esModule=!0;var n=!1,o=!1,i=window.document.createElement("div");try{var r="<P><I></P></I>";i.innerHTML=r,t.tagSoup=n=i.innerHTML!==r}catch(e){t.tagSoup=n=!1}try{i.innerHTML="<P><i><P></P></i></P>",t.selfClose=o=2===i.childNodes.length}catch(e){t.selfClose=o=!1}i=null,t.tagSoup=n,t.selfClose=o},function(e,t,n){"use strict";function o(e){var t=e.indexOf("-->");if(t>=0)return new c.CommentToken(e.substr(4,t-1),t+3)}function i(e){var t=e.indexOf("<");return new c.CharsToken(t>=0?t:e.length)}function r(e){var t,n,o;if(-1!==e.indexOf(">")){var i=e.match(d.startTag);if(i){var r=(t={},n={},o=i[2],i[2].replace(d.attr,(function(e,i){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",n[arguments[5]]=!0):t[i]=arguments[2]||arguments[3]||arguments[4]||d.fillAttr.test(i)&&i||"":t[i]="",o=o.replace(e,"")})),{v:new c.StartTagToken(i[1],i[0].length,t,n,!!i[3],o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===r?"undefined":l(r)))return r.v}}}function a(e){var t=r(e);if(t){var n=e.slice(t.length);if(n.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var o=n.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(o)return new c.AtomicTagToken(t.tagName,o[0].length+t.length,t.attrs,t.booleanAttrs,o[1])}}}function s(e){var t=e.match(d.endTag);if(t)return new c.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=o,t.chars=i,t.startTag=r,t.atomicTag=a,t.endTag=s;var c=n(4),d={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var i=n(5),r=(t.Token=function e(t,n){o(this,e),this.type=t,this.length=n,this.text=""},t.CommentToken=function(){function e(t,n){o(this,e),this.type="comment",this.length=n||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){o(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,n,i,r,a){o(this,e),this.type=t,this.length=i,this.text="",this.tagName=n,this.attrs=r,this.booleanAttrs=a,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="<"+e.tagName;for(var o in e.attrs)if(e.attrs.hasOwnProperty(o)){n+=" "+o;var r=e.attrs[o];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[o]||(n+='="'+(0,i.escapeQuotes)(r)+'"')}return e.rest&&(n+=" "+e.rest),e.unary&&!e.html5Unary?n+="/>":n+=">",null!=t&&(n+=t+"</"+e.tagName+">"),n},e}());t.StartTagToken=function(){function e(t,n,i,r,a,s){o(this,e),this.type="startTag",this.length=n,this.text="",this.tagName=t,this.attrs=i,this.booleanAttrs=r,this.html5Unary=!1,this.unary=a,this.rest=s}return e.prototype.toString=function(){return r.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,n,i,r,a){o(this,e),this.type="atomicTag",this.length=n,this.text="",this.tagName=t,this.attrs=i,this.booleanAttrs=r,this.unary=!1,this.html5Unary=!1,this.content=a}return e.prototype.toString=function(){return r.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,n){o(this,e),this.type="endTag",this.length=n,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=n},function(e,t){"use strict";function n(e){return e&&"startTag"===e.type&&(e.unary=s.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function o(e,t){var o=e.stream,i=n(t());return e.stream=o,i}function i(e,t){var n=t.pop();e.prepend("</"+n.tagName+">")}function r(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1},e}function a(e,t,a){function s(){var t=o(e,a);t&&d[t.type]&&d[t.type](t)}var c=r(),d={startTag:function(n){var o=n.tagName;"TR"===o.toUpperCase()&&c.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),s()):t.selfCloseFix&&l.test(o)&&c.containsTagName(o)?c.lastTagNameEq(o)?i(e,c):(e.prepend("</"+n.tagName+">"),s()):n.unary||c.push(n)},endTag:function(n){c.last()?t.tagSoupFix&&!c.lastTagNameEq(n.tagName)?i(e,c):c.pop():t.tagSoupFix&&(a(),s())}};return function(){return s(),n(a())}}t.__esModule=!0,t.default=a;var s=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,l=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function n(e){return null!=e}function o(e){return"function"==typeof e}function i(e,t,n){var o=void 0,i=e&&e.length||0;for(o=0;o<i;o++)t.call(n,e[o],o)}function r(e,t,n){for(var o in e)e.hasOwnProperty(o)&&t.call(n,o,e[o])}function a(e,t){return e=e||{},r(t,(function(t,o){n(e[t])||(e[t]=o)})),e}function s(e){try{return Array.prototype.slice.call(e)}catch(o){var t=(n=[],i(e,(function(e){n.push(e)})),{v:n});if("object"===(void 0===t?"undefined":g(t)))return t.v}var n}function l(e){return e[e.length-1]}function c(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function d(e){return c(e,"script")}function u(e){return c(e,"style")}t.__esModule=!0;var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=n,t.isFunction=o,t.each=i,t.eachKey=r,t.defaults=a,t.toArray=s,t.last=l,t.isTag=c,t.isScript=d,t.isStyle=u}])},"object"==typeof t&&"object"==typeof e?e.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof t?t.postscribe=o():n.postscribe=o()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-document").createElement("div");e.exports=function(e){return o.innerHTML=e,o.textContent||o.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-document"),i=function(e){for(var t=o.querySelectorAll("script"),n=0;n<t.length;n++){var i=t[n];if(e.test(i.src))return i}},r=function(){return i(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))};e.exports={getTurbine:r,byRegexPattern:i}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:o.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-promise"),i=0;e.exports=function(e,t){var n="_runScript"+ ++i,r=new o((function(t,i){_satellite[n]=function(r){delete _satellite[n],new o((function(t){t(r.call(e.event.element,e.event,e.event.target,o))})).then(t,i)}}));return{code:'<script>_satellite["'+n+'"](function(event, target, Promise) {\n'+t+"\n});</script>",promise:r}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,n,o){"use strict";var i=n("@adobe/reactor-promise"),r=0,a={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=a[e];t&&(delete a[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=a[e];t&&(delete a[e],t.reject())};var s=function(e){return-1!==e.indexOf("${reactorCallbackId}")},l=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},c=function(e){return e.settings.isExternal};e.exports=function(e,t){var n;return c(e)&&(t=o.replaceTokens(t,e.event)),s(t)?(n=new i((function(e,t){a[String(r)]={resolve:e,reject:t}})),t=l(t,r),r+=1):n=i.resolve(),{code:t,promise:n}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-load-script"),i=n("@adobe/reactor-promise"),r=n("../../helpers/findPageScript").byRegexPattern,a={},s={},l=function(e){return s[e]||(s[e]=o(e)),s[e]};_satellite.__registerScript=function(e,t){var n;if(document.currentScript)n=document.currentScript.getAttribute("src");else{var o=new RegExp(".*"+e+".*");n=r(o).getAttribute("src")}a[n]=t},e.exports=function(e){return a[e]?i.resolve(a[e]):new i((function(t){l(e).then((function(){t(a[e])}),(function(){t()}))}))}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window"),i=n("@adobe/reactor-document"),r=-1!==o.navigator.appVersion.indexOf("MSIE 10"),a="WINDOW_LOADED",s="DOM_READY",l="PAGE_BOTTOM",c=[l,s,a],d=function(e,t){return{element:e,target:e,nativeEvent:t}},u={};c.forEach((function(e){u[e]=[]}));var g=function(e,t){c.slice(0,p(e)+1).forEach((function(e){f(t,e)}))},m=function(){return"complete"===i.readyState?a:"interactive"===i.readyState?r?null:s:void 0},p=function(e){return c.indexOf(e)},f=function(e,t){u[t].forEach((function(t){h(e,t)})),u[t]=[]},h=function(e,t){var n=t.trigger,o=t.syntheticEventFn;n(o?o(e):null)};o._satellite=o._satellite||{},o._satellite.pageBottom=g.bind(null,l),i.addEventListener("DOMContentLoaded",g.bind(null,s),!0),o.addEventListener("load",g.bind(null,a),!0),o.setTimeout((function(){var e=m();e&&g(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){u[l].push({trigger:e})},registerDomReadyTrigger:function(e){u[s].push({trigger:e,syntheticEventFn:d.bind(null,i)})},registerWindowLoadedTrigger:function(e){u[a].push({trigger:e,syntheticEventFn:d.bind(null,o)})}}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window").WeakMap;if(void 0===o){var i=Object.defineProperty,r=Date.now()%1e9;(o=function(){this.name="__st"+(1e9*Math.random()>>>0)+r+++"__"}).prototype={set:function(e,t){var n=e[this.name];return n&&n[0]===e?n[1]=t:i(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e)&&(t[0]=t[1]=void 0,!0)},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=o}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,n){"use strict";var o=n("./../../helpers/textMatch"),i=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(e,t){return!t||t.every((function(t){var n=i(e,t.name),r=t.valueIsRegex?new RegExp(t.value,"i"):t.value;return o(n,r)}))}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,n){"use strict";var o=n("./weakMap"),i=n("./matchesProperties"),r=n("./matchesSelector");e.exports=function(){var e=[],t=new o,n={addListener:function(t,n){e.push({settings:t,callback:n})},evaluateEvent:function(n,o){if(e.length&&!t.has(n)){for(var a=n.target,s=!1;a;){for(var l=!1,c=!1,d=0;d<e.length;d++){var u=e[d],g=u.settings.elementSelector,m=u.settings.elementProperties;if((!1!==u.settings.bubbleFireIfChildFired||!s)&&((a===n.target||!1!==u.settings.bubbleFireIfParent)&&(a===n.target||g||m&&Object.keys(m).length)&&(!g||r(a,g))&&(!m||i(a,m)))){var p={};o?Object.keys(n).forEach((function(e){p[e]=n[e]})):p.nativeEvent=n,p.element=a,p.target=n.target,!1!==u.callback(p)&&(c=!0,u.settings.bubbleStop&&(l=!0))}}if(l)break;c&&(s=!0),a=a.parentNode}t.set(n,!0)}},__reset:function(){e=[]}};return n}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,n,o){"use strict";e.exports=function(e,t){var n=e.matches||e.msMatchesSelector;if(n)try{return n.call(e,t)}catch(e){return o.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}}}}},company:{orgId:"AA7A3BC75245B3BC0A490D4D@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"truist com",settings:{domains:["truist.com"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!0},id:"PR9d16d0de58d24b3387413dba29015836"},rules:[{id:"RL00268d71fceb4df19111aa66e90a5b3f",name:"3PT - Taboola",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RC8252bb09d8584107923e844d15811ff7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL00b85a36aeee441ab8f963510e906add",name:"AT - 00 - PT03 - Target Frequency Cap",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("at_activities")||"{}");if(_satellite.logger.info("PT frequency cap at_activities",localStorage.getItem("at_activities"),t),_satellite.logger.info("Object.keys(activities)",Object.keys(t)),Object.keys(t).length)for(var n in t){if((r=t[n]).stamps&&(t[n].c_s=r.stamps,delete t[n].stamps),void 0===r.c_s)break;_satellite.logger.info("activities[activity_key].c_s",r.c_s);for(var o=r.c_s.length;o--;)if(r.c_s[o]<=e){t[n].c_s=r.c_s.slice(o+1);break}r.c_s.length||delete t[n]}var i=[];for(var n in t){var r=t[n];_satellite.logger.info("activities[activity_key].c_s",r.c_s),r.c_s&&r.c_s.length>=r.f_c&&i.push(n)}localStorage.setItem("at_activities",JSON.stringify(t)),_satellite.logger.info("PT frequency cap profile.impressionCounters",i);var a=_satellite.getVar("zSite_AT_alloyConfig").getTargetUtilVars()[16]||"target_mbox_parameters",s=_satellite.getVar(a)||{};return s["profile.impressionCounters"]=i.join(""),_satellite.setVar(a,s),!0}},timeout:2e3}],actions:[]},{id:"RL0355eca661f943908348a4a5e90a6779",name:"zGlobal - 01 - Element Exists - Wistia Player Video and Audio Tracking",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"wistia-player"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RC08b94d89eddb40d7803a1368bf969618-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL08e4d483f23a42e3bafdb1515b617db0",name:"AT - 00 - PT01 - Target prehiding - Business Checking",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/small-business"},{value:"/small-business/banking/checking"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main-grid .herobanner";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e),!0}},timeout:2e3}],actions:[]},{id:"RL0ba09882f0c047cdaf32a6c4a718b3f1",name:"zGlobal - 00 - PT41 - digitalDataWAUtils init",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:41}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.logger.info("00 - digitalDataWAUtils init is executing..."),window.digitalDataWAUtils=_satellite.getVar("zGlobal_utils"),_satellite.logger.info("00 - digitalDataWAUtils init is complete."),!0}},timeout:2e3}],actions:[]},{id:"RL0c679cf228be4917a6888c0998ef9366",name:"zGlobal - 01 - DC - trackAction",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackAction"},ruleOrder:40}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=window.digitalDataWA;return t=window.digitalDataWAUtils.cloneAssign(t,e.detail.cData),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webinteraction.linkClicks",e),!0}},timeout:2e3}],actions:[]},{id:"RL0dd7881e89ae4ea6b279f7d83b2823de",name:"3PT - Library Load - No ETP Optout Check",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n  (function(a,b,c,d,e,f,g){e['ire_o']=c;e[c]=e[c]||function(){(e[c].a=e[c].a||[]).push(arguments)};f=d.createElement(b);g=d.getElementsByTagName(b)[0];f.async=1;f.src=a;g.parentNode.insertBefore(f,g);})('https://utt.impactcdn.com/A3564261-29e2-47f0-8c6a-f11131f39e5e1.js','script','ire',document,window); \n} catch(e){\n  _satellite.logger.log('error loading Impact UTT script' + e);\n}",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL128be7b9a5ba4c27b321c683feaef4d6",name:"01 - DOM Ready - all link decoration",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackState"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return $("a").each((function(e,t){var n=$(t).attr("href");if(n&&n.length>0){if(/.*(zip|doc|docx|xls|xlsx|pdf|mp3)/.test(n)&&($(t).attr("data-wa-track-clk","1"),$(t).attr("data-wa-linktype","download")),/^https?:\/\/|^\/\//i.test(n)&&new URL(n).hostname&&!/\.truist\.com/.test(new URL(n).hostname)&&_satellite.getVar("zGlobal_truist_domains").indexOf(new URL(n).hostname.replace(/((?:http[s]*\:\/\/)*(.*?)(\.)|((?:http[s]*\:\/\/)(?:http[s]*\:\/\/)*))(?=[^\/]*\..{2,5})/,""))<0){var o=new URL(n).hostname.replace(/((?:http[s]*\:\/\/)*(.*?)(\.)|((?:http[s]*\:\/\/)(?:http[s]*\:\/\/)*))(?=[^\/]*\..{2,5})/,"");$(t).attr("data-wa-linktype","exit"),$(t).attr("data-wa-track-clk","1"),_satellite.getVar("zGlobal_social_domains").indexOf(o)>-1&&($(t).attr("data-wa-track-clk","1"),$(t).attr("data-wa-linkType","social"))}/tel:|mailto:/.test(n)&&$(t).attr("data-wa-track-clk","1"),"Get it on Google Play"===$(t).find("img").attr("alt")&&($(t).attr("data-wa-track-clk","1"),$(t).attr("data-wa-linkType","exit"),$(t).attr("data-wa-linkname","google_download")),"Available on the App Store"===$(t).find("img").attr("alt")&&($(t).attr("data-wa-track-clk","1"),$(t).attr("data-wa-linkType","exit"),$(t).attr("data-wa-linkname","apple_download"))}})),!0}},timeout:2e3}],actions:[]},{id:"RL1c1808cfbfd84241a573ffdf6e6fb2ec",name:"zGlobal - AT - 01 - DC - trackPropositionClick",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackPropositionClick"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=e.detail.this_element;return _satellite.logger.info("alloyTargetUtil.trackPropositionClick(this_element)",t),_satellite.getVar("zGlobal_alloyTargetUtil").trackPropositionClick(t),!0}},timeout:2e3}],actions:[]},{id:"RL1d2563f415d340cba23a7da38076c998",name:"3PT - Facebook",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RC8460ecbf00a3485aa832ce650a7227c3-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1d4a0e4d1f16486ba5325daf112c37d2",name:"AT - 00 - PT01 - Target prehiding - Homepage",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main-hero-login > DIV:nth-of-type(1)",t="#gridLayout-1516948026 > DIV:nth-of-type(1) > DIV:nth-of-type(1)";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e+","+t),!0}},timeout:2e3}],actions:[]},{id:"RL202eb8a9e7e745e5a7efbfd876dee835",name:"zGlobal - 02 - DC - Analytics_Post - 10",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Analytics_Post"},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){_satellite.logger.info("02 - DC - Analytics_Post: Preparing to send Analytics Record to AEP..."),_satellite.logger.info(e.detail);e.detail.triggerEvent;var t=e.detail.waData;return window.digitalDataWApost=window.digitalDataWApost||[],window.digitalDataWApost.push(t),window.digitalDataWAposting=t,"true"===(sessionStorage.getItem("waData_debug")||sessionStorage.getItem("aep_debug"))&&(console.log("**waData_debug is enabled**"),console.log("waData="+JSON.stringify(t))),!0}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%zGlobal_xdm%",type:"%zGlobal_xdm.eventType%",instanceName:"alloy",personalization:{defaultPersonalizationEnabled:!1},documentUnloading:!0,edgeConfigOverrides:{staging:{enabled:!0,datastreamId:"%zGlobal_datastreamID%",com_adobe_analytics:{reportSuites:["%zGlobal_rsid%"]},com_adobe_experience_platform:{datasets:{event:{datasetId:"%zGlobal_analyticsDatasetId%"}}}},production:{enabled:!0,datastreamId:"%zGlobal_datastreamID%",com_adobe_analytics:{reportSuites:["%zGlobal_rsid%"]},com_adobe_experience_platform:{datasets:{event:{datasetId:"%zGlobal_analyticsDatasetId%"}}}},development:{enabled:!0,datastreamId:"%zGlobal_datastreamID%",com_adobe_analytics:{reportSuites:["%zGlobal_rsid%"]},com_adobe_experience_platform:{datasets:{event:{datasetId:"%zGlobal_analyticsDatasetId%"}}}}}},
timeout:2e3,delayNext:!0}]},{id:"RL25983ac5e0584d7a8b5625ed07377fc8",name:"3PT - LinkedIn",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RCf14eecdcf4f14aa395dcabc3b1540ac0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2b8b9e5010a24d269efe6ef56cf20325",name:"3PT - Bing",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RCe54181bf9d8843d5a48625ed35577473-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2f650a520673461480ea3a293e9104b5",name:"zGlobal - AT - 01 - DC - handleMarTechPropositions",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"handleMarTechPropositions"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_alloyTargetUtil").handleMarTechPropositions(e.detail)}},timeout:2e3}],actions:[]},{id:"RL31d68432f291490c9136fcf4e1f32e6b",name:"01- CLK - contact form submit",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:" [data-form-submit]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.indexOf("wealth")>-1)return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RCa4c6a6073cde4b64945879f1078cab63-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL37763b6af754425b9f6d765848821257",name:"zGlobal - 01 - DC - trackState",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackState"},ruleOrder:40}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){if(!e.detail||!e.detail.marTechData)return _satellite.logger.warn("trackState: No event.detail.marTechData is available!!!"),_satellite.logger.warn("trackState: Rule Cancelled."),!1;var t=window.digitalDataWA;return t=window.digitalDataWAUtils.cloneAssign(t,e.detail.cData),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webpagedetails.pageViews",e),!0}},timeout:2e3}],actions:[]},{id:"RL37d56fc33b514a82ae5604b7517e7269",name:"AT - 00 - PT01 - Target prehiding - Loans",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loans"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main-grid .herobanner",t="#gridLayout-541292123";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e+","+t),!0}},timeout:2e3}],actions:[]},{id:"RL386264c5c23d4b0e8c8bad576ab3fbb7",name:"01- CLK -  newsletter -money and mindset",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:" [data-form-submit]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.indexOf("money-mindset")>-1)return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RC025c8869158e446fba915deffe6ec949-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL401e166a7be14ccda91d8debbb85db63",name:"3PT - The Trade Desk - Base Pixel",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RC09ca20850ee24aa1ac5762a8afb203f5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL42ee08489a5c409caf4d135a1091488c",name:"zGlobal - 00 - PT05 - DC getECID / trackState -30",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:2},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"getECID"},ruleOrder:30},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackState"},ruleOrder:30}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.getVar("zGlobal_ecid"),!0}},timeout:2e3}],actions:[]},{id:"RL43b5c983704c49a8b8edd2b742132b86",name:"zGlobal - AT - 01 - DC - getTargetExperiences",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"getTargetExperiences"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.logger.info("getPropositions event",JSON.stringify(e)),e.detail=e.detail||{},_satellite.logger.info("getPropositions event.detail",e.detail),e.detail.personalization_config=!0,_satellite.getVar("zGlobal_alloyTargetUtil").initPropositions(e.detail)}},timeout:2e3}],actions:[]},{id:"RL48fd05eb63854168a56e0b9d5bb963da",name:"zGlobal - AT - 01 - DC - handlePropositions",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"handlePropositions"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_alloyTargetUtil").handlePropositions(e.detail)}},timeout:2e3}],actions:[]},{id:"RL4941a5af7b4c4f2fad2e323b16c21c57",name:"zGlobal - 01 - Analytics cachebuster",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackState"},ruleOrder:5}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return window.digitalDataWA={},!0}},timeout:2e3}],actions:[]},{id:"RL4b1c118817994a63b003716baa26e9e6",name:"3PT - Twitter",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RC082204b99e8246b5b6217307462b8408-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4d576bfd9a3c44cf9e054fae5f29f02c",name:"3PT - Eloqua",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RC336a9207726b4f99848d60208806787a-source.min.js",language:"html",isExternal:!0}}]},{id:"RL588bcba99f4240ceb26b30b6c41b9399",name:"zGlobal - 00 - PT91 - AlloyVersion",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:91}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return alloy("getLibraryInfo").then((function(e){_satellite.setVar("alloyVersion",e.libraryInfo.version)}))}},timeout:2e3}],actions:[]},{id:"RL5a481e62f19e45aeb95400bbbbdfcde1",name:"zGlobal - 00 - PT20 - AT Frequency Cap Tracking",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:20}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=JSON.parse(localStorage.getItem("at_activities")||"{}");if(!e)return!1;_satellite.logger.info("targetFrequencyCounters && targetFrequencyCapped START",e);var t=[],n=[];for(var o in window.digitalDataWA=window.digitalDataWA||{},e){var i=e[o],r=o.slice(1);_satellite.logger.info("activities[activity_key].c_s",i.c_s),t.push(r+":"+i.c_s.length),i.c_s&&i.c_s.length>=i.f_c&&n.push(r)}return _satellite.logger.info("at_frequency_counters",t),_satellite.logger.info("at_frequency_capped",n),window.digitalDataWA.targetFrequencyCounters=t.join(","),window.digitalDataWA.targetFrequencyCapped=n.join(","),_satellite.logger.info("targetFrequencyCounters && targetFrequencyCapped END"),!0}},timeout:2e3}],actions:[]},{id:"RL5fcb4c96dbec4acc974ac022caa5d8b2",name:"01 - CLK - accordion click",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".accordion div.border-container button[aria-expanded='false']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.logger.info("01 - CLK - data-wa-track-clk=1: getting link data..."),_satellite.getVar("zGlobal_util_getWAData").getLinkData(this),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=this.textContent;return(e=(e=(e=(e=(e=e.toLowerCase()).replace("&amp;","&")).replace("&","&")).replace(/^(?:\W|_)+|(?:\W|_)+$/g,"")).replace(/[^:|\-\.\w]+/g,"_")).search("transcript")<0&&(window.digitalDataWA.temp.linkType="interaction",window.digitalDataWA.temp.linkPosition="accordion",window.digitalDataWA.temp.linkURL="",console.log("inside new Rule"),!0)}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webinteraction.linkClicks",e),!0}},timeout:2e3}],actions:[]},{id:"RL6484ac9e02b54e4e84298607f3394b9b",name:"3PF - Window Loaded - Twitter (Global) - Add ALT Tags after load",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:100}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RCb5b38dc7104344d7a83bcaea98dfbda6-source.min.js",language:"javascript",isExternal:!0},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RC5e6ffa8b1d064de9b0fedb2771ba74b2-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL64aee84e9b334e87b3c6579f24516068",name:"01 - DOM Loaded - OneTrust ADA attributes",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){document.querySelectorAll(".ot-switch-nob").forEach((function(e){e.setAttribute("aria-label","toggle")}));var e=document.getElementById("vendor-search-handler");return e&&e.setAttribute("title","vendor search handler"),!0}},timeout:2e3}],actions:[]},{id:"RL671eba217033426cbe0b52ba7cac5b38",name:"zGlobal - AT - 01 - DOM Ready - handlePropositionsAwaitingJQuery",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"script[src*='/jquery.min']"},ruleOrder:50},{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_alloyTargetUtil").handlePropositionsAwaitingJQuery(e.detail)}},timeout:2e3}],actions:[]},{id:"RL680ef3833aa442669eb2cc45a4ee1206",name:"AT - 02 - DC - Analytics_Post - 79 - Target Hero-Login linkPosition override",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Analytics_Post"},ruleOrder:79}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=e.detail||{},n=(t.triggerEvent||{}).element,o=t.waData||{};return!!(o.targetClk&&o.linkPage&&("truist|com|home"===o.linkPage||"truist|com|logoff"===o.linkPage)&&o.linkPosition&&o.linkPosition.indexOf("|hero_banner")>0&&n)&&(_satellite.logger.info("02 - DC - Analytics_Post - target follower: correcting hero_banner link position"),t.triggerEvent.element.setAttribute("data-at-linkposition","hero_banner"),!0)}},timeout:2e3}],actions:[]},{id:"RL6b63566049904b999a45ce08ae1574fc",name:"AT - 00 - PT01 - Target prehiding - Credit Cards",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main-grid .herobanner";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e),!0}},timeout:2e3}],actions:[]},{id:"RL6dd7b0b396ae4f9cab996b956429d20c",name:"AT - 00 - PT01 - Target prehiding - Savings",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/savings"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main-grid .herobanner",t=".splide__list";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e+","+t),!0}},timeout:2e3}],actions:[]},{id:"RL720fc6e895ec477c907931a054378ae7",name:"3PT - Work With Us - Custom Form Submit - Gtag",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".btn-primary.submit",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/wealth/work-with-us/specialized-expertise/medical"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.threePTFiredCount=window.threePTFiredCount||0,0===$(".invalid").length&&(0===$("[aria-errormessage]").length||1===$("[aria-errormessage]").length&&"TEXTAREA"===$("[aria-errormessage]")[0].nodeName&&0===window.threePTFiredCount))return window.threePTFiredCount+=1,!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RC3108bc9a29514a3a8c121b3ea79e8a9c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL735db471a7a146bcb7f70616b7865b87",name:"zGlobal - 01 - FIELD - data-wa-track-field=1",events:[{modulePath:"core/src/lib/events/focus.js",settings:{elementSelector:"[data-wa-track-field='1']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:11}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.logger.info("zGlobal - 01 - FIELD - data-wa-track-field=1: getting fieldname data..."),_satellite.getVar("zGlobal_util_getWAData").getFieldData(this),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webinteraction.linkClicks",e),!0}},timeout:2e3}],actions:[]},{id:"RL78bdc54353894ce9a470e852566c5180",name:"AT - 00 - PT01 - Target prehiding - Personal Loans",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loans/personal-loans"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main-grid > div > div > div > div:nth-child(7) > div:nth-child(1) > div > div > div:nth-child(1) > div > div:nth-child(2) > div:nth-child(1) > div";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e),!0}},timeout:2e3}],actions:[]},{id:"RL7c9b85ba0acf4da48d21df94aae91b64",name:"3PT - Pinterest",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RC8f219503434045968fe9f582cf7f7d72-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7f407907df4b49d09472a8beb81e45c7",name:"3PF - Qualtrics",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:90}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RC3f0d743d48944b64a09ad3104cfad869-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8aef5799044046b09af8f4cee3dc8c37",name:"zGlobal - AT - 01 - DC - handlePrefetchPropositions",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"handlePrefetchPropositions"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_alloyTargetUtil").handlePrefetchPropositions(e.detail)}},timeout:2e3}],actions:[]},{id:"RL8b9fa6174d7548679d1c6ca0c46bfba1",name:"zGlobal - AT - 00 - PT06 - Target prehiding",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:6}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.getVar("zGlobal_alloyPrehideUtil").executePageLoadPrehide(),!0}},timeout:2e3}],actions:[]},{id:"RL94630775498e4868a222d11011a61ca9",name:"3PT - Tik Tok",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RC58ff6e06798d49cfbf7d45dc7e1ced57-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL9889741a12ec4a82ac3e6e4378caa9c4",name:"01 - CLK - drop down click",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"#cv-help-go-btn",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.logger.info("01 - CLK - data-wa-track-clk=1: getting link data..."),_satellite.getVar("zGlobal_util_getWAData").getLinkData(this),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=$("#cv-help-center-menu option:selected").text().toLowerCase().replace(/\s+/g,"_"),t=$("#cv-help-center-menu option:selected").val();if(e.search("select_one")<0){var n=e;window.digitalDataWA.temp.linkType="navigation",window.digitalDataWA.temp.linkPosition="dropdown",window.digitalDataWA.temp.linkName=n,window.digitalDataWA.temp.linkURL=t}return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webinteraction.linkClicks",e),!0}},timeout:2e3}],actions:[]},{id:"RL9c57433141314286842f9e744276cf3f",name:"01 - CLK - specialties click",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".specialties div.specialites-item div[aria-expanded='false']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.logger.info("01 - CLK - data-wa-track-clk=1: getting link data..."),_satellite.getVar("zGlobal_util_getWAData").getLinkData(this),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=this.textContent;return(e=(e=(e=(e=(e=e.toLowerCase()).replace("&amp;","&")).replace("&","&")).replace(/^(?:\W|_)+|(?:\W|_)+$/g,"")).replace(/[^:|\-\.\w]+/g,"_")).search("transcript")<0&&(window.digitalDataWA.temp.linkType="interaction",window.digitalDataWA.temp.linkPosition="specialities",window.digitalDataWA.temp.linkURL="",console.log("inside new Rule"),!0)}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webinteraction.linkClicks",e),!0}},timeout:2e3}],actions:[]},{id:"RL9d781e091be04405bc008eef5b0f7010",name:"zGlobal - 01 - DC - trackNext",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackNext"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){window.digitalDataWA=window.digitalDataWA||{},window.digitalDataWAUtils=window.digitalDataWAUtils||_satellite.getVar("zGlobal_utils");var t=window.digitalDataWAUtils;_satellite.logger.info("01 - DC - trackNext: event.detail is:");var n=t.clone(e.detail);if(_satellite.logger.info(n),!e.detail||!e.detail.marTechData)return _satellite.logger.warn("01 - DC - trackNext: no event.detail.marTechData found  -> collection cancelled."),!1;_satellite.logger.info("01 - DC - trackNext: adding event.detail.marTechData to the dataQueue");var o=_satellite.getVar("zGlobal_util_getDataQueue"),i={[e.detail.featureKey||"offers"]:e.detail.marTechData};return o.update(i),!0}},timeout:2e3}],actions:[]},{id:"RL9ff8131a8621405b8c73d22e7dfeadb2",name:"zGlobal - 00 - PT01 - Polyfills",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"function"!=typeof Element.prototype.closest&&(_satellite.logger.info("Polyfill closest"),Element.prototype.closest=function(e){"function"!=typeof Element.prototype.matches&&(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});for(var t=this;t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null}),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}if("function"==typeof window.CustomEvent)return!1;_satellite.logger.info("Polyfill CustomEvent"),e.prototype=window.Event.prototype,window.CustomEvent=e}(),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"function"!=typeof Object.assign&&(_satellite.logger.info("Polyfill Object.assign"),Object.defineProperty(Object,"assign",{value:function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},writable:!0,configurable:!0})),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,o=new Array(n);n--;)o[n]=[t[n],e[t[n]]];return o}),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}(),n=function(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n},o=function(e){return encodeURIComponent(e).replace(/%20/g,"+")},i=function(e){return decodeURIComponent(String(e).replace(/\+/g," "))},r=function(){var i=function(e){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var t=typeof e;if("undefined"===t);else if("string"===t)""!==e&&this._fromString(e);else if(e instanceof i){var n=this;e.forEach((function(e,t){n.append(t,e)}))}else{if(null===e||"object"!==t)throw new TypeError("Unsupported input's type for URLSearchParams");if("[object Array]"===Object.prototype.toString.call(e))for(var o=0;o<e.length;o++){var r=e[o];if("[object Array]"!==Object.prototype.toString.call(r)&&2===r.length)throw new TypeError("Expected [string, any] as entry at index "+o+" of URLSearchParams's input");this.append(r[0],r[1])}else for(var a in e)e.hasOwnProperty(a)&&this.append(a,e[a])}},r=i.prototype;r.append=function(e,t){e in this._entries?this._entries[e].push(String(t)):this._entries[e]=[String(t)]},r.delete=function(e){delete this._entries[e]},r.get=function(e){return e in this._entries?this._entries[e][0]:null},r.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]},r.has=function(e){return e in this._entries},r.set=function(e,t){this._entries[e]=[String(t)]},r.forEach=function(e,t){var n;for(var o in this._entries)if(this._entries.hasOwnProperty(o)){n=this._entries[o];for(var i=0;i<n.length;i++)e.call(t,n[i],o,this)}},r.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),n(e)},r.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),n(e)},r.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),n(e)},t&&(r[Symbol.iterator]=r.entries),r.toString=function(){var e=[];return this.forEach((function(t,n){e.push(o(n)+"="+o(t))})),e.join("&")},e.URLSearchParams=i};(function(){try{var t=e.URLSearchParams;return"a=1"===new t("?a=1").toString()&&"function"==typeof t.prototype.set&&"function"==typeof t.prototype.entries}catch(e){return!1}})()||r();var a=e.URLSearchParams.prototype;"function"!=typeof a.sort&&(a.sort=function(){var e=this,t=[];this.forEach((function(n,o){t.push([o,n]),e._entries||e.delete(o)})),t.sort((function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0})),e._entries&&(e._entries={});for(var n=0;n<t.length;n++)this.append(t[n][0],t[n][1])}),"function"!=typeof a._fromString&&Object.defineProperty(a,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(e){if(this._entries)this._entries={};else{var t=[];this.forEach((function(e,n){t.push(n)}));for(var n=0;n<t.length;n++)this.delete(t[n])}var o,r=(e=e.replace(/^\?/,"")).split("&");for(n=0;n<r.length;n++)o=r[n].split("="),this.append(i(o[0]),o.length>1?i(o[1]):"")}})}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(e){var t=function(){var t=e.URL,n=function(t,n){"string"!=typeof t&&(t=String(t));var o,i=document;if(n&&(void 0===e.location||n!==e.location.href)){(o=(i=document.implementation.createHTMLDocument("")).createElement("base")).href=n,i.head.appendChild(o);try{if(0!==o.href.indexOf(n))throw new Error(o.href)}catch(e){throw new Error("URL unable to set base "+n+" due to "+e)}}var r=i.createElement("a");r.href=t,o&&(i.body.appendChild(r),r.href=r.href);var a=i.createElement("input");if(a.type="url",a.value=t,":"===r.protocol||!/:/.test(r.href)||!a.checkValidity()&&!n)throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:r});var s=new e.URLSearchParams(this.search),l=!0,c=!0,d=this;["append","delete","set"].forEach((function(e){var t=s[e];s[e]=function(){t.apply(s,arguments),l&&(c=!1,d.search=s.toString(),c=!0)}})),Object.defineProperty(this,"searchParams",{value:s,enumerable:!0});var u=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==u&&(u=this.search,c&&(l=!1,this.searchParams._fromString(this.search),l=!0))}})},o=n.prototype,i=function(e){Object.defineProperty(o,e,{get:function(){return this._anchorElement[e]},set:function(t){this._anchorElement[e]=t},enumerable:!0})};["hash","host","hostname","port","protocol"].forEach((function(e){i(e)})),Object.defineProperty(o,"search",{get:function(){return this._anchorElement.search},set:function(e){this._anchorElement.search=e,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(o,{toString:{get:function(){var e=this;return function(){return e.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(e){this._anchorElement.href=e,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(e){this._anchorElement.pathname=e},enumerable:!0},origin:{get:function(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],t=this._anchorElement.port!=e&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(t?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(){},enumerable:!0},username:{get:function(){return""},set:function(){},enumerable:!0}}),n.createObjectURL=function(e){return t.createObjectURL.apply(t,arguments)},n.revokeObjectURL=function(e){return t.revokeObjectURL.apply(t,arguments)},e.URL=n};if(function(){try{var t=new e.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href&&t.searchParams}catch(e){return!1}}()||t(),void 0!==e.location&&!("origin"in e.location)){var n=function(){return e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")};try{Object.defineProperty(e.location,"origin",{get:n,enumerable:!0})}catch(t){setInterval((function(){e.location.origin=n()}),100)}}}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),!0}},timeout:2e3}],actions:[]},{id:"RLa06877ca480d4c8fb09a82c53a7ea7f4",name:"zGlobal - AT - 00 - PT50 - Target initPropositions",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return alloyTargetUtil=_satellite.getVar("zGlobal_alloyTargetUtil"),alloyTargetUtil.initPropositions()}},timeout:2e3}],actions:[]},{id:"RLa15cf20514584f3c9540b61de38f1b65",name:"3PT - DOM Ready - LOB section floodlight_2 Tags",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:99}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"^/wealth",valueIsRegex:!0},{value:"^/checking",valueIsRegex:!0},{value:"^/small-business",valueIsRegex:!0},{value:"^/resources/small-business",valueIsRegex:!0},{value:"/commercial-corporate-institutional/business-insights",valueIsRegex:!1},{value:"/commercial-corporate-institutional/banking",valueIsRegex:!1},{value:"/commercial-corporate-institutional/investment-banking"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=_satellite.getVar("zGlobal_3PT_utils"),n={},o=window.location.pathname;return o.startsWith("/wealth")?(n.floodlight_2={type:"lobad0",cat:"truis0",cache_bust:"off",u1:"",u2:document.location.pathname},_satellite.logger.log("about to fire wealth section floodlight tags")):o.startsWith("/checking")?(n.floodlight_2={type:"lobad0",cat:"truis00",cache_bust:"off",u1:"",u2:document.location.pathname},_satellite.logger.log("about to fire checking section floodlight tags")):o.startsWith("/small-business")||o.startsWith("/resources/small-business")?(n.floodlight_2={type:"lobad0",cat:"truis002",cache_bust:"off",u1:"",u2:document.location.pathname},_satellite.logger.log("about to fire small-business section floodlight tags")):"/commercial-corporate-institutional/business-insights"===o||"/commercial-corporate-institutional/investment-banking"===o?(n.floodlight_2={type:"unive0",cat:"truis0",cache_bust:"off",u1:"",
u2:document.location.pathname},_satellite.logger.log("about to fire commercial-corporate-institutional floodlight tag")):"/commercial-corporate-institutional/banking"===o&&(n.floodlight_2={type:"lobad0",cat:"truis003",cache_bust:"off",u1:"",u2:document.location.pathname},_satellite.logger.log("about to fire commercial-corporate-institutional/banking floodlight tag")),t.execute3PT(n,e),!0}},timeout:2e3}],actions:[]},{id:"RLa1ffa72006fb4319b90424372ddedd4e",name:"AT - 01 - DC - propositionImpressionData - 25 - Target Frequency Cap",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"propositionImpressionData"},ruleOrder:25}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=(new Date).getTime(),n=JSON.parse(localStorage.getItem("at_activities")||"{}");if(e.detail&&e.detail.target_parameters&&e.detail.target_parameters.activity_impression_counter){var o=e.detail.target_parameters.activity_impression_counter.split(","),i="_"+o[0],r=o[1],a=t;"visit"===r?a+=18e5:parseInt(r)>0&&(a+=864e5*parseInt(r)),n[i]=n[i]||{},n[i].f_c=parseInt(o[2]),n[i].stamps&&(n[i].c_s=n[i].stamps,delete n[i].stamps),n[i].c_s=n[i].c_s||[],n[i].c_s.length>=n[i].f_c&&n[i].c_s.shift();for(var s=n[i].c_s.length;s--;)if(n[i].c_s[s]<=t){n[i].c_s=n[i].c_s.slice(s+1);break}n[i].c_s.push(a);var l=[];for(var i in n){var c=n[i];_satellite.logger.info("activities[activity_key].c_s",c.c_s),c.c_s&&c.c_s.length>=c.f_c&&l.push(i)}return localStorage.setItem("at_activities",JSON.stringify(n)),l.join(""),e.detail.target_parameters["profile.impressionCounters"]=l.join(""),_satellite.logger.info("DC frequency cap profile.impressionCounters",l),!0}return!1}},timeout:2e3}],actions:[]},{id:"RLa7f86102883d4bbf9c839d7f2bbfb58e",name:"zGlobal - AT - 01 - DC - propositionImpressionData",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"propositionImpressionData"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=e.detail||{};if(_satellite.logger.log("propositionImpressionData event_detail",t),t.target_parameters){var n=_satellite.getVar("zSite_AT_alloyConfig"),o=n.getTargetProperty(),i={edgeConfigOverrides:function(){var e={com_adobe_experience_platform:{datasets:{event:{datasetId:n.getTargetDatasetId()}}}};return o&&(e.com_adobe_target={propertyToken:o}),e}(),renderDecisions:!1,decisionScopes:["proposition_impression_data"],documentUnloading:!0,data:{__adobe:{target:t.target_parameters}}};_satellite.logger.log("propositionImpressionData event_data",i),window.alloy("sendEvent",i),_satellite.logger.log("propositionImpressionData sendEvent")}return!0}},timeout:2e3}],actions:[]},{id:"RLaac0aad5397d497cb53de9f409b33757",name:"zGlobal - 01 - Element Exists - Wistia Audio and Video",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"video"},ruleOrder:50},{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"audio"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("undefined"!=typeof Wistia)return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RC477c9bf87f2544fbb413597873231992-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLab189c21d88c49bb912d2e3d10b10476",name:"3PT - Invoca - 02 - DC - Personalization_Post - 50",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Personalization_Post"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return window.Invoca&&window.Invoca.PNAPI&&"function"==typeof window.Invoca.PNAPI.run?(Invoca.PNAPI.run(),_satellite.logger.info("3PT - Invoca - 02 - DC - Personalization_Post - 50: Invoca re-run"),!0):(_satellite.logger.info("3PT - Invoca - 02 - DC - Personalization_Post - 50: Invoca not present"),!1)}},timeout:2e3}],actions:[]},{id:"RLab8201e8623e415daef7bef3fd82c763",name:"AT - 00 - PT01 - Target prehiding - Business L2F",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/small-business"},{value:"/small-business/banking/checking"},{value:"/small-business/banking/savings-account"},{value:"/small-business/online-banking"},{value:"/small-business/credit-cards"},{value:"/small-business/loans"},{value:"/small-business/merchant-services"},{value:"/small-business/employee-benefits"},{value:"/small-business/insurance"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main-grid";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e),!0}},timeout:2e3}],actions:[]},{id:"RLb0615c6bd0744929b4b8e867bf46b244",name:"AT - 00 - PT01 - Target prehiding - Logoff",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/logoff"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main-grid .herobanner, #main-hero-login > .hero-login-left-container";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e),!0}},timeout:2e3}],actions:[]},{id:"RLb129d95203434b70bdb965d1e0cf13ec",name:"AT - 00 - PT03 - Target Visit Completes",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("at_activities")||"{}");_satellite.logger.info("PT experience visit completes at_activities",localStorage.getItem("at_activities"));var n=[];if(Object.keys(t).length)for(var o in t){var i=t[o],r=i.e_s;if(void 0!==r&&r<=e){n.push(o+"_null"),delete t[o];break}var a=i.m_s;i.m_t;a&&a<e?n.push(o+"_"+i.exp):i.m_t&&"visit"===i.m_t&&(t[o].m_s=e+18e5)}if(localStorage.setItem("at_activities",JSON.stringify(t)),_satellite.logger.info("PT frequency cap profile.experienceVisitCompletes",n),0===n.length)return!0;var s=_satellite.getVar("zSite_AT_alloyConfig").getTargetUtilVars()[16]||"target_mbox_parameters",l=_satellite.getVar(s)||{};return l["profile.experienceVisitCompletes"]=n.join(""),_satellite.setVar(s,l),!0}},timeout:2e3}],actions:[]},{id:"RLb46ac610e5ea4e069a1399fb9ffe28ba",name:"zGlobal - AT - 01 - DC - handleRenderedPropositions",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"handleRenderedPropositions"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_alloyTargetUtil").handleRenderedPropositions(e.detail)}},timeout:2e3}],actions:[]},{id:"RLb8a1dcf1c2244bb89d484687c967f1d1",name:"zGlobal - 01 - CLK - onetrust overlay interactions",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#onetrust-pc-sdk button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:10},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#onetrust-pc-sdk a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#onetrust-pc-sdk input",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.logger.info("01 - CLK - data-wa-track-clk=1: getting link data..."),_satellite.getVar("zGlobal_util_getWAData").getLinkData(this),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window.digitalDataWA,t=window.digitalDataWAUtils;e.temp.linkPosition="onetrust_overlay","INPUT"==this.nodeName&&(e.temp.linkName=this.getAttribute("name"));var n=this.getAttribute("aria-label");return"unknown"===e.temp.linkName&&n&&(e.temp.linkName=n),e.temp.linkName=t.cleanText(e.temp.linkName),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webinteraction.linkClicks",e),!0}},timeout:2e3}],actions:[]},{id:"RLb8e7863059d04bdbacec63bd398fa7bb",name:"01 - DOM R - PageView (custom)",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window.location.pathname,t=e.substr(e.lastIndexOf("/")+1);return t&&(t=t.replace(/(\.|\?).*/,"")),!t||!(t.indexOf("find-an-advisor")>-1||t.indexOf("finder")>-1)}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window.location.pathname;return!e.endsWith("/locations")&&0!==e.indexOf("/branch")&&0!==e.indexOf("/atm")&&0!==e.indexOf("/search")}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.glbPageData){_satellite.logger.info("glbPageData is available -> copying to digitalDataWA cache..."),window.digitalDataWA=window.digitalDataWA||{},window.digitalDataWAUtils=window.digitalDataWAUtils||_satellite.getVar("zGlobal_utils");var e=window.digitalDataWAUtils;window.digitalDataWA=e.cloneAssign(window.digitalDataWA,window.glbPageData),_satellite.logger.info("glbPageData cloneAssign to digitalDataWA cache completed.")}return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webpagedetails.pageViews",e),!0}},timeout:2e3}],actions:[]},{id:"RLb9836e67728146338ff6535770fdbe5b",name:"AT - 00 - PT01 - Target prehiding - Checking",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/checking/truist-one-banking"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main-grid > DIV.aem-Grid:nth-child(1) > DIV.responsivegrid:nth-child(1) > DIV.aem-Grid:nth-child(1) > DIV.gridlayoutcontainer:nth-child(2)",t="#splide01-list";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e+","+t),!0}},timeout:2e3}],actions:[]},{id:"RLc1dd53126a4c4b3d891562099396dd91",name:"3PT - Business Insights Subscribe Form Submit - Linkedin",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".btn-primary.submit",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/commercial-corporate-institutional/subscribe"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.threePTFiredCount=window.threePTFiredCount||0,4===$("input.form-control.stacked.has-clear").length&&0===$("[aria-invalid=true]").length&&0===$(".has-error").length&&0===window.threePTFiredCount)return window.threePTFiredCount+=1,!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RCc36c943550164230975b7686ef5546c5-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc598690fb89c4acc963364ba45897247",name:"zGlobal - 01 - onLoad 80 - id_sync - 3rd Party ID Sync",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:80}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"sync_off"!==_satellite.getVar("zSite_config").aepSyncOverride&&(sessionStorage.getItem("aepidsync")?(_satellite.logger.info("AEP ID Sync: sessionStorage found, not executing."),!1):(_satellite.logger.info("AEP ID Sync: conditions completed.  executing..."),!0))}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RC4669cdbde2074dc39a4033e0e0f65689-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc5ac4ab5b1754c2790821e2cb8dd6997",name:"zGlobal -  02 - DC - GenericDC",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"genericDC"},ruleOrder:40}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=_satellite.getVar("zGlobal_AA_Global_Processing");let n="";return e.detail?e.detail.temp&&e.detail.temp.eventType||e.detail.eventType?(n=e.detail.eventType||e.detail.temp.eventType,t.go(n,e,e.detail),!0):(t.go("web.webinteraction.linkClicks",e,e.detail),!0):(t.go("web.webinteraction.linkClicks",e),!0)}},timeout:2e3}],actions:[]},{id:"RLc8957e08be7b4b63ba9c46e8e1e43c8e",name:"AT - 00 - PT01 - Target prehiding - Wealth",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/wealth"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main-grid .herobanner",t="#gridLayout-490359817 > DIV.aem-Grid > DIV.herobanner";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e+","+t),!0}},timeout:2e3}],actions:[]},{id:"RLceabe78d7f5341fda12414b12e25b24e",name:"zGlobal - 01 - Element Exists - HTML Video Tracking",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"video"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RC62276d41639540149626289e274e71a1-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd07e98af5874480c91791bfa021e7764",name:"AT - 00 - PT01 - Target prehiding - Open Account Pages",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/open-account"},{value:"/open-account/banking-accounts"},{value:"/open-account/savings-accounts"},{value:"/open-account/credit-cards"},{value:"/open-account/mortgage"},{value:"/open-account/small-business"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e),!0}},timeout:2e3}],actions:[]},{id:"RLd0813355089c43d0ade8c437a5350e84",name:"zGlobal - AT - 02 - DC - Analytics_Post - 80 - Target follower",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Analytics_Post"},ruleOrder:80}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return!!(e.detail&&e.detail.waData&&e.detail.waData.targetClk)&&(_satellite.logger.info("02 - DC - Analytics_Post - target follower: targetClk found, telling Target..."),!0)}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=_satellite.getVar("zGlobal_alloyTargetUtil"),n=(e.detail.triggerEvent||{}).element;return t.trackPropositionClick(n,e.detail.waData)}},timeout:2e3}],actions:[]},{id:"RLd0bf6c65b3ec48f9ae417c4ec26d2983",name:"zGlobal - 01 - FORMS - data-wa-track-formsubmit=1",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"[data-wa-track-formsubmit='1']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:10}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RC3650cc5cd4e74cd39f021341ef3ad871-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd0fab0e6a883453ab11918aa5024c62f",name:"zGlobal - 3PT - DOM R - Interaction Listeners",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=_satellite.getVar("3pt_matrix_interaction");return!(!e||"object"!=typeof e||!Object.keys(e.length>0))}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RC8754878a8eb447069959689d9d82b8a3-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd45f0d1a33364886902c14ecf40f7570",name:"zGlobal - 00 - PT40 - digitalDataWA init",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:40}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.logger.info("00 - digitalDataWA init is executing..."),window.digitalDataWA=window.digitalDataWA||{},_satellite.logger.info("00 - digitalDataWA init is complete."),!0}},timeout:2e3}],actions:[]},{id:"RLd4b30fa62aa644f4b57688260c609718",name:"zGlobal - AT - 01 - DC - handleAwaitTriggerProposition",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"handleAwaitTriggerProposition"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_alloyTargetUtil").handleAwaitTriggerProposition(e.detail)}},timeout:2e3}],actions:[]},{id:"RLd61009d1de0d4c2cbdfa6d1fe56edd3e",name:"3PT - Library Load",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"//Get The Trade Desk library - JS implementation\ntry {\n_satellite.logger.log('firing trade desk separate - start step 1');\n\nvar script = document.createElement('script');\nscript.type = 'text/javascript';\nscript.src = \"https://js.adsrvr.org/up_loader.1.1.0.js\";    \ndocument.getElementsByTagName('head')[0].appendChild(script);\n\n_satellite.logger.log('firing trade desk separate - end step 1');\n} catch(e){\n  _satellite.logger.log('error loading the trade desk base script: ' + e);\n}",language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"var script = document.createElement('script');\nscript.type = 'text/javascript';\nscript.src = \"https://www.googletagmanager.com/gtag/js?id=AW-1032153865\";    \n\ndocument.getElementsByTagName('head')[0].appendChild(script);\n\n  window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n  gtag('js', new Date());\n\n // gtag('config','DC-4264071'); \n  gtag('config', 'DC-14781975');\n  gtag('config', 'AW-1032153865');\n//  gtag('config', 'AW-377173270');\n",language:"javascript"}}]},{id:"RLd7ae38788e2d47ddb69c7a857baf02a0",name:"3PF - DOM Ready - Fire Sitewide Tags",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:99}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=_satellite.getVar("3pt_matrix_universal"),n=_satellite.getVar("zGlobal_3PT_utils");if(_satellite.logger.log("about to fire universal tags"),t&&t.hasOwnProperty(document.domain)){_satellite.logger.log("firing universal tags");var o=t[document.domain];n.execute3PT(o,e)}return!0}},timeout:2e3}],actions:[]},{id:"RLd83cb130f3194af983e597f5a10f9ac9",name:"zGlobal - AT - 00 - DC - Target initPropositions",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"initPropositions"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.getVar("zGlobal_alloyTargetUtil").initPropositions()}},timeout:2e3}],actions:[]},{id:"RLdb298f4b8fcb4b1a95e02be2c368a571",name:"3PT - Invoca",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"try{\n  \n_satellite.logger.info('Invoca tag loads');\n  \n  (function(i,n,v,o,c,a) { i.InvocaTagId = o; var s = n.createElement('script'); s.type = 'text/javascript';\n        s.async = true; s.src = ('https:' === n.location.protocol ? 'https://' : 'http://' ) + v;\n        var fs = n.getElementsByTagName('script')[0]; fs.parentNode.insertBefore(s, fs);\n    })(window, document, 'solutions.invocacdn.com/js/invoca-latest.min.js', '944/1225822932');\n\n  \n_satellite.logger.info('Invoca tag load ends');\n  \n}\n\ncatch(e)\n{\n  \tconsole.log(\"Error in Invoca tags\" + e);\n\n}",language:"javascript"}}]},{id:"RLe6ba202015164369923f5f8b99a23462",name:"01 - CLK - mobile simulator click",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"simulator-update",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.logger.info("01 - CLK - data-wa-track-clk=1: getting link data..."),_satellite.getVar("zGlobal_util_getWAData").getLinkData(this),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){try{var t,n,o,i,r,a=window.digitalDataWAUtils;t=e.detail.sim_function,n=e.detail.sim_id,o=e.detail.sim_steps,i=e.detail.step_num,r=e.detail.step_text,r=a.cleanText(r);var s=(i>o?"congratulations":"step_"+i+"_of_"+o)+"_"+r+"_"+t;window.digitalDataWA.temp.linkURL="",window.digitalDataWA.temp.linkPosition="mobilesimulator|"+n,window.digitalDataWA.temp.linkName=s,window.digitalDataWA.temp.linkType="interaction"}catch(e){console.log("Error in simulator code "+e)}return console.log("mobile simulator"),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webinteraction.linkClicks",e),!0}},timeout:2e3}],actions:[]},{id:"RLe89236f88080465f8aad50c7e1c526f9",name:"AT - 01 - DC - propositionImpressionData - 26 - Target Visit Completes",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"propositionImpressionData"},ruleOrder:26}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=(new Date).getTime(),n=JSON.parse(localStorage.getItem("at_activities")||"{}");if(e.detail&&e.detail.target_parameters&&e.detail.target_parameters.experience_visit_completes){var o=e.detail.target_parameters.experience_visit_completes.split(","),i="_"+o[0],r=o[1]||"0",a=o[2],s=o[3]||"0",l=t,c="fixed",d=t;return"visit"===a?(l+=18e5,c="visit"):parseInt(a)>0&&(l+=864e5*parseInt(a)),parseInt(s)>0&&(d+=864e5*parseInt(s)),_satellite.logger.info("paramSplit",o,i,r,l,d),n[i]=n[i]||{},n[i].exp=r,n[i].m_s=l,n[i].m_t=c,n[i].e_s=d,localStorage.setItem("at_activities",JSON.stringify(n)),!0}return!1}},timeout:2e3}],actions:[]},{id:"RLf0800ae19b4841dcb14611b7004df275",name:"AT - 00 - PT01 - Target prehiding - Mortgage Landing L2F",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/mortgage/mortgage-offer"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e),!0}},timeout:2e3}],actions:[]},{id:"RLf09a4daf48654e6fa5fa9433eb1a1957",name:"zGlobal - 01 - CLK - data-wa-track-clk=1",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"[data-wa-track-clk='1']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.logger.info("01 - CLK - data-wa-track-clk=1: getting link data..."),_satellite.getVar("zGlobal_util_getWAData").getLinkData(this),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webinteraction.linkClicks",e),!0}},timeout:2e3}],actions:[]},{id:"RLf5aded36b5a94b85bcf05f94998020ae",name:"01 - Caching Value - VOC",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RC449cf622ed104aad87aedf443c987b9a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfa90cd4325bb496294f0f2d3eb743537",name:"zGlobal - 00 - PT99 - AdobeLaunchInitialized",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:99}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return window.dispatchEvent?(_satellite.logger.info("00 - AdobeLaunchInitialized: sending CustomEvent..."),window.dispatchEvent(new CustomEvent("AdobeLaunchInitialized"))):_satellite.logger.warn("00 - AdobeLaunchInitialized: window.dispatchEvent function not available"),!0}},timeout:2e3}],actions:[]},{id:"RLfaa07d39bdc140bc8efd43ec5774439d",name:"zGlobal - 3PT - Analytics Post follower and Direct Call 3PT execution",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Analytics_Post"},ruleOrder:90},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"threePT"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){if(_satellite.logger.log("Analytics_Post Follower: the event.detail is"),_satellite.logger.log(e.detail),e.detail.threePT)return _satellite.logger.log("event.detail.threePT exists. Skipping 3PT Follower Condition 1"),!0;var t,n=_satellite.getVar("zGlobal_3PT_utils"),o=_satellite.getVar("3pt_matrix_LP"),i=_satellite.getVar("3pt_matrix_new_acct");if(o&&e.detail&&e.detail.waData&&"web.webpagedetails.pageViews"===e.detail.waData.eventType&&("01_dom_r_pageview_custom"===e.detail.waData.trigger||"zglobal_01_dom_r_pageview"===e.detail.waData.trigger)&&o.hasOwnProperty(e.detail.waData.pageName)&&(_satellite.logger.info("02 - 3PT - Analytics_Post - 3PT event forwarding: DOM Ready Pageview Found...setting 3pt object with Landing page tags"),t=o[e.detail.waData.pageName]),i&&e.detail&&e.detail.waData&&(e.detail.waData.events.indexOf("event23")>-1||e.detail.waData.events.indexOf("event24")>-1)&&e.detail.waData.newAcctAppType&&e.detail.waData.products){_satellite.logger.info("02 - 3PT - Analytics_Post - 3PT event forwarding: Account Opening event detected ...setting 3pt object with event-specific tags");var r=n.getAppName(e.detail.waData.newAcctAppType);t=n.generate3ptObj(e,r)}return!!t&&(e.detail.threePT=t,!0)}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return!0!==_satellite.getVar("zGlobal_etp_total_optout")||!!e.detail.threePT.hasOwnProperty("impact")&&(e.detail.threePT={impact:e.detail.threePT.impact},!0)}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=_satellite.getVar("zGlobal_3PT_utils"),n=window.digitalDataWAUtils||_satellite.getVar("zGlobal_utils");return e.detail.extraInfo={},e.detail.extraInfo.domain=document.location.origin,e.detail.extraInfo.timestamp=t.timestamp(),e.detail.extraInfo.gclid=n.getCookieValue("s_gclid"),(_satellite.cookie.get("3PT_Active_Test")||sessionStorage.getItem("3PT_Active_Test"))&&(e.detail.extraInfo.test="active",_satellite.logger.warn("***************3PT Event Forwarding Test Mode is Active***************")),e.detail.threePT.pinterest&&(e.detail.threePT.pinterest.uuid=t.generateUUID(),e.detail.threePT.pinterest.click_id=n.getCookieValue("_epik")||n.getQueryParam("epik")),e.detail.threePT.facebook&&(e.detail.threePT.facebook.fbc=n.getCookieValue("_fbc"),e.detail.threePT.facebook.fbp=n.getCookieValue("_fbp"),e.detail.threePT.facebook.uuid=t.generateUUID()),e.detail.threePT.gtag&&(e.detail.threePT.gtag.uuid=t.generateUUID()),e.detail.threePT.linkedin&&(e.detail.threePT.linkedin.event_id=t.generateUUID(),e.detail.threePT.linkedin.li_fat_id=n.getCookieValue("li_fat_id")),void 0!==e.detail.ruleTrigger&&(_satellite.logger.log("event.detail.ruleTrigger is defined"),e.detail.ruleTrigger=n.cleanText(e.detail.ruleTrigger)),e.detail.ruleTrigger||(_satellite.logger.log("event.detail.ruleTrigger is undefined"),e.detail.ruleTrigger=e.detail.waData&&e.detail.waData.trigger?n.cleanText(e.detail.waData.trigger):"unknown"),_satellite.logger.info("The finalized event.detail object is:"),_satellite.logger.info(e.detail),_satellite.logger.info("THE FULL EVENT.DETAIL.THREEPT is"),_satellite.logger.info(e.detail.threePT),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){if(e.detail.threePT){_satellite.logger.info("id_sync - 3rd Party Data Send: Initiating ID sync call...");var t=_satellite.getVar("zSite_AA_alloyConfig").getEnvironment(),n="00ad3159-7913-4766-bac8-00359b320ed7",o="838a02db-617a-4cd8-9413-ffe180b8e3c5";"prdr"===t&&(n="743feb2e-21cc-46d9-8270-1f004d3ef59f",o="44e43be0-d185-4966-a1b0-68480ee9fb0e"),"prod"===t&&(n="e8e81383-d7e2-482f-b582-8eb083d48c37",o="838a02db-617a-4cd8-9413-ffe180b8e3c5");var i={ruleTrigger:e.detail.ruleTrigger||"",threePT:e.detail.threePT,extraInfo:e.detail.extraInfo};return void 0===i.extraInfo.ruleTrigger&&(i.extraInfo.ruleTrigger=i.ruleTrigger||"unknown"),alloy("sendEvent",{xdm:{eventType:"3pt_data_send",_suntrustbanksinc:i},data:{threePT:e.detail.threePT,extraInfo:e.detail.extraInfo},edgeConfigOverrides:{datastreamId:n}}),alloy("sendEvent",{xdm:{eventType:"3pt_data_send",_suntrustbanksinc:i},data:{threePT:e.detail.threePT,extraInfo:e.detail.extraInfo},edgeConfigOverrides:{datastreamId:o}}),!0}return!1}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/688a718c33a4/RCf98b8b8f12f24c02aafa5e8278d2df1a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLfea5456e65de4ecdb6db61b342cc9c33",name:"01 - CLK - tab  click",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.global-tabs ul.r-tabs-nav li",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.logger.info("01 - CLK - data-wa-track-clk=1: getting link data..."),_satellite.getVar("zGlobal_util_getWAData").getLinkData(this),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return window.digitalDataWA.temp.linkType="interaction",window.digitalDataWA.temp.linkPosition="global_tabs",window.digitalDataWA.temp.linkURL="",!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webinteraction.linkClicks",e),!0}},timeout:2e3}],actions:[]}]}})();var _satellite=function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function n(e){var n,o;return!1!==t(e)&&(void 0===(n=e.constructor)||!1!==t(o=n.prototype)&&!1!==o.hasOwnProperty("isPrototypeOf"))}function o(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function i(e){return e.substr(0,e.indexOf("["))}function r(e,t,n){if(e.length&&ut(t)){var a=e[0];if(1!==e.length){var s=e.slice(1);if(!o(a))return r(s,t[a],n);var l=t[a=i(a)];Array.isArray(l)&&l.forEach((function(e){return r(s,e,n)}))
}else t.hasOwnProperty(a)&&"string"==typeof t[a]&&(t[a]=n(t[a]))}}if(window.atob){var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=document,l=Object.assign,c=window,d=c,u=function(e,t,n,o){var i,r=Boolean(t&&Array.isArray(n)),a=Boolean(r&&e),s=document.createElement("a");if(r){var l=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||l(),/^\/\/.+/.test(e)?s.href=d.location.protocol+e:s.href=e),s.hostname||l(),-1===n.indexOf(s.hostname)){var c=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw c.code="dynamic_host_not_allowed",c}}var u=function(){if(null!=i)return i;if(a){var e=s.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),i=s.protocol+"//"+e}else i="";return i},g=function(e){return a&&"string"==typeof e?[u(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},m={getTurbineHost:u,decorateWithDynamicHost:g,get isDynamicEnforced(){return r}};return d&&o.onDebugChanged((function(e){e?d.dynamicHostResolver=m:delete d.dynamicHostResolver})),m},g=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(n){t.push({rule:e,event:n})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},m="debug",p=function(e,t){var n=function(){return"true"===e.getItem(m)},o=function(t){e.setItem(m,t)},i=[],r=function(e){i.push(e)};return t.outputEnabled=n(),{onDebugChanged:r,getDebugEnabled:n,setDebugEnabled:function(e){n()!==e&&(o(e),t.outputEnabled=e,i.forEach((function(t){t(e)})))}}},f="Module did not export a function.",h=function(e,t,n){return function(o,i,r){r=r||[];var a=e.getModuleExports(o.modulePath);if("function"!=typeof a)throw new Error(f);var s=e.getModuleDefinition(o.modulePath),l=o.settings||{};!o.hasTransformedFilePaths&&s.filePaths&&(n(l,s.filePaths,o.modulePath),o.hasTransformedFilePaths=!0);var c=t(l,i);return a.bind(null,c).apply(null,r)}},b=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},v={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},y="\ud83d\ude80",_=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":y,w=!1,C=function(e){if(w&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(_),e!==v.DEBUG||window.console[e]||(e=v.INFO),window.console[e].apply(window.console,t)}},k=C.bind(null,v.LOG),P=C.bind(null,v.INFO),E=C.bind(null,v.DEBUG),T=C.bind(null,v.WARN),I=C.bind(null,v.ERROR),D=function(){var e=w;w=!0,C.apply(null,Array.prototype.concat(v.WARN,Array.prototype.slice.call(arguments))),e||(w=!1)},A={log:k,info:P,debug:E,warn:T,error:I,deprecation:D,get outputEnabled(){return w},set outputEnabled(e){w=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:k.bind(null,t),info:P.bind(null,t),debug:E.bind(null,t),warn:T.bind(null,t),error:I.bind(null,t)}}},S=c,x="com.adobe.reactor.",O=function(e,t){var n=x+(t||"");return{getItem:function(t){try{return S[e].getItem(n+t)}catch(e){return null}},setItem:function(t,o){try{return S[e].setItem(n+t,o),!0}catch(e){return!1}}}},R=O,j="dataElements.",N=R("sessionStorage",j),L=R("localStorage",j),M={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},V={},G=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},z=b,F=A,U={setValue:function(e,t,n){var o;switch(t){case M.PAGEVIEW:return void(V[e]=n);case M.SESSION:return void((o=G(n))&&N.setItem(e,o));case M.VISITOR:return void((o=G(n))&&L.setItem(e,o))}},getValue:function(e,t){var n;switch(t){case M.PAGEVIEW:return V.hasOwnProperty(e)?V[e]:null;case M.SESSION:return null===(n=N.getItem(e))?n:JSON.parse(n);case M.VISITOR:return null===(n=L.getItem(e))?n:JSON.parse(n)}}},q=function(e,t,n,o){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+n+(o?"\n"+o:"")},W=function(e,t,n,o,i){return function(r,a){var s=t(r);if(!s)return o?"":void 0;var l,c,d=s.storageDuration;try{l=e.getModuleExports(s.modulePath),c=e.getModuleDefinition(s.modulePath)}catch(e){return void F.error(q(s,r,e.message,e.stack))}if("function"==typeof l){var u,g=s.settings||{};!s.hasTransformedFilePaths&&c.filePaths&&(i(g,c.filePaths,s.modulePath),s.hasTransformedFilePaths=!0);try{u=l(n(g,a),a)}catch(e){return void F.error(q(s,r,e.message,e.stack))}return d&&(null!=u?U.setValue(r,d,u):u=U.getValue(r,d)),null==u&&null!=s.defaultValue&&(u=s.defaultValue),"string"==typeof u&&(s.cleanText&&(u=z(u)),s.forceLowerCase&&(u=u.toLowerCase())),u}F.error(q(s,r,"Module did not export a function."))}},$=b,B={text:function(e){return e.textContent},cleanText:function(e){return $(e.textContent)}},H=function(e,t,n){for(var o,i=e,r=0,a=t.length;r<a;r++){if(null==i)return;var s=t[r];if(n&&"@"===s.charAt(0)){var l=s.slice(1);i=B[l](i)}else if(i.getAttribute&&(o=s.match(/^getAttribute\((.+)\)$/))){var c=o[1];i=i.getAttribute(c)}else i=i[s]}return i},Q=function(e,t,n){return function(o,i){var r;if(t(o))r=n(o,i);else{var a=o.split("."),s=a.shift();"this"===s?i&&(r=H(i.element,a,!0)):"event"===s?i&&(r=H(i,a)):"target"===s?i&&(r=H(i.target,a)):r=H(e[s],a)}return r}},J=function(e,t){return function(n){var o=n.split(".")[0];return Boolean(t(n)||"this"===o||"event"===o||"target"===o||e.hasOwnProperty(o))}},K=function(e,t,n){var o={exports:{}};return e.call(o.exports,o,o.exports,t,n),o.exports},X=K,Y=A,Z=function(){var e={},t=function(t){var n=e[t];if(!n)throw new Error("Module "+t+" not found.");return n},n=function(){Object.keys(e).forEach((function(e){try{o(e)}catch(n){var t="Error initializing module "+e+". "+n.message+(n.stack?"\n"+n.stack:"");Y.error(t)}}))},o=function(e){var n=t(e);return n.hasOwnProperty("exports")||(n.exports=X(n.definition.script,n.require,n.turbine)),n.exports};return{registerModule:function(t,n,o,i,r){var a={definition:n,extensionName:o,require:i,turbine:r};a.require=i,e[t]=a},hydrateCache:n,getModuleExports:o,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},ee=A,te=!1,ne=function(e){return function(t,n){var o=e._monitors;o&&(te||(ee.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),te=!0),o.forEach((function(e){e[t]&&e[t](n)})))}},oe=A,ie=function(e,t,n){var o,i,r,a,s=[],l=function(o,i,r){if(!e(i))return o;s.push(i);var a=t(i,r);return s.pop(),null==a&&n?"":a};return o=function(e,t){var n=/^%([^%]+)%$/.exec(e);return n?l(e,n[1],t):e.replace(/%(.+?)%/g,(function(e,n){return l(e,n,t)}))},i=function(e,t){for(var n={},o=Object.keys(e),i=0;i<o.length;i++){var r=o[i],s=e[r];n[r]=a(s,t)}return n},r=function(e,t){for(var n=[],o=0,i=e.length;o<i;o++)n.push(a(e[o],t));return n},a=function(e,t){return"string"==typeof e?o(e,t):Array.isArray(e)?r(e,t):"object"==typeof e&&null!==e?i(e,t):e},function(e,t){return s.length>10?(oe.error("Data element circular reference detected: "+s.join(" -> ")),e):a(e,t)}},re=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var n in t)e[n]=t[n]}}},ae="undefined"!=typeof window&&window.Promise||void 0!==a&&a.Promise,se=ae,le=function(e,t,n){return function(o,i,r,a){return a.then((function(){var a,s=o.delayNext;return new se((function(t,n){var i=e(o,r,[r]);if(!s)return t();var l=o.timeout,c=new se((function(e,t){a=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+l/1e3+" seconds to complete. "))}),l)}));se.race([i,c]).then(t,n)})).catch((function(e){return clearTimeout(a),e=t(e),n(o,i,e),se.reject(e)})).then((function(){clearTimeout(a)}))}))}},ce=ae,de=function(e,t,n,o,i){return function(r,a,s,l){return l.then((function(){var l;return new ce((function(t,n){var o=e(r,s,[s]),i=r.timeout,a=new ce((function(e,t){l=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+i/1e3+" seconds to complete. "))}),i)}));ce.race([o,a]).then(t,n)})).catch((function(e){return clearTimeout(l),e=t(e),o(r,a,e),ce.reject(e)})).then((function(e){if(clearTimeout(l),!n(r,e))return i(r,a),ce.reject()}))}))}},ue=ae.resolve(),ge=function(e,t,n){return function(o,i){return o.conditions&&o.conditions.forEach((function(t){ue=e(t,o,i,ue)})),o.actions&&o.actions.forEach((function(e){ue=t(e,o,i,ue)})),ue=(ue=ue.then((function(){n(o)}))).catch((function(){}))}},me=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},pe=function(e,t,n,o){return function(i,r){var a;if(i.conditions)for(var s=0;s<i.conditions.length;s++){a=i.conditions[s];try{var l=e(a,r,[r]);if(me(l))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(a,l))return n(a,i),!1}catch(e){return o(a,i,e),!1}}return!0}},fe=function(e,t){return function(n,o){e(n,o)&&t(n,o)}},he=function(e){return function(t){var n=e.getModuleDefinition(t.modulePath);return n&&n.displayName||t.modulePath}},be=function(e){return function(t){var n=t.rule,o=t.event,i=e.getModuleDefinition(o.modulePath).name;return{$type:e.getModuleExtensionName(o.modulePath)+"."+i,$rule:{id:n.id,name:n.name}}}},ve=function(e,t,n,o,i,r){return function(a,s){var l=s.rule,c=s.event;c.settings=c.settings||{};try{var d=i(s);t(c,null,[function(t){var o=n(d,t);a((function(){e(o,l)}))}])}catch(e){r.error(o(c,l,e))}}},ye=function(e,t,n,o){return function(i,r,a){var s=t(i);n.error(e(s,r.name,a)),o("ruleActionFailed",{rule:r,action:i})}},_e=function(e,t,n,o){return function(i,r,a){var s=t(i);n.error(e(s,r.name,a)),o("ruleConditionFailed",{rule:r,condition:i})}},we=function(e,t,n){return function(o,i){var r=e(o);t.log('Condition "'+r+'" for rule "'+i.name+'" was not met.'),n("ruleConditionFailed",{rule:i,condition:o})}},Ce=function(e,t){return function(n){e.log('Rule "'+n.name+'" fired.'),t("ruleCompleted",{rule:n})}},ke=function(e,t,n){return function(o,i){var r;if(o.actions)for(var a=0;a<o.actions.length;a++){r=o.actions[a];try{e(r,i,[i])}catch(e){return void t(r,o,e)}}n(o)}},Pe=function(e,t,n,o){return function(i,r){o("ruleTriggered",{rule:r}),e?n(r,i):t(r,i)}},Ee=function(e,t,n){return'Failed to execute "'+e+'" for "'+t+'" rule. '+n.message+(n.stack?"\n"+n.stack:"")},Te=function(e,t){return t&&!e.negate||!t&&e.negate},Ie=[],De=!1,Ae=function(e){De?e():Ie.push(e)},Se=function(e,t,n){e(t).forEach((function(e){n(Ae,e)})),De=!0,Ie.forEach((function(e){e()})),Ie=[]},xe=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.isPlainObject=n;var Re,je=A,Ne=l,{isPlainObject:Le}=Oe,Me=function(e,t){return Le(t=t||{})?t=Ne({},t,e):Ne(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return je.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},Ve=function(e,t){return function(n,o){var i=e[n];if(i){var r=i.modules;if(r)for(var a=Object.keys(r),s=0;s<a.length;s++){var l=a[s],c=r[l];if(c.shared&&c.name===o)return t.getModuleExports(l)}}}},Ge=function(e,t){return function(){return t?e(t):{}}},ze=function(e,t,n){return function(o){if(n){var i=o.split(".");i.splice(i.length-1||1,0,"min"),o=i.join(".")}return e(t)+o}},Fe=".js",Ue=function(e){return e.substr(0,e.lastIndexOf("/"))},qe=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},We=function(e,t){qe(t,Fe)||(t+=Fe);var n=t.split("/"),o=Ue(e).split("/");return n.forEach((function(e){e&&"."!==e&&(".."===e?o.length&&o.pop():o.push(e))})),o.join("/")},$e={exports:{}};Re=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(o){function i(){}function r(t,n,r){if("undefined"!=typeof document){"number"==typeof(r=e({path:"/"},i.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=o.write?o.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in r)r[l]&&(s+="; "+l,!0!==r[l]&&(s+="="+r[l].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var i={},r=document.cookie?document.cookie.split("; "):[],a=0;a<r.length;a++){var s=r[a].split("="),l=s.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(s[0]);if(l=(o.read||o)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(i[c]=l,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=r,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){r(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}return n((function(){}))},$e.exports=Re();var Be=$e.exports,He={get:Be.get,set:Be.set,remove:Be.remove},Qe=ae,Je=function(e,t){return new Qe((function(n,o){t.onload=function(){n(t)},t.onerror=function(){o(new Error("Failed to load script "+e))}}))},Ke=function(e){var t={};if(!e||"string"!=typeof e)return t;var n=e.trim().replace(/^[?#&]/,""),o=new URLSearchParams(n),i=o.keys();do{var r=i.next(),a=r.value;if(a){var s=o.getAll(a);1===s.length?t[a]=s[0]:t[a]=s}}while(!1===r.done);return t},Xe=function(e){var t="{{space}}",n=new URLSearchParams;return Object.keys(e).forEach((function(o){var i=e[o];"string"==typeof e[o]?i=i.replace(/ /g,t):["object","undefined"].includes(typeof i)&&!Array.isArray(i)&&(i=""),Array.isArray(i)?i.forEach((function(e){n.append(o,e)})):n.append(o,i)})),n.toString().replace(new RegExp(encodeURIComponent(t),"g"),"%20")},Ye="@adobe/reactor-",Ze={cookie:He,document:s,"load-script":function(e){var t=document.createElement("script");t.src=e,t.async=!0;var n=Je(e,t);return document.getElementsByTagName("head")[0].appendChild(t),n},"object-assign":l,promise:ae,"query-string":{parse:function(e){return Ke(e)},stringify:function(e){return Xe(e)}},window:c},et=function(e){return function(t){if(0===t.indexOf(Ye)){var n=t.substr(Ye.length),o=Ze[n];if(o)return o}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},tt=Ve,nt=Ge,ot=ze,it=A,rt=We,at=et,st=function(e,t,n,o,i,r,a){var s=e.extensions,l=e.buildInfo,c=e.environment,d=e.property.settings;if(s){var u=tt(s,t);Object.keys(s).forEach((function(g){var m=s[g],p=m.settings;Array.isArray(m.filePaths)&&(p=r(p,m.filePaths));var f=nt(o,p);if(m.modules){var h=it.createPrefixedLogger(m.displayName),b=ot(a,m.hostedLibFilesBaseUrl,l.minified),v={buildInfo:l,environment:c,property:{name:e.property.name,id:e.property.id},getDataElementValue:i,getExtensionSettings:f,getHostedLibFileUrl:b,getSharedModule:u,logger:h,propertySettings:d,replaceTokens:o,onDebugChanged:n.onDebugChanged,get debugEnabled(){return n.getDebugEnabled()}};Object.keys(m.modules).forEach((function(e){var n=m.modules[e],o=at((function(n){var o=rt(e,n);return t.getModuleExports(o)}));t.registerModule(e,n,g,o,v)}))}})),t.hydrateCache()}return t},lt=He,ct=A,dt=function(e,t,n,o,i){var r=ct.createPrefixedLogger("Custom Script");e.track=function(e){ct.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=r,e.notify=function(e,t){switch(ct.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:r.info(e);break;case 4:r.warn(e);break;case 5:r.error(e);break;default:r.log(e)}},e.getVar=o,e.setVar=i,e.setCookie=function(e,t,n){var o="",i={};n&&(o=", { expires: "+n+" }",i.expires=n);var r='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+o+").";ct.deprecation(r),lt.set(e,t,i)},e.readCookie=function(e){return ct.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),lt.get(e)},e.removeCookie=function(e){ct.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),lt.remove(e)},e.cookie=lt,e.pageBottom=function(){},e.setDebug=n;var a=!1;Object.defineProperty(e,"_container",{get:function(){return a||(ct.warn("_satellite._container may change at any time and should only be used for debugging."),a=!0),t}})},{isPlainObject:ut}=Oe,gt=s,mt=l,pt=u,ft=g,ht=p,bt=h,vt=W,yt=Q,_t=J,wt=Z,Ct=ne,kt=ie,Pt=re,Et=le,Tt=de,It=ge,Dt=pe,At=fe,St=he,xt=be,Ot=ve,Rt=ye,jt=_e,Nt=we,Lt=Ce,Mt=ke,Vt=Pe,Gt=Ee,zt=Te,Ft=Se,Ut=xe,qt=Me,Wt=O,$t=st,Bt=dt,Ht=function(e,t){return function(n,o,i){return e&&ut(n)&&Object.keys(n).length&&Array.isArray(o)&&o.length?(o.forEach((function(e){Boolean(null!=i&&/^core\/.*actions.*\/customCode\.js$/.test(i))&&"source"===e&&!n.isExternal||r(e.split("."),n,t)})),n):n}},Qt=A,Jt=window._satellite;if(Jt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var Kt=Jt.container;delete Jt.container;var Xt=mt({},Kt.buildInfo);Object.defineProperty(Xt,"environment",{get:function(){return Qt.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),Kt.environment.stage}}),Kt.buildInfo=Xt;var Yt,Zt=ht(Wt("localStorage"),Qt),en="";gt.currentScript&&gt.currentScript.getAttribute("src")&&(en=gt.currentScript.getAttribute("src"));try{Yt=pt(en,Boolean(Kt.company.dynamicCdnEnabled),Kt.company.cdnAllowList,Zt)}catch(e){throw Qt.warn("Please review the following error:"),e}var tn,nn=Ht(Yt.isDynamicEnforced,Yt.decorateWithDynamicHost),on=wt(),rn=Kt.property.settings.undefinedVarsReturnEmpty,an=Kt.property.settings.ruleComponentSequencingEnabled,sn=Kt.dataElements||{},ln=function(e){return sn[e]},cn=function(){return tn.apply(null,arguments)},dn=vt(on,ln,cn,rn,nn),un={},gn=Pt(un),mn=_t(un,ln),pn=yt(un,ln,dn);tn=kt(mn,pn,rn),Bt(Jt,Kt,Zt.setDebugEnabled,pn,gn),$t(Kt,on,Zt,tn,dn,nn,Yt.decorateWithDynamicHost);var fn=Ct(Jt),hn=bt(on,tn,nn),bn=St(on),vn=Nt(bn,Qt,fn),yn=jt(Gt,bn,Qt,fn),_n=Rt(Gt,bn,Qt,fn),wn=Lt(Qt,fn),Cn=Ot(Vt(an,At(Dt(hn,zt,vn,yn),Mt(hn,_n,wn)),It(Tt(hn,Ut,zt,yn,vn),Et(hn,Ut,_n),wn),fn),hn,qt,Gt,xt(on),Qt);Ft(ft,Kt.rules||[],Cn)}return e(Jt)}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();